
AVRASM ver. 2.1.2  fulldemo.asm Wed Jun 07 12:15:56 2006

fulldemo.asm(939): Including file 'fulldemo.vec'
fulldemo.asm(940): Including file 'fulldemo.inc'
fulldemo.inc(2): warning: Register r4 already defined by the .DEF directive
fulldemo.asm(940): 'fulldemo.inc' included form here
fulldemo.inc(3): warning: Register r6 already defined by the .DEF directive
fulldemo.asm(940): 'fulldemo.inc' included form here
fulldemo.inc(4): warning: Register r8 already defined by the .DEF directive
fulldemo.asm(940): 'fulldemo.inc' included form here
fulldemo.inc(5): warning: Register r9 already defined by the .DEF directive
fulldemo.asm(940): 'fulldemo.inc' included form here
fulldemo.inc(6): warning: Register r11 already defined by the .DEF directive
fulldemo.asm(940): 'fulldemo.inc' included form here
fulldemo.inc(7): warning: Register r12 already defined by the .DEF directive
fulldemo.asm(940): 'fulldemo.inc' included form here
fulldemo.inc(8): warning: Register r14 already defined by the .DEF directive
fulldemo.asm(940): 'fulldemo.inc' included form here
                 
                 
                 ;(C) Copyright 1998-2005 Pavel Haiduc, HP InfoTech s.r.l.
                 ;http://www.hpinfotech.com
                 
                 ;Chip type              : ATmega128
                 ;Program type           : Application
                 ;Clock frequency        : 8,000000 MHz
                 ;Memory model           : Small
                 ;Optimize for           : Size
                 ;(s)printf features     : float, width, precision
                 ;(s)scanf features      : long, width
                 ;External SRAM size     : 0
                 ;Data Stack size        : 1024 byte(s)
                 ;Heap size              : 2268 byte(s)
                 ;Promote char to int    : No
                 ;char is unsigned       : Yes
                 ;8 bit enums            : Yes
                 ;Word align FLASH struct: Yes
                 ;Enhanced core instructions    : On
                 ;Automatic register allocation : On
                 
                 	#pragma AVRPART ADMIN PART_NAME ATmega128
                 	#pragma AVRPART MEMORY PROG_FLASH 131072
                 	#pragma AVRPART MEMORY EEPROM 4096
                 	#pragma AVRPART MEMORY INT_SRAM SIZE 4096
                 	#pragma AVRPART MEMORY INT_SRAM START_ADDR 0x100
                 
                 	.EQU UDRE=0x5
                 	.EQU RXC=0x7
                 	.EQU USR=0xB
                 	.EQU UDR=0xC
                 	.EQU SPSR=0xE
                 	.EQU SPDR=0xF
                 	.EQU EERE=0x0
                 	.EQU EEWE=0x1
                 	.EQU EEMWE=0x2
                 	.EQU EECR=0x1C
                 	.EQU EEDR=0x1D
                 	.EQU EEARL=0x1E
                 	.EQU EEARH=0x1F
                 	.EQU WDTCR=0x21
                 	.EQU MCUCR=0x35
                 	.EQU RAMPZ=0x3B
                 	.EQU SPL=0x3D
                 	.EQU SPH=0x3E
                 	.EQU SREG=0x3F
                 	.EQU XMCRA=0x6D
                 	.EQU XMCRB=0x6C
                 
                 	.DEF R0X0=R0
                 	.DEF R0X1=R1
                 	.DEF R0X2=R2
                 	.DEF R0X3=R3
                 	.DEF R0X4=R4
                 	.DEF R0X5=R5
                 	.DEF R0X6=R6
                 	.DEF R0X7=R7
                 	.DEF R0X8=R8
                 	.DEF R0X9=R9
                 	.DEF R0XA=R10
                 	.DEF R0XB=R11
                 	.DEF R0XC=R12
                 	.DEF R0XD=R13
                 	.DEF R0XE=R14
                 	.DEF R0XF=R15
                 	.DEF R0X10=R16
                 	.DEF R0X11=R17
                 	.DEF R0X12=R18
                 	.DEF R0X13=R19
                 	.DEF R0X14=R20
                 	.DEF R0X15=R21
                 	.DEF R0X16=R22
                 	.DEF R0X17=R23
                 	.DEF R0X18=R24
                 	.DEF R0X19=R25
                 	.DEF R0X1A=R26
                 	.DEF R0X1B=R27
                 	.DEF R0X1C=R28
                 	.DEF R0X1D=R29
                 	.DEF R0X1E=R30
                 	.DEF R0X1F=R31
                 
                 	.EQU __se_bit=0x20
                 	.EQU __sm_mask=0x1C
                 	.EQU __sm_adc_noise_red=0x08
                 	.EQU __sm_powerdown=0x10
                 	.EQU __sm_powersave=0x18
                 	.EQU __sm_standby=0x14
                 	.EQU __sm_ext_standby=0x1C
                 
                 	.MACRO __CPD1N
                 	CPI  R30,LOW(@0)
                 	LDI  R26,HIGH(@0)
                 	CPC  R31,R26
                 	LDI  R26,BYTE3(@0)
                 	CPC  R22,R26
                 	LDI  R26,BYTE4(@0)
                 	CPC  R23,R26
                 	.ENDM
                 
                 	.MACRO __CPD2N
                 	CPI  R26,LOW(@0)
                 	LDI  R30,HIGH(@0)
                 	CPC  R27,R30
                 	LDI  R30,BYTE3(@0)
                 	CPC  R24,R30
                 	LDI  R30,BYTE4(@0)
                 	CPC  R25,R30
                 	.ENDM
                 
                 	.MACRO __CPWRR
                 	CP   R@0,R@2
                 	CPC  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __CPWRN
                 	CPI  R@0,LOW(@2)
                 	LDI  R30,HIGH(@2)
                 	CPC  R@1,R30
                 	.ENDM
                 
                 	.MACRO __ADDB1MN
                 	SUBI R30,LOW(-@0-(@1))
                 	.ENDM
                 	.MACRO __ADDB2MN
                 	SUBI R26,LOW(-@0-(@1))
                 	.ENDM
                 	.MACRO __ADDW1MN
                 	SUBI R30,LOW(-@0-(@1))
                 	SBCI R31,HIGH(-@0-(@1))
                 	.ENDM
                 	.MACRO __ADDW2MN
                 	SUBI R26,LOW(-@0-(@1))
                 	SBCI R27,HIGH(-@0-(@1))
                 	.ENDM
                 	.MACRO __ADDW1FN
                 	SUBI R30,LOW(-2*@0-(@1))
                 	SBCI R31,HIGH(-2*@0-(@1))
                 	.ENDM
                 	.MACRO __ADDD1FN
                 	SUBI R30,LOW(-2*@0-(@1))
                 	SBCI R31,HIGH(-2*@0-(@1))
                 	SBCI R22,BYTE3(-2*@0-(@1))
                 	.ENDM
                 	.MACRO __ADDD1N
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	SBCI R22,BYTE3(-@0)
                 	SBCI R23,BYTE4(-@0)
                 	.ENDM
                 
                 	.MACRO __ADDD2N
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	SBCI R24,BYTE3(-@0)
                 	SBCI R25,BYTE4(-@0)
                 	.ENDM
                 
                 	.MACRO __SUBD1N
                 	SUBI R30,LOW(@0)
                 	SBCI R31,HIGH(@0)
                 	SBCI R22,BYTE3(@0)
                 	SBCI R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __SUBD2N
                 	SUBI R26,LOW(@0)
                 	SBCI R27,HIGH(@0)
                 	SBCI R24,BYTE3(@0)
                 	SBCI R25,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __ANDD1N
                 	ANDI R30,LOW(@0)
                 	ANDI R31,HIGH(@0)
                 	ANDI R22,BYTE3(@0)
                 	ANDI R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __ORD1N
                 	ORI  R30,LOW(@0)
                 	ORI  R31,HIGH(@0)
                 	ORI  R22,BYTE3(@0)
                 	ORI  R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __DELAY_USB
                 	LDI  R24,LOW(@0)
                 __DELAY_USB_LOOP:
                 	DEC  R24
                 	BRNE __DELAY_USB_LOOP
                 	.ENDM
                 
                 	.MACRO __DELAY_USW
                 	LDI  R24,LOW(@0)
                 	LDI  R25,HIGH(@0)
                 __DELAY_USW_LOOP:
                 	SBIW R24,1
                 	BRNE __DELAY_USW_LOOP
                 	.ENDM
                 
                 	.MACRO __CLRD1S
                 	LDI  R30,0
                 	STD  Y+@0,R30
                 	STD  Y+@0+1,R30
                 	STD  Y+@0+2,R30
                 	STD  Y+@0+3,R30
                 	.ENDM
                 
                 	.MACRO __GETD1S
                 	LDD  R30,Y+@0
                 	LDD  R31,Y+@0+1
                 	LDD  R22,Y+@0+2
                 	LDD  R23,Y+@0+3
                 	.ENDM
                 
                 	.MACRO __PUTD1S
                 	STD  Y+@0,R30
                 	STD  Y+@0+1,R31
                 	STD  Y+@0+2,R22
                 	STD  Y+@0+3,R23
                 	.ENDM
                 
                 	.MACRO __PUTD2S
                 	STD  Y+@0,R26
                 	STD  Y+@0+1,R27
                 	STD  Y+@0+2,R24
                 	STD  Y+@0+3,R25
                 	.ENDM
                 
                 	.MACRO __POINTB1MN
                 	LDI  R30,LOW(@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTW1MN
                 	LDI  R30,LOW(@0+@1)
                 	LDI  R31,HIGH(@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTW1FN
                 	LDI  R30,LOW(2*@0+@1)
                 	LDI  R31,HIGH(2*@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTD1FN
                 	LDI  R30,LOW(2*@0+@1)
                 	LDI  R31,HIGH(2*@0+@1)
                 	LDI  R22,BYTE3(2*@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTB2MN
                 	LDI  R26,LOW(@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTW2MN
                 	LDI  R26,LOW(@0+@1)
                 	LDI  R27,HIGH(@0+@1)
                 	.ENDM
                 
                 	.MACRO __POINTBRM
                 	LDI  R@0,LOW(@1)
                 	.ENDM
                 
                 	.MACRO __POINTWRM
                 	LDI  R@0,LOW(@2)
                 	LDI  R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __POINTBRMN
                 	LDI  R@0,LOW(@1+@2)
                 	.ENDM
                 
                 	.MACRO __POINTWRMN
                 	LDI  R@0,LOW(@2+@3)
                 	LDI  R@1,HIGH(@2+@3)
                 	.ENDM
                 
                 	.MACRO __POINTWRFN
                 	LDI  R@0,LOW(@2*2+@3)
                 	LDI  R@1,HIGH(@2*2+@3)
                 	.ENDM
                 
                 	.MACRO __GETD1N
                 	LDI  R30,LOW(@0)
                 	LDI  R31,HIGH(@0)
                 	LDI  R22,BYTE3(@0)
                 	LDI  R23,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __GETD2N
                 	LDI  R26,LOW(@0)
                 	LDI  R27,HIGH(@0)
                 	LDI  R24,BYTE3(@0)
                 	LDI  R25,BYTE4(@0)
                 	.ENDM
                 
                 	.MACRO __GETD2S
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	LDD  R24,Y+@0+2
                 	LDD  R25,Y+@0+3
                 	.ENDM
                 
                 	.MACRO __GETB1MN
                 	LDS  R30,@0+@1
                 	.ENDM
                 
                 	.MACRO __GETB1HMN
                 	LDS  R31,@0+@1
                 	.ENDM
                 
                 	.MACRO __GETW1MN
                 	LDS  R30,@0+@1
                 	LDS  R31,@0+@1+1
                 	.ENDM
                 
                 	.MACRO __GETD1MN
                 	LDS  R30,@0+@1
                 	LDS  R31,@0+@1+1
                 	LDS  R22,@0+@1+2
                 	LDS  R23,@0+@1+3
                 	.ENDM
                 
                 	.MACRO __GETBRMN
                 	LDS  R@0,@1+@2
                 	.ENDM
                 
                 	.MACRO __GETWRMN
                 	LDS  R@0,@2+@3
                 	LDS  R@1,@2+@3+1
                 	.ENDM
                 
                 	.MACRO __GETWRZ
                 	LDD  R@0,Z+@2
                 	LDD  R@1,Z+@2+1
                 	.ENDM
                 
                 	.MACRO __GETD2Z
                 	LDD  R26,Z+@0
                 	LDD  R27,Z+@0+1
                 	LDD  R24,Z+@0+2
                 	LDD  R25,Z+@0+3
                 	.ENDM
                 
                 	.MACRO __GETB2MN
                 	LDS  R26,@0+@1
                 	.ENDM
                 
                 	.MACRO __GETW2MN
                 	LDS  R26,@0+@1
                 	LDS  R27,@0+@1+1
                 	.ENDM
                 
                 	.MACRO __GETD2MN
                 	LDS  R26,@0+@1
                 	LDS  R27,@0+@1+1
                 	LDS  R24,@0+@1+2
                 	LDS  R25,@0+@1+3
                 	.ENDM
                 
                 	.MACRO __PUTB1MN
                 	STS  @0+@1,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1MN
                 	STS  @0+@1,R30
                 	STS  @0+@1+1,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1MN
                 	STS  @0+@1,R30
                 	STS  @0+@1+1,R31
                 	STS  @0+@1+2,R22
                 	STS  @0+@1+3,R23
                 	.ENDM
                 
                 	.MACRO __PUTDZ2
                 	STD  Z+@0,R26
                 	STD  Z+@0+1,R27
                 	STD  Z+@0+2,R24
                 	STD  Z+@0+3,R25
                 	.ENDM
                 
                 	.MACRO __PUTBMRN
                 	STS  @0+@1,R@2
                 	.ENDM
                 
                 	.MACRO __PUTWMRN
                 	STS  @0+@1,R@2
                 	STS  @0+@1+1,R@3
                 	.ENDM
                 
                 	.MACRO __PUTBZR
                 	STD  Z+@1,R@0
                 	.ENDM
                 
                 	.MACRO __PUTWZR
                 	STD  Z+@2,R@0
                 	STD  Z+@2+1,R@1
                 	.ENDM
                 
                 	.MACRO __GETW1R
                 	MOV  R30,R@0
                 	MOV  R31,R@1
                 	.ENDM
                 
                 	.MACRO __GETW2R
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	.ENDM
                 
                 	.MACRO __GETWRN
                 	LDI  R@0,LOW(@2)
                 	LDI  R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __PUTW1R
                 	MOV  R@0,R30
                 	MOV  R@1,R31
                 	.ENDM
                 
                 	.MACRO __PUTW2R
                 	MOV  R@0,R26
                 	MOV  R@1,R27
                 	.ENDM
                 
                 	.MACRO __ADDWRN
                 	SUBI R@0,LOW(-@2)
                 	SBCI R@1,HIGH(-@2)
                 	.ENDM
                 
                 	.MACRO __ADDWRR
                 	ADD  R@0,R@2
                 	ADC  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __SUBWRN
                 	SUBI R@0,LOW(@2)
                 	SBCI R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __SUBWRR
                 	SUB  R@0,R@2
                 	SBC  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __ANDWRN
                 	ANDI R@0,LOW(@2)
                 	ANDI R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __ANDWRR
                 	AND  R@0,R@2
                 	AND  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __ORWRN
                 	ORI  R@0,LOW(@2)
                 	ORI  R@1,HIGH(@2)
                 	.ENDM
                 
                 	.MACRO __ORWRR
                 	OR   R@0,R@2
                 	OR   R@1,R@3
                 	.ENDM
                 
                 	.MACRO __EORWRR
                 	EOR  R@0,R@2
                 	EOR  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __GETWRS
                 	LDD  R@0,Y+@2
                 	LDD  R@1,Y+@2+1
                 	.ENDM
                 
                 	.MACRO __PUTWSR
                 	STD  Y+@2,R@0
                 	STD  Y+@2+1,R@1
                 	.ENDM
                 
                 	.MACRO __MOVEWRR
                 	MOV  R@0,R@2
                 	MOV  R@1,R@3
                 	.ENDM
                 
                 	.MACRO __INWR
                 	IN   R@0,@2
                 	IN   R@1,@2+1
                 	.ENDM
                 
                 	.MACRO __OUTWR
                 	OUT  @2+1,R@1
                 	OUT  @2,R@0
                 	.ENDM
                 
                 	.MACRO __CALL1MN
                 	LDS  R30,@0+@1
                 	LDS  R31,@0+@1+1
                 	ICALL
                 	.ENDM
                 
                 	.MACRO __CALL1FN
                 	LDI  R30,LOW(2*@0+@1)
                 	LDI  R31,HIGH(2*@0+@1)
                 	CALL __GETW1PF
                 	ICALL
                 	.ENDM
                 
                 	.MACRO __CALL2EN
                 	LDI  R26,LOW(@0+@1)
                 	LDI  R27,HIGH(@0+@1)
                 	CALL __EEPROMRDW
                 	ICALL
                 	.ENDM
                 
                 	.MACRO __GETW1STACK
                 	IN   R26,SPL
                 	IN   R27,SPH
                 	ADIW R26,@0+1
                 	LD   R30,X+
                 	LD   R31,X
                 	.ENDM
                 
                 	.MACRO __NBST
                 	BST  R@0,@1
                 	IN   R30,SREG
                 	LDI  R31,0x40
                 	EOR  R30,R31
                 	OUT  SREG,R30
                 	.ENDM
                 
                 
                 	.MACRO __PUTB1SN
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SN
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SN
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1SNS
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	ADIW R26,@1
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SNS
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	ADIW R26,@1
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SNS
                 	LDD  R26,Y+@0
                 	LDD  R27,Y+@0+1
                 	ADIW R26,@1
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1PMN
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1PMN
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1PMN
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1PMNS
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	ADIW R26,@1
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1PMNS
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	ADIW R26,@1
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1PMNS
                 	LDS  R26,@0
                 	LDS  R27,@0+1
                 	ADIW R26,@1
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RN
                 	MOVW R26,R@0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RN
                 	MOVW R26,R@0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RN
                 	MOVW R26,R@0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RNS
                 	MOVW R26,R@0
                 	ADIW R26,@1
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RNS
                 	MOVW R26,R@0
                 	ADIW R26,@1
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RNS
                 	MOVW R26,R@0
                 	ADIW R26,@1
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RON
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	SUBI R26,LOW(-@2)
                 	SBCI R27,HIGH(-@2)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RON
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	SUBI R26,LOW(-@2)
                 	SBCI R27,HIGH(-@2)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RON
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	SUBI R26,LOW(-@2)
                 	SBCI R27,HIGH(-@2)
                 	CALL __PUTDP1
                 	.ENDM
                 
                 	.MACRO __PUTB1RONS
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	ADIW R26,@2
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1RONS
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	ADIW R26,@2
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1RONS
                 	MOV  R26,R@0
                 	MOV  R27,R@1
                 	ADIW R26,@2
                 	CALL __PUTDP1
                 	.ENDM
                 
                 
                 	.MACRO __GETB1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R30,Z
                 	.ENDM
                 
                 	.MACRO __GETB1HSX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R31,Z
                 	.ENDM
                 
                 	.MACRO __GETW1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R0,Z+
                 	LD   R31,Z
                 	MOV  R30,R0
                 	.ENDM
                 
                 	.MACRO __GETD1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R0,Z+
                 	LD   R1,Z+
                 	LD   R22,Z+
                 	LD   R23,Z
                 	MOVW R30,R0
                 	.ENDM
                 
                 	.MACRO __GETB2SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R26,X
                 	.ENDM
                 
                 	.MACRO __GETW2SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	.ENDM
                 
                 	.MACRO __GETD2SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R1,X+
                 	LD   R24,X+
                 	LD   R25,X
                 	MOVW R26,R0
                 	.ENDM
                 
                 	.MACRO __GETBRSX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@1)
                 	SBCI R31,HIGH(-@1)
                 	LD   R@0,Z
                 	.ENDM
                 
                 	.MACRO __GETWRSX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@2)
                 	SBCI R31,HIGH(-@2)
                 	LD   R@0,Z+
                 	LD   R@1,Z
                 	.ENDM
                 
                 	.MACRO __LSLW8SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	LD   R31,Z
                 	CLR  R30
                 	.ENDM
                 
                 	.MACRO __PUTB1SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	ST   X+,R30
                 	ST   X+,R31
                 	ST   X+,R22
                 	ST   X,R23
                 	.ENDM
                 
                 	.MACRO __CLRW1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	CLR  R0
                 	ST   Z+,R0
                 	ST   Z,R0
                 	.ENDM
                 
                 	.MACRO __CLRD1SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	CLR  R0
                 	ST   Z+,R0
                 	ST   Z+,R0
                 	ST   Z+,R0
                 	ST   Z,R0
                 	.ENDM
                 
                 	.MACRO __PUTB2SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z,R26
                 	.ENDM
                 
                 	.MACRO __PUTW2SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z+,R26
                 	ST   Z,R27
                 	.ENDM
                 
                 	.MACRO __PUTD2SX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z+,R26
                 	ST   Z+,R27
                 	ST   Z+,R24
                 	ST   Z,R25
                 	.ENDM
                 
                 	.MACRO __PUTBSRX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@0)
                 	SBCI R31,HIGH(-@0)
                 	ST   Z,R@1
                 	.ENDM
                 
                 	.MACRO __PUTWSRX
                 	MOVW R30,R28
                 	SUBI R30,LOW(-@2)
                 	SBCI R31,HIGH(-@2)
                 	ST   Z+,R@0
                 	ST   Z,R@1
                 	.ENDM
                 
                 	.MACRO __PUTB1SNX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X,R30
                 	.ENDM
                 
                 	.MACRO __PUTW1SNX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X,R31
                 	.ENDM
                 
                 	.MACRO __PUTD1SNX
                 	MOVW R26,R28
                 	SUBI R26,LOW(-@0)
                 	SBCI R27,HIGH(-@0)
                 	LD   R0,X+
                 	LD   R27,X
                 	MOV  R26,R0
                 	SUBI R26,LOW(-@1)
                 	SBCI R27,HIGH(-@1)
                 	ST   X+,R30
                 	ST   X+,R31
                 	ST   X+,R22
                 	ST   X,R23
                 	.ENDM
                 
                 	.MACRO __MULBRR
                 	MULS R@0,R@1
                 	MOV  R30,R0
                 	.ENDM
                 
                 	.MACRO __MULBRRU
                 	MUL  R@0,R@1
                 	MOV  R30,R0
                 	.ENDM
                 
                 	.CSEG
                 	.ORG 0
                 
                 	.INCLUDE "fulldemo.vec"
                 
                 ;INTERRUPT VECTORS
000000 940c 05ff 	JMP  __RESET
000002 940c 0000 	JMP  0x00
000004 940c 0000 	JMP  0x00
000006 940c 0000 	JMP  0x00
000008 940c 0000 	JMP  0x00
00000a 940c 0000 	JMP  0x00
00000c 940c 0000 	JMP  0x00
00000e 940c 0000 	JMP  0x00
000010 940c 0000 	JMP  0x00
000012 940c 0000 	JMP  0x00
000014 940c 0000 	JMP  0x00
000016 940c 0000 	JMP  0x00
000018 940c 0000 	JMP  0x00
00001a 940c 0000 	JMP  0x00
00001c 940c 0000 	JMP  0x00
00001e 940c 0000 	JMP  0x00
000020 940c 0000 	JMP  0x00
000022 940c 0000 	JMP  0x00
000024 940c 0000 	JMP  0x00
000026 940c 0000 	JMP  0x00
000028 940c 0000 	JMP  0x00
00002a 940c 0000 	JMP  0x00
00002c 940c 0000 	JMP  0x00
00002e 940c 0000 	JMP  0x00
000030 940c 0000 	JMP  0x00
000032 940c 0000 	JMP  0x00
000034 940c 0000 	JMP  0x00
000036 940c 0000 	JMP  0x00
000038 940c 0000 	JMP  0x00
00003a 940c 0000 	JMP  0x00
00003c 940c 0000 	JMP  0x00
00003e 940c 0000 	JMP  0x00
000040 940c 0000 	JMP  0x00
000042 940c 0000 	JMP  0x00
000044 940c 0000 	JMP  0x00
                 
                 	.INCLUDE "fulldemo.inc"
                 
                 	.DEF _PT_SecStart=R4
                 	.DEF _BPB_BytsPerSec=R6
                 	.DEF _BPB_SecPerClus=R8
                 	.DEF _BPB_RsvdSecCnt=R9
                 	.DEF _BPB_NumFATs=R11
                 	.DEF _BPB_RootEntCnt=R12
                 	.DEF _BPB_FATType=R14
                 _sd_cmd:
000046 0000      	.DB  0x0,0x0
000047 0040      	.DB  0x40,0x0
000048 0000      	.DB  0x0,0x0
000049 0000      	.DB  0x0,0x0
00004a 0001      	.DB  0x1,0x0
00004b 0041      	.DB  0x41,0x0
00004c 0000      	.DB  0x0,0x0
00004d 0000      	.DB  0x0,0x0
00004e 0002      	.DB  0x2,0x0
00004f 0049      	.DB  0x49,0x0
000050 0000      	.DB  0x0,0x0
000051 0000      	.DB  0x0,0x0
000052 0003      	.DB  0x3,0x0
000053 004a      	.DB  0x4A,0x0
000054 0000      	.DB  0x0,0x0
000055 0000      	.DB  0x0,0x0
000056 0004      	.DB  0x4,0x0
000057 004c      	.DB  0x4C,0x0
000058 0000      	.DB  0x0,0x0
000059 0000      	.DB  0x0,0x0
00005a 0005      	.DB  0x5,0x0
00005b 004d      	.DB  0x4D,0x0
00005c 0000      	.DB  0x0,0x0
00005d 0002      	.DB  0x2,0x0
00005e 0006      	.DB  0x6,0x0
00005f 0050      	.DB  0x50,0x0
000060 0001      	.DB  0x1,0x0
000061 0000      	.DB  0x0,0x0
000062 0007      	.DB  0x7,0x0
000063 0051      	.DB  0x51,0x0
000064 0002      	.DB  0x2,0x0
000065 0000      	.DB  0x0,0x0
000066 0008      	.DB  0x8,0x0
000067 0052      	.DB  0x52,0x0
000068 0002      	.DB  0x2,0x0
000069 0000      	.DB  0x0,0x0
00006a 0009      	.DB  0x9,0x0
00006b 0058      	.DB  0x58,0x0
00006c 0002      	.DB  0x2,0x0
00006d 0000      	.DB  0x0,0x0
00006e 000a      	.DB  0xA,0x0
00006f 0059      	.DB  0x59,0x0
000070 0002      	.DB  0x2,0x0
000071 0000      	.DB  0x0,0x0
000072 000b      	.DB  0xB,0x0
000073 005b      	.DB  0x5B,0x0
000074 0000      	.DB  0x0,0x0
000075 0000      	.DB  0x0,0x0
000076 000c      	.DB  0xC,0x0
000077 005c      	.DB  0x5C,0x0
000078 0002      	.DB  0x2,0x0
000079 0001      	.DB  0x1,0x0
00007a 000d      	.DB  0xD,0x0
00007b 005d      	.DB  0x5D,0x0
00007c 0002      	.DB  0x2,0x0
00007d 0001      	.DB  0x1,0x0
00007e 000e      	.DB  0xE,0x0
00007f 005e      	.DB  0x5E,0x0
000080 0002      	.DB  0x2,0x0
000081 0000      	.DB  0x0,0x0
000082 000f      	.DB  0xF,0x0
000083 0060      	.DB  0x60,0x0
000084 0002      	.DB  0x2,0x0
000085 0000      	.DB  0x0,0x0
000086 0010      	.DB  0x10,0x0
000087 0061      	.DB  0x61,0x0
000088 0002      	.DB  0x2,0x0
000089 0000      	.DB  0x0,0x0
00008a 0011      	.DB  0x11,0x0
00008b 0062      	.DB  0x62,0x0
00008c 0002      	.DB  0x2,0x0
00008d 0000      	.DB  0x0,0x0
00008e 0012      	.DB  0x12,0x0
00008f 0063      	.DB  0x63,0x0
000090 0002      	.DB  0x2,0x0
000091 0000      	.DB  0x0,0x0
000092 0013      	.DB  0x13,0x0
000093 0064      	.DB  0x64,0x0
000094 0002      	.DB  0x2,0x0
000095 0000      	.DB  0x0,0x0
000096 0014      	.DB  0x14,0x0
000097 0065      	.DB  0x65,0x0
000098 0002      	.DB  0x2,0x0
000099 0000      	.DB  0x0,0x0
00009a 0015      	.DB  0x15,0x0
00009b 0066      	.DB  0x66,0x0
00009c 0003      	.DB  0x3,0x0
00009d 0001      	.DB  0x1,0x0
00009e 0016      	.DB  0x16,0x0
00009f 006a      	.DB  0x6A,0x0
0000a0 0003      	.DB  0x3,0x0
0000a1 0001      	.DB  0x1,0x0
0000a2 0017      	.DB  0x17,0x0
0000a3 007a      	.DB  0x7A,0x0
0000a4 0000      	.DB  0x0,0x0
0000a5 0003      	.DB  0x3,0x0
0000a6 0018      	.DB  0x18,0x0
0000a7 007b      	.DB  0x7B,0x0
0000a8 0003      	.DB  0x3,0x0
0000a9 0000      	.DB  0x0,0x0
0000aa 0019      	.DB  0x19,0x0
0000ab 0069      	.DB  0x69,0x0
0000ac 0000      	.DB  0x0,0x0
0000ad 0000      	.DB  0x0,0x0
                 __fround_G2:
0000ae e148
0000af 3efa
0000b0 cccd
0000b1 3d4c      	.DB  0x48,0xE1,0xFA,0x3E,0xCD,0xCC,0x4C,0x3D
0000b2 d70a
0000b3 3ba3
0000b4 126f
0000b5 3a03      	.DB  0xA,0xD7,0xA3,0x3B,0x6F,0x12,0x3,0x3A
0000b6 b717
0000b7 3851
0000b8 c5ac
0000b9 36a7      	.DB  0x17,0xB7,0x51,0x38,0xAC,0xC5,0xA7,0x36
                 _0:
0000ba 0d0a
0000bb 4552
0000bc 4441
0000bd 455f      	.DB  0xA,0xD,0x52,0x45,0x41,0x44,0x5F,0x45
0000be 5252
0000bf 0a00
0000c0 420d
0000c1 6f6f      	.DB  0x52,0x52,0x0,0xA,0xD,0x42,0x6F,0x6F
0000c2 5f74
0000c3 6553
0000c4 3a63
0000c5 5b20      	.DB  0x74,0x5F,0x53,0x65,0x63,0x3A,0x20,0x5B
0000c6 7830
0000c7 5825
0000c8 2520
0000c9 2058      	.DB  0x30,0x78,0x25,0x58,0x20,0x25,0x58,0x20
0000ca 5825
0000cb 205d
0000cc 305b
0000cd 2578      	.DB  0x25,0x58,0x5D,0x20,0x5B,0x30,0x78,0x25
0000ce 5d58
0000cf 5b20
0000d0 7830
0000d1 5825      	.DB  0x58,0x5D,0x20,0x5B,0x30,0x78,0x25,0x58
0000d2 005d
0000d3 0d0a
0000d4 6150
0000d5 7472      	.DB  0x5D,0x0,0xA,0xD,0x50,0x61,0x72,0x74
0000d6 4120
0000d7 6464
0000d8 6572
0000d9 7373      	.DB  0x20,0x41,0x64,0x64,0x72,0x65,0x73,0x73
0000da 203a
0000db 2520
0000dc 586c
0000dd 0a00      	.DB  0x3A,0x20,0x20,0x25,0x6C,0x58,0x0,0xA
0000de 420d
0000df 5f53
0000e0 6d6a
0000e1 4270      	.DB  0xD,0x42,0x53,0x5F,0x6A,0x6D,0x70,0x42
0000e2 6f6f
0000e3 3a74
0000e4 2020
0000e5 6c25      	.DB  0x6F,0x6F,0x74,0x3A,0x20,0x20,0x25,0x6C
0000e6 0058
0000e7 0d0a
0000e8 5042
0000e9 5f42      	.DB  0x58,0x0,0xA,0xD,0x42,0x50,0x42,0x5F
0000ea 7942
0000eb 7374
0000ec 6550
0000ed 5372      	.DB  0x42,0x79,0x74,0x73,0x50,0x65,0x72,0x53
0000ee 6365
0000ef 203a
0000f0 2520
0000f1 0058      	.DB  0x65,0x63,0x3A,0x20,0x20,0x25,0x58,0x0
0000f2 0d0a
0000f3 5042
0000f4 5f42
0000f5 6553      	.DB  0xA,0xD,0x42,0x50,0x42,0x5F,0x53,0x65
0000f6 5063
0000f7 7265
0000f8 6c43
0000f9 7375      	.DB  0x63,0x50,0x65,0x72,0x43,0x6C,0x75,0x73
0000fa 203a
0000fb 2520
0000fc 0058
0000fd 0d0a      	.DB  0x3A,0x20,0x20,0x25,0x58,0x0,0xA,0xD
0000fe 5042
0000ff 5f42
000100 7352
000101 6476      	.DB  0x42,0x50,0x42,0x5F,0x52,0x73,0x76,0x64
000102 6553
000103 4363
000104 746e
000105 203a      	.DB  0x53,0x65,0x63,0x43,0x6E,0x74,0x3A,0x20
000106 2520
000107 0058
000108 0d0a
000109 5042      	.DB  0x20,0x25,0x58,0x0,0xA,0xD,0x42,0x50
00010a 5f42
00010b 754e
00010c 466d
00010d 5441      	.DB  0x42,0x5F,0x4E,0x75,0x6D,0x46,0x41,0x54
00010e 3a73
00010f 2020
000110 5825
000111 0a00      	.DB  0x73,0x3A,0x20,0x20,0x25,0x58,0x0,0xA
000112 420d
000113 4250
000114 525f
000115 6f6f      	.DB  0xD,0x42,0x50,0x42,0x5F,0x52,0x6F,0x6F
000116 4574
000117 746e
000118 6e43
000119 3a74      	.DB  0x74,0x45,0x6E,0x74,0x43,0x6E,0x74,0x3A
00011a 2020
00011b 5825
00011c 0a00
00011d 420d      	.DB  0x20,0x20,0x25,0x58,0x0,0xA,0xD,0x42
00011e 4250
00011f 465f
000120 5441
000121 7a53      	.DB  0x50,0x42,0x5F,0x46,0x41,0x54,0x53,0x7A
000122 3631
000123 203a
000124 2520
000125 0058      	.DB  0x31,0x36,0x3A,0x20,0x20,0x25,0x58,0x0
000126 0d0a
000127 5042
000128 5f42
000129 6f54      	.DB  0xA,0xD,0x42,0x50,0x42,0x5F,0x54,0x6F
00012a 5374
00012b 6365
00012c 3631
00012d 203a      	.DB  0x74,0x53,0x65,0x63,0x31,0x36,0x3A,0x20
00012e 2520
00012f 586c
000130 0a00
000131 420d      	.DB  0x20,0x25,0x6C,0x58,0x0,0xA,0xD,0x42
000132 4250
000133 465f
000134 5441
000135 7954      	.DB  0x50,0x42,0x5F,0x46,0x41,0x54,0x54,0x79
000136 6570
000137 203a
000138 4620
000139 5441      	.DB  0x70,0x65,0x3A,0x20,0x20,0x46,0x41,0x54
00013a 3231
00013b 0a00
00013c 420d
00013d 4250      	.DB  0x31,0x32,0x0,0xA,0xD,0x42,0x50,0x42
00013e 465f
00013f 5441
000140 7954
000141 6570      	.DB  0x5F,0x46,0x41,0x54,0x54,0x79,0x70,0x65
000142 203a
000143 4620
000144 5441
000145 3631      	.DB  0x3A,0x20,0x20,0x46,0x41,0x54,0x31,0x36
000146 0a00
000147 420d
000148 4250
000149 465f      	.DB  0x0,0xA,0xD,0x42,0x50,0x42,0x5F,0x46
00014a 5441
00014b 7954
00014c 6570
00014d 203a      	.DB  0x41,0x54,0x54,0x79,0x70,0x65,0x3A,0x20
00014e 4620
00014f 5441
000150 4520
000151 5252      	.DB  0x20,0x46,0x41,0x54,0x20,0x45,0x52,0x52
000152 524f
000153 2121
000154 0a00
000155 430d      	.DB  0x4F,0x52,0x21,0x21,0x0,0xA,0xD,0x43
000156 756c
000157 7473
000158 7265
000159 6e43      	.DB  0x6C,0x75,0x73,0x74,0x65,0x72,0x43,0x6E
00015a 3a74
00015b 2020
00015c 6c25
00015d 0058      	.DB  0x74,0x3A,0x20,0x20,0x25,0x6C,0x58,0x0
00015e 0d0a
00015f 4f52
000160 544f
000161 415f      	.DB  0xA,0xD,0x52,0x4F,0x4F,0x54,0x5F,0x41
000162 4444
000163 3a52
000164 2020
000165 6c25      	.DB  0x44,0x44,0x52,0x3A,0x20,0x20,0x25,0x6C
000166 0058
000167 0d0a
000168 4146
000169 3254      	.DB  0x58,0x0,0xA,0xD,0x46,0x41,0x54,0x32
00016a 415f
00016b 4444
00016c 3a52
00016d 2020      	.DB  0x5F,0x41,0x44,0x44,0x52,0x3A,0x20,0x20
00016e 6c25
00016f 0058
000170 0d0a
000171 6f52      	.DB  0x25,0x6C,0x58,0x0,0xA,0xD,0x52,0x6F
000172 746f
000173 6944
000174 5372
000175 6365      	.DB  0x6F,0x74,0x44,0x69,0x72,0x53,0x65,0x63
000176 6f74
000177 7372
000178 203a
000179 2520      	.DB  0x74,0x6F,0x72,0x73,0x3A,0x20,0x20,0x25
00017a 0058
00017b 0d0a
00017c 6946
00017d 7372      	.DB  0x58,0x0,0xA,0xD,0x46,0x69,0x72,0x73
00017e 4474
00017f 7461
000180 5361
000181 6365      	.DB  0x74,0x44,0x61,0x74,0x61,0x53,0x65,0x63
000182 6f74
000183 3a72
000184 2020
000185 5825      	.DB  0x74,0x6F,0x72,0x3A,0x20,0x20,0x25,0x58
000186 0a00
000187 520d
000188 7365
000189 7465      	.DB  0x0,0xA,0xD,0x52,0x65,0x73,0x65,0x74
00018a 4320
00018b 444d
00018c 203a
00018d 0020      	.DB  0x20,0x43,0x4D,0x44,0x3A,0x20,0x20,0x0
00018e 4b4f
00018f 2121
000190 0021
000191 5245      	.DB  0x4F,0x4B,0x21,0x21,0x21,0x0,0x45,0x52
000192 4f52
000193 2152
000194 2121
000195 0d00      	.DB  0x52,0x4F,0x52,0x21,0x21,0x21,0x0,0xD
000196 490a
000197 696e
000198 6974
000199 6c61      	.DB  0xA,0x49,0x6E,0x69,0x74,0x69,0x61,0x6C
00019a 7a69
00019b 7461
00019c 6f69
00019d 3a6e      	.DB  0x69,0x7A,0x61,0x74,0x69,0x6F,0x6E,0x3A
00019e 2020
00019f 4f00
0001a0 214b
0001a1 4500      	.DB  0x20,0x20,0x0,0x4F,0x4B,0x21,0x0,0x45
0001a2 5252
0001a3 524f
0001a4 252d
0001a5 2078      	.DB  0x52,0x52,0x4F,0x52,0x2D,0x25,0x78,0x20
0001a6 0020
0001a7 0d0a
0001a8 2500
0001a9 2058      	.DB  0x20,0x0,0xA,0xD,0x0,0x25,0x58,0x20
0001aa 0d00
0001ab 460a
0001ac 6c69
0001ad 2065      	.DB  0x0,0xD,0xA,0x46,0x69,0x6C,0x65,0x20
0001ae 694c
0001af 7473
0001b0 6e69
0001b1 2067      	.DB  0x4C,0x69,0x73,0x74,0x69,0x6E,0x67,0x20
0001b2 6f66
0001b3 3a72
0001b4 2020
0001b5 4f52      	.DB  0x66,0x6F,0x72,0x3A,0x20,0x20,0x52,0x4F
0001b6 544f
0001b7 005c
0001b8 2020
0001b9 005b      	.DB  0x4F,0x54,0x5C,0x0,0x20,0x20,0x5B,0x0
0001ba 2020
0001bb 2020
0001bc 2020
0001bd 2020      	.DB  0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
0001be 2020
0001bf 2020
0001c0 2020
0001c1 2020      	.DB  0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
0001c2 255b
0001c3 646c
0001c4 205d
0001c5 7962      	.DB  0x5B,0x25,0x6C,0x64,0x5D,0x20,0x62,0x79
0001c6 6574
0001c7 2073
0001c8 2020
0001c9 2020      	.DB  0x74,0x65,0x73,0x20,0x20,0x20,0x20,0x20
0001ca 2820
0001cb 5825
0001cc 0d29
0001cd 2020      	.DB  0x20,0x28,0x25,0x58,0x29,0xD,0x20,0x20
0001ce 5d00
0001cf 2020
0001d0 2020
0001d1 2020      	.DB  0x0,0x5D,0x20,0x20,0x20,0x20,0x20,0x20
0001d2 2528
0001d3 2958
0001d4 0d00
0001d5 200a      	.DB  0x28,0x25,0x58,0x29,0x0,0xD,0xA,0x20
0001d6 5620
0001d7 6c6f
0001d8 6d75
0001d9 2065      	.DB  0x20,0x56,0x6F,0x6C,0x75,0x6D,0x65,0x20
0001da 6553
0001db 6972
0001dc 6c61
0001dd 203a      	.DB  0x53,0x65,0x72,0x69,0x61,0x6C,0x3A,0x20
0001de 5b20
0001df 7830
0001e0 6c25
0001e1 5d58      	.DB  0x20,0x5B,0x30,0x78,0x25,0x6C,0x58,0x5D
0001e2 0d00
0001e3 200a
0001e4 5620
0001e5 6c6f      	.DB  0x0,0xD,0xA,0x20,0x20,0x56,0x6F,0x6C
0001e6 6d75
0001e7 2065
0001e8 614c
0001e9 6562      	.DB  0x75,0x6D,0x65,0x20,0x4C,0x61,0x62,0x65
0001ea 3a6c
0001eb 2020
0001ec 255b
0001ed 5d73      	.DB  0x6C,0x3A,0x20,0x20,0x5B,0x25,0x73,0x5D
0001ee 0a0d
0001ef 2500
0001f0 3230
0001f1 2058      	.DB  0xD,0xA,0x0,0x25,0x30,0x32,0x58,0x20
0001f2 0d00
0001f3 540a
0001f4 7365
0001f5 2074      	.DB  0x0,0xD,0xA,0x54,0x65,0x73,0x74,0x20
0001f6 6f43
0001f7 6d6d
0001f8 6e61
0001f9 7364      	.DB  0x43,0x6F,0x6D,0x6D,0x61,0x6E,0x64,0x73
0001fa 003a
0001fb 0a0d
0001fc 2020
0001fd 3128      	.DB  0x3A,0x0,0xD,0xA,0x20,0x20,0x28,0x31
0001fe 2d29
0001ff 6e49
000200 7469
000201 6169      	.DB  0x29,0x2D,0x49,0x6E,0x69,0x74,0x69,0x61
000202 696c
000203 657a
000204 4d20
000205 6465      	.DB  0x6C,0x69,0x7A,0x65,0x20,0x4D,0x65,0x64
000206 6169
000207 2020
000208 2020
000209 2020      	.DB  0x69,0x61,0x20,0x20,0x20,0x20,0x20,0x20
00020a 3228
00020b 2d29
00020c 6552
00020d 6461      	.DB  0x28,0x32,0x29,0x2D,0x52,0x65,0x61,0x64
00020e 4420
00020f 7269
000210 6365
000211 6f74      	.DB  0x20,0x44,0x69,0x72,0x65,0x63,0x74,0x6F
000212 7972
000213 4620
000214 6c69
000215 7365      	.DB  0x72,0x79,0x20,0x46,0x69,0x6C,0x65,0x73
000216 0d00
000217 200a
000218 2820
000219 2933      	.DB  0x0,0xD,0xA,0x20,0x20,0x28,0x33,0x29
00021a 432d
00021b 6572
00021c 7461
00021d 2065      	.DB  0x2D,0x43,0x72,0x65,0x61,0x74,0x65,0x20
00021e 6946
00021f 656c
000220 2020
000221 2020      	.DB  0x46,0x69,0x6C,0x65,0x20,0x20,0x20,0x20
000222 2020
000223 2020
000224 2020
000225 2820      	.DB  0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x28
000226 2934
000227 442d
000228 6c65
000229 7465      	.DB  0x34,0x29,0x2D,0x44,0x65,0x6C,0x65,0x74
00022a 2065
00022b 6946
00022c 656c
00022d 0d00      	.DB  0x65,0x20,0x46,0x69,0x6C,0x65,0x0,0xD
00022e 200a
00022f 2820
000230 2935
000231 522d      	.DB  0xA,0x20,0x20,0x28,0x35,0x29,0x2D,0x52
000232 6e65
000233 6d61
000234 2065
000235 6946      	.DB  0x65,0x6E,0x61,0x6D,0x65,0x20,0x46,0x69
000236 656c
000237 2020
000238 2020
000239 2020      	.DB  0x6C,0x65,0x20,0x20,0x20,0x20,0x20,0x20
00023a 2020
00023b 2020
00023c 2820
00023d 2936      	.DB  0x20,0x20,0x20,0x20,0x20,0x28,0x36,0x29
00023e 4f2d
00023f 6570
000240 206e
000241 6946      	.DB  0x2D,0x4F,0x70,0x65,0x6E,0x20,0x46,0x69
000242 656c
000243 0d00
000244 200a
000245 2820      	.DB  0x6C,0x65,0x0,0xD,0xA,0x20,0x20,0x28
000246 2937
000247 4d2d
000248 6b61
000249 2065      	.DB  0x37,0x29,0x2D,0x4D,0x61,0x6B,0x65,0x20
00024a 6944
00024b 6572
00024c 7463
00024d 726f      	.DB  0x44,0x69,0x72,0x65,0x63,0x74,0x6F,0x72
00024e 2079
00024f 2020
000250 2020
000251 2020      	.DB  0x79,0x20,0x20,0x20,0x20,0x20,0x20,0x20
000252 2820
000253 2938
000254 442d
000255 6c65      	.DB  0x20,0x28,0x38,0x29,0x2D,0x44,0x65,0x6C
000256 7465
000257 2065
000258 6944
000259 6572      	.DB  0x65,0x74,0x65,0x20,0x44,0x69,0x72,0x65
00025a 7463
00025b 726f
00025c 0079
00025d 0a0d      	.DB  0x63,0x74,0x6F,0x72,0x79,0x0,0xD,0xA
00025e 2020
00025f 3928
000260 2d29
000261 6843      	.DB  0x20,0x20,0x28,0x39,0x29,0x2D,0x43,0x68
000262 6e61
000263 6567
000264 5720
000265 726f      	.DB  0x61,0x6E,0x67,0x65,0x20,0x57,0x6F,0x72
000266 696b
000267 676e
000268 4420
000269 7269      	.DB  0x6B,0x69,0x6E,0x67,0x20,0x44,0x69,0x72
00026a 2020
00026b 2020
00026c 3028
00026d 2d29      	.DB  0x20,0x20,0x20,0x20,0x28,0x30,0x29,0x2D
00026e 6547
00026f 2074
000270 6946
000271 656c      	.DB  0x47,0x65,0x74,0x20,0x46,0x69,0x6C,0x65
000272 4920
000273 666e
000274 006f
000275 0a0d      	.DB  0x20,0x49,0x6E,0x66,0x6F,0x0,0xD,0xA
000276 2020
000277 4628
000278 2d29
000279 7551      	.DB  0x20,0x20,0x28,0x46,0x29,0x2D,0x51,0x75
00027a 6369
00027b 206b
00027c 6f46
00027d 6d72      	.DB  0x69,0x63,0x6B,0x20,0x46,0x6F,0x72,0x6D
00027e 7461
00027f 4320
000280 7261
000281 2064      	.DB  0x61,0x74,0x20,0x43,0x61,0x72,0x64,0x20
000282 2020
000283 2020
000284 5628
000285 2d29      	.DB  0x20,0x20,0x20,0x20,0x28,0x56,0x29,0x2D
000286 6547
000287 2074
000288 654d
000289 6964      	.DB  0x47,0x65,0x74,0x20,0x4D,0x65,0x64,0x69
00028a 2061
00028b 6553
00028c 6972
00028d 6c61      	.DB  0x61,0x20,0x53,0x65,0x72,0x69,0x61,0x6C
00028e 2620
00028f 4c20
000290 6261
000291 6c65      	.DB  0x20,0x26,0x20,0x4C,0x61,0x62,0x65,0x6C
000292 0d00
000293 200a
000294 2820
000295 2963      	.DB  0x0,0xD,0xA,0x20,0x20,0x28,0x63,0x29
000296 442d
000297 7369
000298 6c70
000299 7961      	.DB  0x2D,0x44,0x69,0x73,0x70,0x6C,0x61,0x79
00029a 5420
00029b 6d69
00029c 2f65
00029d 6144      	.DB  0x20,0x54,0x69,0x6D,0x65,0x2F,0x44,0x61
00029e 6574
00029f 2020
0002a0 2020
0002a1 2820      	.DB  0x74,0x65,0x20,0x20,0x20,0x20,0x20,0x28
0002a2 2943
0002a3 532d
0002a4 7465
0002a5 5420      	.DB  0x43,0x29,0x2D,0x53,0x65,0x74,0x20,0x54
0002a6 6d69
0002a7 2f65
0002a8 6144
0002a9 6574      	.DB  0x69,0x6D,0x65,0x2F,0x44,0x61,0x74,0x65
0002aa 0a0d
0002ab 0d00
0002ac 4f0a
0002ad 6570      	.DB  0xD,0xA,0x0,0xD,0xA,0x4F,0x70,0x65
0002ae 206e
0002af 6946
0002b0 656c
0002b1 4320      	.DB  0x6E,0x20,0x46,0x69,0x6C,0x65,0x20,0x43
0002b2 6d6f
0002b3 616d
0002b4 646e
0002b5 3a73      	.DB  0x6F,0x6D,0x6D,0x61,0x6E,0x64,0x73,0x3A
0002b6 0d00
0002b7 200a
0002b8 2820
0002b9 2931      	.DB  0x0,0xD,0xA,0x20,0x20,0x28,0x31,0x29
0002ba 662d
0002bb 6574
0002bc 6c6c
0002bd 2020      	.DB  0x2D,0x66,0x74,0x65,0x6C,0x6C,0x20,0x20
0002be 2020
0002bf 2020
0002c0 2020
0002c1 2020      	.DB  0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
0002c2 2020
0002c3 2020
0002c4 2820
0002c5 2932      	.DB  0x20,0x20,0x20,0x20,0x20,0x28,0x32,0x29
0002c6 662d
0002c7 6573
0002c8 6b65
0002c9 0d00      	.DB  0x2D,0x66,0x73,0x65,0x65,0x6B,0x0,0xD
0002ca 200a
0002cb 2820
0002cc 2933
0002cd 662d      	.DB  0xA,0x20,0x20,0x28,0x33,0x29,0x2D,0x66
0002ce 6567
0002cf 6374
0002d0 2020
0002d1 2020      	.DB  0x67,0x65,0x74,0x63,0x20,0x20,0x20,0x20
0002d2 2020
0002d3 2020
0002d4 2020
0002d5 2020      	.DB  0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
0002d6 2020
0002d7 2820
0002d8 2934
0002d9 752d      	.DB  0x20,0x20,0x20,0x28,0x34,0x29,0x2D,0x75
0002da 676e
0002db 7465
0002dc 0063
0002dd 0a0d      	.DB  0x6E,0x67,0x65,0x74,0x63,0x0,0xD,0xA
0002de 2020
0002df 3528
0002e0 2d29
0002e1 6552      	.DB  0x20,0x20,0x28,0x35,0x29,0x2D,0x52,0x65
0002e2 6461
0002e3 6620
0002e4 6c69
0002e5 2065      	.DB  0x61,0x64,0x20,0x66,0x69,0x6C,0x65,0x20
0002e6 6974
0002e7 6c6c
0002e8 4520
0002e9 444e      	.DB  0x74,0x69,0x6C,0x6C,0x20,0x45,0x4E,0x44
0002ea 2020
0002eb 3628
0002ec 2d29
0002ed 7257      	.DB  0x20,0x20,0x28,0x36,0x29,0x2D,0x57,0x72
0002ee 7469
0002ef 2065
0002f0 6f74
0002f1 4620      	.DB  0x69,0x74,0x65,0x20,0x74,0x6F,0x20,0x46
0002f2 6c69
0002f3 0065
0002f4 0a0d
0002f5 2020      	.DB  0x69,0x6C,0x65,0x0,0xD,0xA,0x20,0x20
0002f6 3728
0002f7 2d29
0002f8 7544
0002f9 706d      	.DB  0x28,0x37,0x29,0x2D,0x44,0x75,0x6D,0x70
0002fa 4220
0002fb 6675
0002fc 6566
0002fd 2072      	.DB  0x20,0x42,0x75,0x66,0x66,0x65,0x72,0x20
0002fe 202d
0002ff 4548
000300 2058
000301 2020      	.DB  0x2D,0x20,0x48,0x45,0x58,0x20,0x20,0x20
000302 3828
000303 2d29
000304 7544
000305 706d      	.DB  0x28,0x38,0x29,0x2D,0x44,0x75,0x6D,0x70
000306 4220
000307 6675
000308 6566
000309 2072      	.DB  0x20,0x42,0x75,0x66,0x66,0x65,0x72,0x20
00030a 202d
00030b 5341
00030c 4943
00030d 0049      	.DB  0x2D,0x20,0x41,0x53,0x43,0x49,0x49,0x0
00030e 0a0d
00030f 2020
000310 3928
000311 2d29      	.DB  0xD,0xA,0x20,0x20,0x28,0x39,0x29,0x2D
000312 6666
000313 756c
000314 6873
000315 2020      	.DB  0x66,0x66,0x6C,0x75,0x73,0x68,0x20,0x20
000316 2020
000317 2020
000318 2020
000319 2020      	.DB  0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20
00031a 2020
00031b 2020
00031c 3028
00031d 2d29      	.DB  0x20,0x20,0x20,0x20,0x28,0x30,0x29,0x2D
00031e 6366
00031f 6f6c
000320 6573
000321 0d00      	.DB  0x66,0x63,0x6C,0x6F,0x73,0x65,0x0,0xD
000322 200a
000323 2820
000324 2945
000325 462d      	.DB  0xA,0x20,0x20,0x28,0x45,0x29,0x2D,0x46
000326 6572
000327 2065
000328 6946
000329 656c      	.DB  0x72,0x65,0x65,0x20,0x46,0x69,0x6C,0x65
00032a 4d20
00032b 6d65
00032c 726f
00032d 0d79      	.DB  0x20,0x4D,0x65,0x6D,0x6F,0x72,0x79,0xD
00032e 000a
00032f 0d0a
000330 6553
000331 646e      	.DB  0xA,0x0,0xA,0xD,0x53,0x65,0x6E,0x64
000332 4420
000333 7461
000334 2065
000335 6e61      	.DB  0x20,0x44,0x61,0x74,0x65,0x20,0x61,0x6E
000336 2064
000337 6954
000338 656d
000339 6120      	.DB  0x64,0x20,0x54,0x69,0x6D,0x65,0x20,0x61
00033a 2073
00033b 6d6d
00033c 642f
00033d 2f64      	.DB  0x73,0x20,0x6D,0x6D,0x2F,0x64,0x64,0x2F
00033e 7979
00033f 7979
000340 6820
000341 3a68      	.DB  0x79,0x79,0x79,0x79,0x20,0x68,0x68,0x3A
000342 6d6d
000343 733a
000344 5b73
000345 4e45      	.DB  0x6D,0x6D,0x3A,0x73,0x73,0x5B,0x45,0x4E
000346 4554
000347 5d52
000348 0d0a
000349 2500      	.DB  0x54,0x45,0x52,0x5D,0xA,0xD,0x0,0x25
00034a 0064
00034b 3a2f
00034c 0020
00034d 0a0d      	.DB  0x64,0x0,0x2F,0x3A,0x20,0x0,0xD,0xA
00034e 2d20
00034f 4f20
000350 214b
000351 0d00      	.DB  0x20,0x2D,0x20,0x4F,0x4B,0x21,0x0,0xD
000352 200a
000353 202d
000354 5245
000355 4f52      	.DB  0xA,0x20,0x2D,0x20,0x45,0x52,0x52,0x4F
000356 2152
000357 2d20
000358 2520
000359 0058      	.DB  0x52,0x21,0x20,0x2D,0x20,0x25,0x58,0x0
00035a 0a0d
00035b 2d20
00035c 4520
00035d 5252      	.DB  0xD,0xA,0x20,0x2D,0x20,0x45,0x52,0x52
00035e 524f
00035f 0021
000360 0a0d
000361 754a      	.DB  0x4F,0x52,0x21,0x0,0xD,0xA,0x4A,0x75
000362 706d
000363 6e69
000364 2067
000365 6f74      	.DB  0x6D,0x70,0x69,0x6E,0x67,0x20,0x74,0x6F
000366 4220
000367 6f6f
000368 6c74
000369 616f      	.DB  0x20,0x42,0x6F,0x6F,0x74,0x6C,0x6F,0x61
00036a 6564
00036b 0072
00036c 0a0d
00036d 6e49      	.DB  0x64,0x65,0x72,0x0,0xD,0xA,0x49,0x6E
00036e 7469
00036f 6169
000370 696c
000371 697a      	.DB  0x69,0x74,0x69,0x61,0x6C,0x69,0x7A,0x69
000372 676e
000373 2e2e
000374 202e
000375 0d00      	.DB  0x6E,0x67,0x2E,0x2E,0x2E,0x20,0x0,0xD
000376 430a
000377 6572
000378 7461
000379 6e69      	.DB  0xA,0x43,0x72,0x65,0x61,0x74,0x69,0x6E
00037a 2067
00037b 6946
00037c 656c
00037d 203a      	.DB  0x67,0x20,0x46,0x69,0x6C,0x65,0x3A,0x20
00037e 0020
00037f 794d
000380 2020
000381 6f50      	.DB  0x20,0x0,0x4D,0x79,0x20,0x20,0x50,0x6F
000382 6e69
000383 3174
000384 4d00
000385 2079      	.DB  0x69,0x6E,0x74,0x31,0x0,0x4D,0x79,0x20
000386 5020
000387 696f
000388 746e
000389 0032      	.DB  0x20,0x50,0x6F,0x69,0x6E,0x74,0x32,0x0
00038a 0a0d
00038b 6544
00038c 656c
00038d 6974      	.DB  0xD,0xA,0x44,0x65,0x6C,0x65,0x74,0x69
00038e 676e
00038f 4620
000390 6c69
000391 3a65      	.DB  0x6E,0x67,0x20,0x46,0x69,0x6C,0x65,0x3A
000392 2020
000393 0d00
000394 520a
000395 6e65      	.DB  0x20,0x20,0x0,0xD,0xA,0x52,0x65,0x6E
000396 6d61
000397 2065
000398 6946
000399 656c      	.DB  0x61,0x6D,0x65,0x20,0x46,0x69,0x6C,0x65
00039a 0d3a
00039b 200a
00039c 4f20
00039d 646c      	.DB  0x3A,0xD,0xA,0x20,0x20,0x4F,0x6C,0x64
00039e 4e20
00039f 6d61
0003a0 3a65
0003a1 2020      	.DB  0x20,0x4E,0x61,0x6D,0x65,0x3A,0x20,0x20
0003a2 0d00
0003a3 200a
0003a4 4e20
0003a5 7765      	.DB  0x0,0xD,0xA,0x20,0x20,0x4E,0x65,0x77
0003a6 4e20
0003a7 6d61
0003a8 3a65
0003a9 2020      	.DB  0x20,0x4E,0x61,0x6D,0x65,0x3A,0x20,0x20
0003aa 0a00
0003ab 4f0d
0003ac 6570
0003ad 206e      	.DB  0x0,0xA,0xD,0x4F,0x70,0x65,0x6E,0x20
0003ae 6966
0003af 656c
0003b0 203a
0003b1 0020      	.DB  0x66,0x69,0x6C,0x65,0x3A,0x20,0x20,0x0
0003b2 0a0d
0003b3 6843
0003b4 6f6f
0003b5 6573      	.DB  0xD,0xA,0x43,0x68,0x6F,0x6F,0x73,0x65
0003b6 203a
0003b7 2820
0003b8 2931
0003b9 522d      	.DB  0x3A,0x20,0x20,0x28,0x31,0x29,0x2D,0x52
0003ba 4145
0003bb 2044
0003bc 2820
0003bd 2932      	.DB  0x45,0x41,0x44,0x20,0x20,0x28,0x32,0x29
0003be 572d
0003bf 4952
0003c0 4554
0003c1 2020      	.DB  0x2D,0x57,0x52,0x49,0x54,0x45,0x20,0x20
0003c2 3328
0003c3 2d29
0003c4 5041
0003c5 4550      	.DB  0x28,0x33,0x29,0x2D,0x41,0x50,0x50,0x45
0003c6 444e
0003c7 2000
0003c8 2d20
0003c9 202d      	.DB  0x4E,0x44,0x0,0x20,0x20,0x2D,0x2D,0x20
0003ca 4552
0003cb 4441
0003cc 2000
0003cd 2d20      	.DB  0x52,0x45,0x41,0x44,0x0,0x20,0x20,0x2D
0003ce 202d
0003cf 5257
0003d0 5449
0003d1 0045      	.DB  0x2D,0x20,0x57,0x52,0x49,0x54,0x45,0x0
0003d2 2020
0003d3 2d2d
0003d4 4120
0003d5 5050      	.DB  0x20,0x20,0x2D,0x2D,0x20,0x41,0x50,0x50
0003d6 4e45
0003d7 0044
0003d8 0a0d
0003d9 6946      	.DB  0x45,0x4E,0x44,0x0,0xD,0xA,0x46,0x69
0003da 656c
0003db 704f
0003dc 6e65
0003dd 4520      	.DB  0x6C,0x65,0x4F,0x70,0x65,0x6E,0x20,0x45
0003de 7272
0003df 726f
0003e0 3d20
0003e1 2520      	.DB  0x72,0x72,0x6F,0x72,0x20,0x3D,0x20,0x25
0003e2 0078
0003e3 0a0d
0003e4 7553
0003e5 6363      	.DB  0x78,0x0,0xD,0xA,0x53,0x75,0x63,0x63
0003e6 7365
0003e7 2173
0003e8 2121
0003e9 2020      	.DB  0x65,0x73,0x73,0x21,0x21,0x21,0x20,0x20
0003ea 202d
0003eb 2520
0003ec 2073
0003ed 202d      	.DB  0x2D,0x20,0x20,0x25,0x73,0x20,0x2D,0x20
0003ee 704f
0003ef 6e65
0003f0 6465
0003f1 2021      	.DB  0x4F,0x70,0x65,0x6E,0x65,0x64,0x21,0x20
0003f2 0a0d
0003f3 0d00
0003f4 4d0a
0003f5 6b61      	.DB  0xD,0xA,0x0,0xD,0xA,0x4D,0x61,0x6B
0003f6 2065
0003f7 6944
0003f8 6572
0003f9 7463      	.DB  0x65,0x20,0x44,0x69,0x72,0x65,0x63,0x74
0003fa 726f
0003fb 3a79
0003fc 2020
0003fd 0d00      	.DB  0x6F,0x72,0x79,0x3A,0x20,0x20,0x0,0xD
0003fe 440a
0003ff 6c65
000400 7465
000401 2065      	.DB  0xA,0x44,0x65,0x6C,0x65,0x74,0x65,0x20
000402 6944
000403 6572
000404 7463
000405 726f      	.DB  0x44,0x69,0x72,0x65,0x63,0x74,0x6F,0x72
000406 3a79
000407 2020
000408 0d00
000409 430a      	.DB  0x79,0x3A,0x20,0x20,0x0,0xD,0xA,0x43
00040a 6168
00040b 676e
00040c 2065
00040d 7543      	.DB  0x68,0x61,0x6E,0x67,0x65,0x20,0x43,0x75
00040e 7272
00040f 6e65
000410 2074
000411 6944      	.DB  0x72,0x72,0x65,0x6E,0x74,0x20,0x44,0x69
000412 6572
000413 7463
000414 726f
000415 2079      	.DB  0x72,0x65,0x63,0x74,0x6F,0x72,0x79,0x20
000416 6f74
000417 203a
000418 0020
000419 0a0d      	.DB  0x74,0x6F,0x3A,0x20,0x20,0x0,0xD,0xA
00041a 6547
00041b 2074
00041c 6946
00041d 656c      	.DB  0x47,0x65,0x74,0x20,0x46,0x69,0x6C,0x65
00041e 4920
00041f 666e
000420 206f
000421 6f66      	.DB  0x20,0x49,0x6E,0x66,0x6F,0x20,0x66,0x6F
000422 3a72
000423 2020
000424 0d00
000425 200a      	.DB  0x72,0x3A,0x20,0x20,0x0,0xD,0xA,0x20
000426 4620
000427 6c69
000428 2065
000429 6953      	.DB  0x20,0x46,0x69,0x6C,0x65,0x20,0x53,0x69
00042a 657a
00042b 203a
00042c 2520
00042d 646c      	.DB  0x7A,0x65,0x3A,0x20,0x20,0x25,0x6C,0x64
00042e 6220
00042f 7479
000430 7365
000431 0a0d      	.DB  0x20,0x62,0x79,0x74,0x65,0x73,0xD,0xA
000432 2020
000433 7243
000434 6165
000435 6574      	.DB  0x20,0x20,0x43,0x72,0x65,0x61,0x74,0x65
000436 5420
000437 6d69
000438 3a65
000439 2020      	.DB  0x20,0x54,0x69,0x6D,0x65,0x3A,0x20,0x20
00043a 0d00
00043b 2020
00043c 6f4d
00043d 6964      	.DB  0x0,0xD,0x20,0x20,0x4D,0x6F,0x64,0x69
00043e 7966
00043f 5420
000440 6d69
000441 3a65      	.DB  0x66,0x79,0x20,0x54,0x69,0x6D,0x65,0x3A
000442 2020
000443 0d00
000444 2020
000445 7441      	.DB  0x20,0x20,0x0,0xD,0x20,0x20,0x41,0x74
000446 7274
000447 6269
000448 7475
000449 7365      	.DB  0x74,0x72,0x69,0x62,0x75,0x74,0x65,0x73
00044a 203a
00044b 3020
00044c 2578
00044d 0a58      	.DB  0x3A,0x20,0x20,0x30,0x78,0x25,0x58,0xA
00044e 0d00
00044f 2020
000450 7453
000451 7261      	.DB  0x0,0xD,0x20,0x20,0x53,0x74,0x61,0x72
000452 6974
000453 676e
000454 4320
000455 756c      	.DB  0x74,0x69,0x6E,0x67,0x20,0x43,0x6C,0x75
000456 7473
000457 7265
000458 203a
000459 3020      	.DB  0x73,0x74,0x65,0x72,0x3A,0x20,0x20,0x30
00045a 2578
00045b 586c
00045c 4020
00045d 4120      	.DB  0x78,0x25,0x6C,0x58,0x20,0x40,0x20,0x41
00045e 4444
00045f 3a52
000460 3020
000461 2578      	.DB  0x44,0x44,0x52,0x3A,0x20,0x30,0x78,0x25
000462 586c
000463 0a0d
000464 0d00
000465 200a      	.DB  0x6C,0x58,0xD,0xA,0x0,0xD,0xA,0x20
000466 202d
000467 5245
000468 4f52
000469 2152      	.DB  0x2D,0x20,0x45,0x52,0x52,0x4F,0x52,0x21
00046a 2d20
00046b 2520
00046c 0d58
00046d 000a      	.DB  0x20,0x2D,0x20,0x25,0x58,0xD,0xA,0x0
00046e 0a0d
00046f 7551
000470 6369
000471 206b      	.DB  0xD,0xA,0x51,0x75,0x69,0x63,0x6B,0x20
000472 6f46
000473 6d72
000474 7461
000475 4320      	.DB  0x46,0x6F,0x72,0x6D,0x61,0x74,0x20,0x43
000476 7261
000477 2064
000478 6e61
000479 2064      	.DB  0x61,0x72,0x64,0x20,0x61,0x6E,0x64,0x20
00047a 6564
00047b 656c
00047c 6574
00047d 6120      	.DB  0x64,0x65,0x6C,0x65,0x74,0x65,0x20,0x61
00047e 6c6c
00047f 6520
000480 6978
000481 7473      	.DB  0x6C,0x6C,0x20,0x65,0x78,0x69,0x73,0x74
000482 6e69
000483 2067
000484 6164
000485 6174      	.DB  0x69,0x6E,0x67,0x20,0x64,0x61,0x74,0x61
000486 203f
000487 2820
000488 2959
000489 7365      	.DB  0x3F,0x20,0x20,0x28,0x59,0x29,0x65,0x73
00048a 2020
00048b 4e28
00048c 6f29
00048d 0a0d      	.DB  0x20,0x20,0x28,0x4E,0x29,0x6F,0xD,0xA
00048e 2020
00048f 6500
000490 2073
000491 202d      	.DB  0x20,0x20,0x0,0x65,0x73,0x20,0x2D,0x20
000492 6f00
000493 2d20
000494 4320
000495 6e61      	.DB  0x0,0x6F,0x20,0x2D,0x20,0x43,0x61,0x6E
000496 6563
000497 6c6c
000498 6465
000499 0a0d      	.DB  0x63,0x65,0x6C,0x6C,0x65,0x64,0xD,0xA
00049a 2000
00049b 202d
00049c 7649
00049d 616e      	.DB  0x0,0x20,0x2D,0x20,0x49,0x76,0x6E,0x61
00049e 696c
00049f 2064
0004a0 6552
0004a1 7073      	.DB  0x6C,0x69,0x64,0x20,0x52,0x65,0x73,0x70
0004a2 6e6f
0004a3 6573
0004a4 2d20
0004a5 4320      	.DB  0x6F,0x6E,0x73,0x65,0x20,0x2D,0x20,0x43
0004a6 6e61
0004a7 6563
0004a8 6c6c
0004a9 6465      	.DB  0x61,0x6E,0x63,0x65,0x6C,0x6C,0x65,0x64
0004aa 0a0d
0004ab 0a00
0004ac 520d
0004ad 6165      	.DB  0xD,0xA,0x0,0xA,0xD,0x52,0x65,0x61
0004ae 2064
0004af 4d4d
0004b0 2043
0004b1 202d      	.DB  0x64,0x20,0x4D,0x4D,0x43,0x20,0x2D,0x20
0004b2 6e45
0004b3 6574
0004b4 2072
0004b5 6441      	.DB  0x45,0x6E,0x74,0x65,0x72,0x20,0x41,0x64
0004b6 7264
0004b7 7365
0004b8 3a73
0004b9 0020      	.DB  0x64,0x72,0x65,0x73,0x73,0x3A,0x20,0x0
0004ba 0d0a
0004bb 6143
0004bc 636c
0004bd 202e      	.DB  0xA,0xD,0x43,0x61,0x6C,0x63,0x2E,0x20
0004be 6461
0004bf 7264
0004c0 7365
0004c1 3a73      	.DB  0x61,0x64,0x64,0x72,0x65,0x73,0x73,0x3A
0004c2 2520
0004c3 786c
0004c4 0a00
0004c5 460d      	.DB  0x20,0x25,0x6C,0x78,0x0,0xA,0xD,0x46
0004c6 6e69
0004c7 6964
0004c8 676e
0004c9 4e20      	.DB  0x69,0x6E,0x64,0x69,0x6E,0x67,0x20,0x4E
0004ca 7865
0004cb 2074
0004cc 7641
0004cd 6c61      	.DB  0x65,0x78,0x74,0x20,0x41,0x76,0x61,0x6C
0004ce 6169
0004cf 6c62
0004d0 2065
0004d1 6c43      	.DB  0x69,0x61,0x62,0x6C,0x65,0x20,0x43,0x6C
0004d2 7375
0004d3 6574
0004d4 3a72
0004d5 2020      	.DB  0x75,0x73,0x74,0x65,0x72,0x3A,0x20,0x20
0004d6 255b
0004d7 5d58
0004d8 202c
0004d9 5f20      	.DB  0x5B,0x25,0x58,0x5D,0x2C,0x20,0x20,0x5F
0004da 4646
0004db 655f
0004dc 7272
0004dd 726f      	.DB  0x46,0x46,0x5F,0x65,0x72,0x72,0x6F,0x72
0004de 3d20
0004df 5b20
0004e0 5825
0004e1 005d      	.DB  0x20,0x3D,0x20,0x5B,0x25,0x58,0x5D,0x0
0004e2 0d0a
0004e3 6f4c
0004e4 6163
0004e5 6574      	.DB  0xA,0xD,0x4C,0x6F,0x63,0x61,0x74,0x65
0004e6 2064
0004e7 2040
0004e8 7830
0004e9 6c25      	.DB  0x64,0x20,0x40,0x20,0x30,0x78,0x25,0x6C
0004ea 0058
0004eb 0a0d
0004ec 6f50
0004ed 6e69      	.DB  0x58,0x0,0xD,0xA,0x50,0x6F,0x69,0x6E
0004ee 2074
0004ef 6c43
0004f0 7375
0004f1 6574      	.DB  0x74,0x20,0x43,0x6C,0x75,0x73,0x74,0x65
0004f2 3a72
0004f3 3020
0004f4 0078
0004f5 0a0d      	.DB  0x72,0x3A,0x20,0x30,0x78,0x0,0xD,0xA
0004f6 6f54
0004f7 4320
0004f8 756c
0004f9 7473      	.DB  0x54,0x6F,0x20,0x43,0x6C,0x75,0x73,0x74
0004fa 7265
0004fb 203a
0004fc 7830
0004fd 2000      	.DB  0x65,0x72,0x3A,0x20,0x30,0x78,0x0,0x20
0004fe 2d20
0004ff 2020
000500 4b4f
000501 2121      	.DB  0x20,0x2D,0x20,0x20,0x4F,0x4B,0x21,0x21
000502 0021
000503 2020
000504 202d
000505 4520      	.DB  0x21,0x0,0x20,0x20,0x2D,0x20,0x20,0x45
000506 5252
000507 524f
000508 2121
000509 0021      	.DB  0x52,0x52,0x4F,0x52,0x21,0x21,0x21,0x0
00050a 0a0d
00050b 6f56
00050c 756c
00050d 656d      	.DB  0xD,0xA,0x56,0x6F,0x6C,0x75,0x6D,0x65
00050e 5320
00050f 7265
000510 6169
000511 206c      	.DB  0x20,0x53,0x65,0x72,0x69,0x61,0x6C,0x20
000512 754e
000513 626d
000514 7265
000515 6120      	.DB  0x4E,0x75,0x6D,0x62,0x65,0x72,0x20,0x61
000516 646e
000517 4c20
000518 6261
000519 6c65      	.DB  0x6E,0x64,0x20,0x4C,0x61,0x62,0x65,0x6C
00051a 003a
00051b 0d0a
00051c 7466
00051d 6c65      	.DB  0x3A,0x0,0xA,0xD,0x66,0x74,0x65,0x6C
00051e 3a6c
00051f 2020
000520 6f70
000521 6973      	.DB  0x6C,0x3A,0x20,0x20,0x70,0x6F,0x73,0x69
000522 6974
000523 6e6f
000524 3d20
000525 3020      	.DB  0x74,0x69,0x6F,0x6E,0x20,0x3D,0x20,0x30
000526 2578
000527 586c
000528 0a00
000529 660d      	.DB  0x78,0x25,0x6C,0x58,0x0,0xA,0xD,0x66
00052a 6573
00052b 6b65
00052c 203a
00052d 4f20      	.DB  0x73,0x65,0x65,0x6B,0x3A,0x20,0x20,0x4F
00052e 6666
00052f 6573
000530 2074
000531 203d      	.DB  0x66,0x66,0x73,0x65,0x74,0x20,0x3D,0x20
000532 7830
000533 3d00
000534 6c25
000535 0d58      	.DB  0x30,0x78,0x0,0x3D,0x25,0x6C,0x58,0xD
000536 200a
000537 2020
000538 4d20
000539 646f      	.DB  0xA,0x20,0x20,0x20,0x20,0x4D,0x6F,0x64
00053a 3a65
00053b 2020
00053c 3128
00053d 2d29      	.DB  0x65,0x3A,0x20,0x20,0x28,0x31,0x29,0x2D
00053e 4553
00053f 4b45
000540 435f
000541 5255      	.DB  0x53,0x45,0x45,0x4B,0x5F,0x43,0x55,0x52
000542 2020
000543 3228
000544 2d29
000545 4553      	.DB  0x20,0x20,0x28,0x32,0x29,0x2D,0x53,0x45
000546 4b45
000547 455f
000548 444e
000549 2020      	.DB  0x45,0x4B,0x5F,0x45,0x4E,0x44,0x20,0x20
00054a 3328
00054b 2d29
00054c 4553
00054d 4b45      	.DB  0x28,0x33,0x29,0x2D,0x53,0x45,0x45,0x4B
00054e 535f
00054f 5445
000550 3a20
000551 2000      	.DB  0x5F,0x53,0x45,0x54,0x20,0x3A,0x0,0x20
000552 2d20
000553 202d
000554 4553
000555 4b45      	.DB  0x20,0x2D,0x2D,0x20,0x53,0x45,0x45,0x4B
000556 435f
000557 5255
000558 2000
000559 2d20      	.DB  0x5F,0x43,0x55,0x52,0x0,0x20,0x20,0x2D
00055a 202d
00055b 4553
00055c 4b45
00055d 455f      	.DB  0x2D,0x20,0x53,0x45,0x45,0x4B,0x5F,0x45
00055e 444e
00055f 2000
000560 2d20
000561 202d      	.DB  0x4E,0x44,0x0,0x20,0x20,0x2D,0x2D,0x20
000562 4553
000563 4b45
000564 535f
000565 5445      	.DB  0x53,0x45,0x45,0x4B,0x5F,0x53,0x45,0x54
000566 0d00
000567 450a
000568 746e
000569 7265      	.DB  0x0,0xD,0xA,0x45,0x6E,0x74,0x65,0x72
00056a 6320
00056b 6168
00056c 6172
00056d 7463      	.DB  0x20,0x63,0x68,0x61,0x72,0x61,0x63,0x74
00056e 7265
00056f 7420
000570 206f
000571 7570      	.DB  0x65,0x72,0x20,0x74,0x6F,0x20,0x70,0x75
000572 6873
000573 6220
000574 6361
000575 3a6b      	.DB  0x73,0x68,0x20,0x62,0x61,0x63,0x6B,0x3A
000576 0020
000577 2d20
000578 4f20
000579 214b      	.DB  0x20,0x0,0x20,0x2D,0x20,0x4F,0x4B,0x21
00057a 0a0d
00057b 0d00
00057c 570a
00057d 6972      	.DB  0xD,0xA,0x0,0xD,0xA,0x57,0x72,0x69
00057e 6574
00057f 7420
000580 206f
000581 6966      	.DB  0x74,0x65,0x20,0x74,0x6F,0x20,0x66,0x69
000582 656c
000583 203a
000584 2020
000585 7250      	.DB  0x6C,0x65,0x3A,0x20,0x20,0x20,0x50,0x72
000586 7365
000587 2073
000588 455b
000589 4353      	.DB  0x65,0x73,0x73,0x20,0x5B,0x45,0x53,0x43
00058a 205d
00058b 6f74
00058c 6520
00058d 646e      	.DB  0x5D,0x20,0x74,0x6F,0x20,0x65,0x6E,0x64
00058e 2720
00058f 7257
000590 7469
000591 2765      	.DB  0x20,0x27,0x57,0x72,0x69,0x74,0x65,0x27
000592 6d20
000593 646f
000594 0d65
000595 000a      	.DB  0x20,0x6D,0x6F,0x64,0x65,0xD,0xA,0x0
000596 0a0d
000597 7257
000598 7469
000599 2065      	.DB  0xD,0xA,0x57,0x72,0x69,0x74,0x65,0x20
00059a 5245
00059b 4f52
00059c 2152
00059d 2121      	.DB  0x45,0x52,0x52,0x4F,0x52,0x21,0x21,0x21
00059e 0a00
00059f 460d
0005a0 6c69
0005a1 2065      	.DB  0x0,0xA,0xD,0x46,0x69,0x6C,0x65,0x20
0005a2 6c46
0005a3 7375
0005a4 6968
0005a5 676e      	.DB  0x46,0x6C,0x75,0x73,0x68,0x69,0x6E,0x67
0005a6 2e2e
0005a7 002e
0005a8 0d0a
0005a9 6946      	.DB  0x2E,0x2E,0x2E,0x0,0xA,0xD,0x46,0x69
0005aa 656c
0005ab 4320
0005ac 6f6c
0005ad 6973      	.DB  0x6C,0x65,0x20,0x43,0x6C,0x6F,0x73,0x69
0005ae 676e
0005af 2e2e
0005b0 002e
0005b1 0a0d      	.DB  0x6E,0x67,0x2E,0x2E,0x2E,0x0,0xD,0xA
0005b2 6c43
0005b3 736f
0005b4 2065
0005b5 6946      	.DB  0x43,0x6C,0x6F,0x73,0x65,0x20,0x46,0x69
0005b6 656c
0005b7 7720
0005b8 6f2f
0005b9 7320      	.DB  0x6C,0x65,0x20,0x77,0x2F,0x6F,0x20,0x73
0005ba 7661
0005bb 6e69
0005bc 2067
0005bd 7562      	.DB  0x61,0x76,0x69,0x6E,0x67,0x20,0x62,0x75
0005be 6666
0005bf 7265
0005c0 6465
0005c1 6420      	.DB  0x66,0x66,0x65,0x72,0x65,0x64,0x20,0x64
0005c2 7461
0005c3 3f61
0005c4 2020
0005c5 5928      	.DB  0x61,0x74,0x61,0x3F,0x20,0x20,0x28,0x59
0005c6 6529
0005c7 2073
0005c8 2820
0005c9 294e      	.DB  0x29,0x65,0x73,0x20,0x20,0x28,0x4E,0x29
0005ca 0d6f
0005cb 200a
0005cc 0020
0005cd 0a0d      	.DB  0x6F,0xD,0xA,0x20,0x20,0x0,0xD,0xA
0005ce 694d
0005cf 7263
0005d0 636f
0005d1 6e6f      	.DB  0x4D,0x69,0x63,0x72,0x6F,0x63,0x6F,0x6E
0005d2 7274
0005d3 6c6f
0005d4 656c
0005d5 2072      	.DB  0x74,0x72,0x6F,0x6C,0x6C,0x65,0x72,0x20
0005d6 6552
0005d7 6573
0005d8 2174
0005d9 2121      	.DB  0x52,0x65,0x73,0x65,0x74,0x21,0x21,0x21
0005da 0a0d
0005db 0d00
0005dc 500a
0005dd 6572      	.DB  0xD,0xA,0x0,0xD,0xA,0x50,0x72,0x65
0005de 7373
0005df 2720
0005e0 2731
0005e1 7420      	.DB  0x73,0x73,0x20,0x27,0x31,0x27,0x20,0x74
0005e2 206f
0005e3 6e69
0005e4 7469
0005e5 6169      	.DB  0x6F,0x20,0x69,0x6E,0x69,0x74,0x69,0x61
0005e6 696c
0005e7 657a
0005e8 6d20
0005e9 6465      	.DB  0x6C,0x69,0x7A,0x65,0x20,0x6D,0x65,0x64
0005ea 6169
0005eb 003a
0005ec 0a0d
0005ed 2020      	.DB  0x69,0x61,0x3A,0x0,0xD,0xA,0x20,0x20
0005ee 5245
0005ef 4f52
0005f0 2152
0005f1 2121      	.DB  0x45,0x52,0x52,0x4F,0x52,0x21,0x21,0x21
0005f2 0a0d
0005f3 0d00
0005f4 200a
0005f5 4f20      	.DB  0xD,0xA,0x0,0xD,0xA,0x20,0x20,0x4F
0005f6 214b
0005f7 2121
fulldemo.inc(454): warning: .cseg .db misalignment - padding zero byte
fulldemo.asm(940): 'fulldemo.inc' included form here
0005f8 0000      	.DB  0x4B,0x21,0x21,0x21,0x0
                 
                 ;HEAP START MARKER INITIALIZATION
                 __HEAP_START_MARKER:
0005f9 0000
0005fa 0000      	.DW  0,0
                 
                 __GLOBAL_INI_TBL:
0005fb 0004      	.DW  0x04
0005fc 0824      	.DW  0x824
0005fd 0bf2      	.DW  __HEAP_START_MARKER*2
                 
0005fe 0000      	.DW  0
                 _0x533:
                 
                 __RESET:
0005ff 94f8      	CLI
000600 27ee      	CLR  R30
000601 bbec      	OUT  EECR,R30
                 
                 ;INTERRUPT VECTORS ARE PLACED
                 ;AT THE START OF FLASH
000602 e0f1      	LDI  R31,1
000603 bff5      	OUT  MCUCR,R31
000604 bfe5      	OUT  MCUCR,R30
000605 93e0 006c 	STS  XMCRB,R30
000607 bfeb      	OUT  RAMPZ,R30
                 
                 ;DISABLE WATCHDOG
000608 e1f8      	LDI  R31,0x18
000609 bdf1      	OUT  WDTCR,R31
00060a bde1      	OUT  WDTCR,R30
                 
                 ;CLEAR R2-R14
00060b e08d      	LDI  R24,13
00060c e0a2      	LDI  R26,2
00060d 27bb      	CLR  R27
                 __CLEAR_REG:
00060e 93ed      	ST   X+,R30
00060f 958a      	DEC  R24
000610 f7e9      	BRNE __CLEAR_REG
                 
                 ;CLEAR SRAM
000611 e284      	LDI  R24,LOW(0x724)
000612 e097      	LDI  R25,HIGH(0x724)
000613 e0a0      	LDI  R26,LOW(0x100)
000614 e0b1      	LDI  R27,HIGH(0x100)
                 __CLEAR_SRAM:
000615 93ed      	ST   X+,R30
000616 9701      	SBIW R24,1
000617 f7e9      	BRNE __CLEAR_SRAM
                 
                 ;GLOBAL VARIABLES INITIALIZATION
000618 efe6      	LDI  R30,LOW(__GLOBAL_INI_TBL*2)
000619 e0fb      	LDI  R31,HIGH(__GLOBAL_INI_TBL*2)
                 __GLOBAL_INI_NEXT:
00061a 9185      	LPM  R24,Z+
00061b 9195      	LPM  R25,Z+
00061c 9700      	SBIW R24,0
00061d f061      	BREQ __GLOBAL_INI_END
00061e 91a5      	LPM  R26,Z+
00061f 91b5      	LPM  R27,Z+
000620 9005      	LPM  R0,Z+
000621 9015      	LPM  R1,Z+
000622 01bf      	MOVW R22,R30
000623 01f0      	MOVW R30,R0
                 __GLOBAL_INI_LOOP:
000624 9005      	LPM  R0,Z+
000625 920d      	ST   X+,R0
000626 9701      	SBIW R24,1
000627 f7e1      	BRNE __GLOBAL_INI_LOOP
000628 01fb      	MOVW R30,R22
000629 cff0      	RJMP __GLOBAL_INI_NEXT
                 __GLOBAL_INI_END:
                 
                 ;STACK POINTER INITIALIZATION
00062a e2e3      	LDI  R30,LOW(0x823)
00062b bfed      	OUT  SPL,R30
00062c e0e8      	LDI  R30,HIGH(0x823)
00062d bfee      	OUT  SPH,R30
                 
                 ;DATA STACK POINTER INITIALIZATION
00062e e0c0      	LDI  R28,LOW(0x500)
00062f e0d5      	LDI  R29,HIGH(0x500)
                 
000630 940c 2e51 	JMP  _main
                 
                 	.ESEG
                 	.ORG 0
                 
                 	.DSEG
                 	.ORG 0x500
                 ;       1 /*********************************************
                 ;       2 Project : FlashFileSD
                 ;       3 Version : 1.31 
                 ;       4 Date    : 12/19/2003
                 ;       5 Author  : Erick Higa       
                 ;       6 Company : Progressive Resources LLC       
                 ;       7 
                 ;       8 Chip type           : ATmega128
                 ;       9 Program type        : Application
                 ;      10 Clock frequency     : 14.745600 MHz
                 ;      11 Memory model        : Small
                 ;      12 External SRAM size  : 0
                 ;      13 Data Stack size     : 1024
                 ;      14 
                 ;      15 Comments:
                 ;      16 The "fulldemo.c" file is an example of how the FlasFileSD
                 ;      17 can be used.  It is setup to use an ATMega128 processor,
                 ;      18 a 14.7456 MHz oscillator, with USART0 @ 115200 bps.
                 ;      19 
                 ;      20 See "file_sys.c" header for revision history
                 ;      21 
                 ;      22 Software License
                 ;      23 The use of Progressive Resources LLC FlashFile Source Package indicates 
                 ;      24 your understanding and acceptance of the following terms and conditions. 
                 ;      25 This license shall supersede any verbal or prior verbal or written, statement 
                 ;      26 or agreement to the contrary. If you do not understand or accept these terms, 
                 ;      27 or your local regulations prohibit "after sale" license agreements or limited 
                 ;      28 disclaimers, you must cease and desist using this product immediately.
                 ;      29 This product is  Copyright 2003 by Progressive Resources LLC, all rights 
                 ;      30 reserved. International copyright laws, international treaties and all other 
                 ;      31 applicable national or international laws protect this product. This software 
                 ;      32 product and documentation may not, in whole or in part, be copied, photocopied, 
                 ;      33 translated, or reduced to any electronic medium or machine readable form, without 
                 ;      34 prior consent in writing, from Progressive Resources LLC and according to all 
                 ;      35 applicable laws. The sole owner of this product is Progressive Resources LLC.
                 ;      36 
                 ;      37 Operating License
                 ;      38 You have the non-exclusive right to use any enclosed product but have no right 
                 ;      39 to distribute it as a source code product without the express written permission 
                 ;      40 of Progressive Resources LLC. Use over a "local area network" (within the same 
                 ;      41 locale) is permitted provided that only a single person, on a single computer 
                 ;      42 uses the product at a time. Use over a "wide area network" (outside the same 
                 ;      43 locale) is strictly prohibited under any and all circumstances.
                 ;      44                                            
                 ;      45 Liability Disclaimer
                 ;      46 This product and/or license is provided as is, without any representation or 
                 ;      47 warranty of any kind, either express or implied, including without limitation 
                 ;      48 any representations or endorsements regarding the use of, the results of, or 
                 ;      49 performance of the product, Its appropriateness, accuracy, reliability, or 
                 ;      50 correctness. The user and/or licensee assume the entire risk as to the use of 
                 ;      51 this product. Progressive Resources LLC does not assume liability for the use 
                 ;      52 of this product beyond the original purchase price of the software. In no event 
                 ;      53 will Progressive Resources LLC be liable for additional direct or indirect 
                 ;      54 damages including any lost profits, lost savings, or other incidental or 
                 ;      55 consequential damages arising from any defects, or the use or inability to 
                 ;      56 use these products, even if Progressive Resources LLC have been advised of 
                 ;      57 the possibility of such damages.
                 ;      58 *********************************************/
                 ;      59 
                 ;      60 #include <mega128.h>
                 ;      61 
                 ;      62 #define RXB8 1
                 ;      63 #define TXB8 0
                 ;      64 #define UPE 2
                 ;      65 #define OVR 3
                 ;      66 #define FE 4
                 ;      67 #define UDRE 5
                 ;      68 #define RXC 7
                 ;      69 
                 ;      70 #define FRAMING_ERROR (1<<FE)
                 ;      71 #define PARITY_ERROR (1<<UPE)
                 ;      72 #define DATA_OVERRUN (1<<OVR)
                 ;      73 #define DATA_REGISTER_EMPTY (1<<UDRE)
                 ;      74 #define RX_COMPLETE (1<<RXC)
                 ;      75 
                 ;      76 // Get a character from the USART0 Receiver
                 ;      77 #ifndef _DEBUG_TERMINAL_IO_
                 ;      78 #define _ALTERNATE_GETCHAR_
                 ;      79 #pragma used+
                 ;      80 char getchar(void)
                 ;      81 {
                 
                 	.CSEG
                 _getchar:
                 ;      82 char status,data;
                 ;      83 while (1)
000632 931a      	ST   -Y,R17
000633 930a      	ST   -Y,R16
                 ;	status -> R16
                 ;	data -> R17
                 _0x3:
                 ;      84       {
                 ;      85       while (((status=UCSR0A) & RX_COMPLETE)==0);
                 _0x6:
000634 b1eb      	IN   R30,0xB
000635 2f0e      	MOV  R16,R30
000636 78e0      	ANDI R30,LOW(0x80)
000637 f3e1      	BREQ _0x6
                 ;      86       data=UDR0;
000638 b11c      	IN   R17,12
                 ;      87       if ((status & (FRAMING_ERROR | PARITY_ERROR | DATA_OVERRUN))==0)
000639 2fe0      	MOV  R30,R16
00063a 71ec      	ANDI R30,LOW(0x1C)
00063b f411      	BRNE _0x9
                 ;      88          return data;
00063c 2fe1      	MOV  R30,R17
00063d c001      	RJMP _0x523
                 ;      89       };
                 _0x9:
00063e cff5      	RJMP _0x3
                 ;      90 }
                 _0x523:
00063f 9109      	LD   R16,Y+
000640 9119      	LD   R17,Y+
000641 9508      	RET
                 ;      91 #pragma used-
                 ;      92 #endif
                 ;      93 
                 ;      94 // Write a character to the USART0 Transmitter
                 ;      95 #ifndef _DEBUG_TERMINAL_IO_
                 ;      96 #define _ALTERNATE_PUTCHAR_
                 ;      97 #pragma used+
                 ;      98 void putchar(char c)
                 ;      99 {
                 _putchar:
                 ;     100 while ((UCSR0A & DATA_REGISTER_EMPTY)==0);
                 _0xA:
000642 9b5d      	SBIS 0xB,5
000643 cffe      	RJMP _0xA
                 ;     101 UDR0=c;
000644 81e8      	LD   R30,Y
000645 b9ec      	OUT  0xC,R30
                 ;     102 }
000646 c005      	RJMP _0x522
                 ;     103 #pragma used-
                 ;     104 #endif
                 ;     105 
                 ;     106 #include "options.h"
                 ;     107 /*
                 ;     108 	Progressive Resources LLC
                 ;     109                                     
                 ;     110 			FlashFile
                 ;     111 	
                 ;     112 	Version : 	1.32
                 ;     113 	Date: 		12/31/2003
                 ;     114 	Author: 	Erick M. Higa
                 ;     115                                            
                 ;     116 	Software License
                 ;     117 	The use of Progressive Resources LLC FlashFile Source Package indicates 
                 ;     118 	your understanding and acceptance of the following terms and conditions. 
                 ;     119 	This license shall supersede any verbal or prior verbal or written, statement 
                 ;     120 	or agreement to the contrary. If you do not understand or accept these terms, 
                 ;     121 	or your local regulations prohibit "after sale" license agreements or limited 
                 ;     122 	disclaimers, you must cease and desist using this product immediately.
                 ;     123 	This product is  Copyright 2003 by Progressive Resources LLC, all rights 
                 ;     124 	reserved. International copyright laws, international treaties and all other 
                 ;     125 	applicable national or international laws protect this product. This software 
                 ;     126 	product and documentation may not, in whole or in part, be copied, photocopied, 
                 ;     127 	translated, or reduced to any electronic medium or machine readable form, without 
                 ;     128 	prior consent in writing, from Progressive Resources LLC and according to all 
                 ;     129 	applicable laws. The sole owner of this product is Progressive Resources LLC.
                 ;     130 
                 ;     131 	Operating License
                 ;     132 	You have the non-exclusive right to use any enclosed product but have no right 
                 ;     133 	to distribute it as a source code product without the express written permission 
                 ;     134 	of Progressive Resources LLC. Use over a "local area network" (within the same 
                 ;     135 	locale) is permitted provided that only a single person, on a single computer 
                 ;     136 	uses the product at a time. Use over a "wide area network" (outside the same 
                 ;     137 	locale) is strictly prohibited under any and all circumstances.
                 ;     138                                            
                 ;     139 	Liability Disclaimer
                 ;     140 	This product and/or license is provided as is, without any representation or 
                 ;     141 	warranty of any kind, either express or implied, including without limitation 
                 ;     142 	any representations or endorsements regarding the use of, the results of, or 
                 ;     143 	performance of the product, Its appropriateness, accuracy, reliability, or 
                 ;     144 	correctness. The user and/or licensee assume the entire risk as to the use of 
                 ;     145 	this product. Progressive Resources LLC does not assume liability for the use 
                 ;     146 	of this product beyond the original purchase price of the software. In no event 
                 ;     147 	will Progressive Resources LLC be liable for additional direct or indirect 
                 ;     148 	damages including any lost profits, lost savings, or other incidental or 
                 ;     149 	consequential damages arising from any defects, or the use or inability to 
                 ;     150 	use these products, even if Progressive Resources LLC have been advised of 
                 ;     151 	the possibility of such damages.
                 ;     152 */                                 
                 ;     153 
                 ;     154 /*
                 ;     155 #include _AVR_LIB_
                 ;     156 #include <stdio.h>
                 ;     157 
                 ;     158 #ifndef _file_sys_h_
                 ;     159 	#include "..\flash\file_sys.h"
                 ;     160 #endif
                 ;     161 */
                 ;     162 
                 ;     163 unsigned long OCR_REG;
                 
                 	.DSEG
                 _OCR_REG:
000500           	.BYTE 0x4
                 ;     164 unsigned char _FF_buff[512];
                 __FF_buff:
000504           	.BYTE 0x200
                 ;     165 unsigned int PT_SecStart;
                 ;     166 unsigned long BS_jmpBoot;
                 _BS_jmpBoot:
000704           	.BYTE 0x4
                 ;     167 unsigned int BPB_BytsPerSec;
                 ;     168 unsigned char BPB_SecPerClus;
                 ;     169 unsigned int BPB_RsvdSecCnt;
                 ;     170 unsigned char BPB_NumFATs;
                 ;     171 unsigned int BPB_RootEntCnt;
                 ;     172 unsigned int BPB_FATSz16;
                 _BPB_FATSz16:
000708           	.BYTE 0x2
                 ;     173 unsigned char BPB_FATType;
                 ;     174 unsigned long BPB_TotSec;
                 _BPB_TotSec:
00070a           	.BYTE 0x4
                 ;     175 unsigned long BS_VolSerial;
                 _BS_VolSerial:
00070e           	.BYTE 0x4
                 ;     176 unsigned char BS_VolLab[12];
                 _BS_VolLab:
000712           	.BYTE 0xC
                 ;     177 unsigned long _FF_PART_ADDR, _FF_ROOT_ADDR, _FF_DIR_ADDR;
                 __FF_PART_ADDR:
00071e           	.BYTE 0x4
                 __FF_ROOT_ADDR:
000722           	.BYTE 0x4
                 __FF_DIR_ADDR:
000726           	.BYTE 0x4
                 ;     178 unsigned long _FF_FAT1_ADDR, _FF_FAT2_ADDR;
                 __FF_FAT1_ADDR:
00072a           	.BYTE 0x4
                 __FF_FAT2_ADDR:
00072e           	.BYTE 0x4
                 ;     179 unsigned long _FF_RootDirSectors;
                 __FF_RootDirSectors:
000732           	.BYTE 0x4
                 ;     180 unsigned int FirstDataSector;
                 _FirstDataSector:
000736           	.BYTE 0x2
                 ;     181 unsigned long FirstSectorofCluster;
                 _FirstSectorofCluster:
000738           	.BYTE 0x4
                 ;     182 unsigned char _FF_error;
                 __FF_error:
00073c           	.BYTE 0x1
                 ;     183 unsigned long _FF_buff_addr;
                 __FF_buff_addr:
00073d           	.BYTE 0x4
                 ;     184 extern unsigned long clus_0_addr, _FF_n_temp;
                 ;     185 extern unsigned int c_counter;
                 ;     186 extern unsigned char _FF_FULL_PATH[_FF_PATH_LENGTH];
                 ;     187 
                 ;     188 unsigned long DataClusTot;
                 _DataClusTot:
000741           	.BYTE 0x4
                 ;     189 
                 ;     190 flash struct CMD
                 ;     191 {
                 ;     192 	unsigned int index;
                 ;     193 	unsigned int tx_data;
                 ;     194 	unsigned int arg;
                 ;     195 	unsigned int resp;
                 ;     196 };
                 ;     197 
                 ;     198 flash struct CMD sd_cmd[CMD_TOT] =
                 
                 	.CSEG
                 ;     199 {
                 ;     200 	{CMD0,	0x40,	NO_ARG,		RESP_1},		// GO_IDLE_STATE
                 ;     201 	{CMD1,	0x41,	NO_ARG,		RESP_1},		// SEND_OP_COND (ACMD41 = 0x69)
                 ;     202 	{CMD9,	0x49,	NO_ARG,		RESP_1},		// SEND_CSD
                 ;     203 	{CMD10,	0x4A,	NO_ARG,		RESP_1},		// SEND_CID
                 ;     204 	{CMD12,	0x4C,	NO_ARG,		RESP_1},		// STOP_TRANSMISSION
                 ;     205 	{CMD13,	0x4D,	NO_ARG,		RESP_2},		// SEND_STATUS
                 ;     206 	{CMD16,	0x50,	BLOCK_LEN,	RESP_1},		// SET_BLOCKLEN
                 ;     207 	{CMD17, 0x51,	DATA_ADDR,	RESP_1},		// READ_SINGLE_BLOCK
                 ;     208 	{CMD18, 0x52,	DATA_ADDR,	RESP_1},		// READ_MULTIPLE_BLOCK
                 ;     209 	{CMD24, 0x58,	DATA_ADDR,	RESP_1},		// WRITE_BLOCK
                 ;     210 	{CMD25, 0x59,	DATA_ADDR,	RESP_1},		// WRITE_MULTIPLE_BLOCK
                 ;     211 	{CMD27,	0x5B,	NO_ARG,		RESP_1},		// PROGRAM_CSD
                 ;     212 	{CMD28, 0x5C,	DATA_ADDR,	RESP_1b},		// SET_WRITE_PROT
                 ;     213 	{CMD29, 0x5D,	DATA_ADDR,	RESP_1b},		// CLR_WRITE_PROT
                 ;     214 	{CMD30, 0x5E,	DATA_ADDR,	RESP_1},		// SEND_WRITE_PROT
                 ;     215 	{CMD32,	0x60,	DATA_ADDR,	RESP_1},		// TAG_SECTOR_START
                 ;     216 	{CMD33,	0x61,	DATA_ADDR,	RESP_1},		// TAG_SECTOR_END
                 ;     217 	{CMD34,	0x62,	DATA_ADDR,	RESP_1},		// UNTAG_SECTOR
                 ;     218 	{CMD35,	0x63,	DATA_ADDR,	RESP_1},		// TAG_ERASE_GROUP_START
                 ;     219 	{CMD36,	0x64,	DATA_ADDR,	RESP_1},		// TAG_ERASE_GROUP_END
                 ;     220 	{CMD37,	0x65,	DATA_ADDR,	RESP_1},		// TAG_ERASE_GROUP
                 ;     221 	{CMD38,	0x66,	STUFF_BITS,	RESP_1b},		// ERASE
                 ;     222 	{CMD42,	0x6A,	STUFF_BITS,	RESP_1b},		// LOCK_UNLOCK
                 ;     223 	{CMD58,	0x7A,	NO_ARG,		RESP_3},		// READ_OCR
                 ;     224 	{CMD59,	0x7B,	STUFF_BITS,	RESP_1},		// CRC_ON_OFF
                 ;     225 	{ACMD41, 0x69,	NO_ARG,		RESP_1}
                 ;     226 };
                 ;     227 
                 ;     228 unsigned char _FF_spi(unsigned char mydata)
                 ;     229 {
                 __FF_spi:
                 ;     230     SPDR = mydata;          //byte 1
000647 81e8      	LD   R30,Y
000648 b9ef      	OUT  0xF,R30
                 ;     231     while ((SPSR&0x80) == 0); 
                 _0xD:
000649 9b77      	SBIS 0xE,7
00064a cffe      	RJMP _0xD
                 ;     232     return SPDR;
00064b b1ef      	IN   R30,0xF
                 _0x522:
00064c 9621      	ADIW R28,1
00064d 9508      	RET
                 ;     233 }
                 ;     234 	
                 ;     235 unsigned int send_cmd(unsigned char command, unsigned long argument)
                 ;     236 {
                 _send_cmd:
                 ;     237 	unsigned char spi_data_out;
                 ;     238 	unsigned char response_1;
                 ;     239 	unsigned long response_2;
                 ;     240 	unsigned int c, i;
                 ;     241 	
                 ;     242 	SD_CS_ON();			// select chip
00064e 9724      	SBIW R28,4
00064f 940e 4014 	CALL __SAVELOCR6
                 ;	command -> Y+14
                 ;	argument -> Y+10
                 ;	spi_data_out -> R16
                 ;	response_1 -> R17
                 ;	response_2 -> Y+6
                 ;	c -> R18,R19
                 ;	i -> R20,R21
000651 98c4      	CBI  0x18,4
                 ;     243 	
                 ;     244 	spi_data_out = sd_cmd[command].tx_data;
000652 85ae      	LDD  R26,Y+14
000653 27bb      	CLR  R27
000654 e86e
000655 e070      	__POINTWRFN 22,23,_sd_cmd,2
000656 940e 331e 	CALL SUBOPT_0x0
000658 9104      	LPM  R16,Z
                 ;     245 	_FF_spi(spi_data_out);
000659 930a      	ST   -Y,R16
00065a 940e 3325 	CALL SUBOPT_0x1
                 ;     246 	
                 ;     247 	c = sd_cmd[command].arg;
00065c e960
00065d e070      	__POINTWRFN 22,23,_sd_cmd,4
00065e 940e 331e 	CALL SUBOPT_0x0
000660 940e 3e5c 	CALL __GETW1PF
000662 019f      	MOVW R18,R30
                 ;     248 	if (c == NO_ARG)
000663 2e02      	MOV  R0,R18
000664 2a03      	OR   R0,R19
000665 f471      	BRNE _0x10
                 ;     249 		for (i=0; i<4; i++)
000666 e040
000667 e050      	__GETWRN 20,21,0
                 _0x12:
000668 3044
000669 e0e0
00066a 075e      	__CPWRN 20,21,4
00066b f438      	BRSH _0x13
                 ;     250 			_FF_spi(0);
00066c e0e0      	LDI  R30,LOW(0)
00066d 93ea      	ST   -Y,R30
00066e 940e 0647 	CALL __FF_spi
                 ;     251 	else
000670 5f4f
000671 4f5f      	__ADDWRN 20,21,1
000672 cff5      	RJMP _0x12
                 _0x13:
000673 c028      	RJMP _0x14
                 _0x10:
                 ;     252 	{
                 ;     253 		spi_data_out = (argument & 0xFF000000) >> 24;
000674 85ea
000675 85fb
000676 856c
000677 857d      	__GETD1S 10
000678 70e0
000679 70f0
00067a 7060
00067b 7f7f      	__ANDD1N 0xFF000000
00067c 01df      	MOVW R26,R30
00067d 01cb      	MOVW R24,R22
00067e e1e8      	LDI  R30,LOW(24)
00067f 940e 332a 	CALL SUBOPT_0x2
                 ;     254 		_FF_spi(spi_data_out);
                 ;     255 		spi_data_out = (argument & 0x00FF0000) >> 16;
000681 70e0
000682 70f0
000683 7f6f
000684 7070      	__ANDD1N 0xFF0000
000685 940e 3d70 	CALL __LSRD16
000687 940e 3335 	CALL SUBOPT_0x3
                 ;     256 		_FF_spi(spi_data_out);
                 ;     257 		spi_data_out = (argument & 0x0000FF00) >> 8;
000689 85ea
00068a 85fb
00068b 856c
00068c 857d      	__GETD1S 10
00068d 70e0
00068e 7fff
00068f 7060
000690 7070      	__ANDD1N 0xFF00
000691 01df      	MOVW R26,R30
000692 01cb      	MOVW R24,R22
000693 e0e8      	LDI  R30,LOW(8)
000694 940e 332a 	CALL SUBOPT_0x2
                 ;     258 		_FF_spi(spi_data_out);
                 ;     259 		spi_data_out = (argument & 0x000000FF);
000696 7fef
000697 70f0
000698 7060
000699 7070      	__ANDD1N 0xFF
00069a 940e 3335 	CALL SUBOPT_0x3
                 ;     260 		_FF_spi(spi_data_out);
                 ;     261 	}
                 _0x14:
                 ;     262 	if (command == CMD0)
00069c 85ee      	LDD  R30,Y+14
00069d 30e0      	CPI  R30,0
00069e f411      	BRNE _0x15
                 ;     263 		spi_data_out = 0x95;		// CRC byte, don't care except for first signal=0x95
00069f e905      	LDI  R16,LOW(149)
                 ;     264 	else
0006a0 c001      	RJMP _0x16
                 _0x15:
                 ;     265 		spi_data_out = 0xFF;
0006a1 ef0f      	LDI  R16,LOW(255)
                 ;     266 	_FF_spi(spi_data_out);
                 _0x16:
0006a2 930a      	ST   -Y,R16
0006a3 940e 3339 	CALL SUBOPT_0x4
                 ;     267 	_FF_spi(0xff);	
0006a5 940e 3325 	CALL SUBOPT_0x1
                 ;     268 	c = sd_cmd[command].resp;
0006a7 e962
0006a8 e070      	__POINTWRFN 22,23,_sd_cmd,6
0006a9 940e 331e 	CALL SUBOPT_0x0
0006ab 940e 3e5c 	CALL __GETW1PF
0006ad 019f      	MOVW R18,R30
                 ;     269 	switch(c)
0006ae 01f9      	MOVW R30,R18
                 ;     270 	{
                 ;     271 		case RESP_1:
0006af 9730      	SBIW R30,0
0006b0 f421      	BRNE _0x1A
                 ;     272 			return (_FF_spi(0xFF));
0006b1 940e 333e 	CALL SUBOPT_0x5
0006b3 e0f0      	LDI  R31,0
0006b4 c088      	RJMP _0x521
                 ;     273 			break;
                 ;     274 		case RESP_1b:
                 _0x1A:
0006b5 30e1      	CPI  R30,LOW(0x1)
0006b6 e0a0      	LDI  R26,HIGH(0x1)
0006b7 07fa      	CPC  R31,R26
0006b8 f4e1      	BRNE _0x1B
                 ;     275 			response_1 = _FF_spi(0xFF);
0006b9 940e 333e 	CALL SUBOPT_0x5
0006bb 2f1e      	MOV  R17,R30
                 ;     276 			response_2 = 0;
0006bc e0e0
0006bd 83ee
0006be 83ef
0006bf 87e8
0006c0 87e9      	__CLRD1S 6
                 ;     277 			while (response_2 == 0)
                 _0x1C:
0006c1 81ee
0006c2 81ff
0006c3 8568
0006c4 8579      	__GETD1S 6
0006c5 940e 3ff8 	CALL __CPD10
0006c7 f451      	BRNE _0x1E
                 ;     278 				response_2 = _FF_spi(0xFF);
0006c8 940e 333e 	CALL SUBOPT_0x5
0006ca 27ff      	CLR  R31
0006cb 2766      	CLR  R22
0006cc 2777      	CLR  R23
0006cd 83ee
0006ce 83ff
0006cf 8768
0006d0 8779      	__PUTD1S 6
                 ;     279 			return (response_1);
0006d1 cfef      	RJMP _0x1C
                 _0x1E:
0006d2 2fe1      	MOV  R30,R17
0006d3 e0f0      	LDI  R31,0
0006d4 c068      	RJMP _0x521
                 ;     280 			break;
                 ;     281 		case RESP_2:
                 _0x1B:
0006d5 30e2      	CPI  R30,LOW(0x2)
0006d6 e0a0      	LDI  R26,HIGH(0x2)
0006d7 07fa      	CPC  R31,R26
0006d8 f4d9      	BRNE _0x1F
                 ;     282 			response_2 = _FF_spi(0xFF);
0006d9 940e 333e 	CALL SUBOPT_0x5
0006db 940e 3342 	CALL SUBOPT_0x6
                 ;     283 			response_2 = (response_2 << 8) | _FF_spi(0xFF);
0006dd e0e8      	LDI  R30,LOW(8)
0006de 940e 3d41 	CALL __LSLD12
0006e0 937f      	PUSH R23
0006e1 936f      	PUSH R22
0006e2 93ff      	PUSH R31
0006e3 93ef      	PUSH R30
0006e4 940e 333e 	CALL SUBOPT_0x5
0006e6 91af      	POP  R26
0006e7 91bf      	POP  R27
0006e8 918f      	POP  R24
0006e9 919f      	POP  R25
0006ea 27ff      	CLR  R31
0006eb 2766      	CLR  R22
0006ec 2777      	CLR  R23
0006ed 940e 3d26 	CALL __ORD12
0006ef 83ee
0006f0 83ff
0006f1 8768
0006f2 8779      	__PUTD1S 6
                 ;     284 			return (response_2);
0006f3 c049      	RJMP _0x521
                 ;     285 			break;
                 ;     286 		case RESP_3:
                 _0x1F:
0006f4 30e3      	CPI  R30,LOW(0x3)
0006f5 e0a0      	LDI  R26,HIGH(0x3)
0006f6 07fa      	CPC  R31,R26
0006f7 f011      	BREQ PC+3
0006f8 940c 073b 	JMP _0x19
                 ;     287 			response_1 = _FF_spi(0xFF);
0006fa 940e 333e 	CALL SUBOPT_0x5
0006fc 2f1e      	MOV  R17,R30
                 ;     288 			OCR_REG = 0;
0006fd e0e0      	LDI  R30,0
0006fe 93e0 0500 	STS  _OCR_REG,R30
000700 93e0 0501 	STS  _OCR_REG+1,R30
000702 93e0 0502 	STS  _OCR_REG+2,R30
000704 93e0 0503 	STS  _OCR_REG+3,R30
                 ;     289 			response_2 = _FF_spi(0xFF);
000706 940e 333e 	CALL SUBOPT_0x5
000708 940e 3342 	CALL SUBOPT_0x6
                 ;     290 			OCR_REG = response_2 << 24;
00070a e1e8      	LDI  R30,LOW(24)
00070b 940e 3d41 	CALL __LSLD12
00070d 93e0 0500 	STS  _OCR_REG,R30
00070f 93f0 0501 	STS  _OCR_REG+1,R31
000711 9360 0502 	STS  _OCR_REG+2,R22
000713 9370 0503 	STS  _OCR_REG+3,R23
                 ;     291 			response_2 = _FF_spi(0xFF);
000715 940e 333e 	CALL SUBOPT_0x5
000717 940e 334e 	CALL SUBOPT_0x7
                 ;     292 			OCR_REG |= (response_2 << 16);
000719 940e 3d75 	CALL __LSLD16
00071b 940e 3356 	CALL SUBOPT_0x8
                 ;     293 			response_2 = _FF_spi(0xFF);
00071d 940e 3342 	CALL SUBOPT_0x6
                 ;     294 			OCR_REG |= (response_2 << 8);
00071f e0e8      	LDI  R30,LOW(8)
000720 940e 3d41 	CALL __LSLD12
000722 940e 3356 	CALL SUBOPT_0x8
                 ;     295 			response_2 = _FF_spi(0xFF);
000724 940e 334e 	CALL SUBOPT_0x7
                 ;     296 			OCR_REG |= (response_2);
000726 91a0 0500 	LDS  R26,_OCR_REG
000728 91b0 0501 	LDS  R27,_OCR_REG+1
00072a 9180 0502 	LDS  R24,_OCR_REG+2
00072c 9190 0503 	LDS  R25,_OCR_REG+3
00072e 940e 3d26 	CALL __ORD12
000730 93e0 0500 	STS  _OCR_REG,R30
000732 93f0 0501 	STS  _OCR_REG+1,R31
000734 9360 0502 	STS  _OCR_REG+2,R22
000736 9370 0503 	STS  _OCR_REG+3,R23
                 ;     297 			return (response_1);
000738 2fe1      	MOV  R30,R17
000739 e0f0      	LDI  R31,0
00073a c002      	RJMP _0x521
                 ;     298 			break;
                 ;     299 	}
                 _0x19:
                 ;     300 	return (0);
00073b e0e0      	LDI  R30,LOW(0)
00073c e0f0      	LDI  R31,HIGH(0)
                 _0x521:
00073d 940e 401b 	CALL __LOADLOCR6
00073f 962f      	ADIW R28,15
000740 9508      	RET
                 ;     301 }
                 ;     302 
                 ;     303 void clear_sd_buff(void)
                 ;     304 {
                 _clear_sd_buff:
                 ;     305 	SD_CS_OFF();
000741 9ac4      	SBI  0x18,4
                 ;     306 	_FF_spi(0xFF);
000742 940e 3369 	CALL SUBOPT_0x9
                 ;     307 	_FF_spi(0xFF);
000744 940e 0647 	CALL __FF_spi
                 ;     308 }	
000746 9508      	RET
                 ;     309 
                 ;     310 unsigned char initialize_media(void)
                 ;     311 {
                 _initialize_media:
                 ;     312 	unsigned char data_temp;
                 ;     313 	unsigned long n;
                 ;     314 	
                 ;     315 	// SPI BUS SETUP
                 ;     316 	// SPI initialization
                 ;     317 	// SPI Type: Master
                 ;     318 	// SPI Clock Rate: 921.600 kHz
                 ;     319 	// SPI Clock Phase: Cycle Half
                 ;     320 	// SPI Clock Polarity: Low
                 ;     321 	// SPI Data Order: MSB First
                 ;     322 	DDRB |= 0x07;		// Set SS, SCK, and MOSI to Output (If not output, processor will be a slave)
000747 9724      	SBIW R28,4
000748 930a      	ST   -Y,R16
                 ;	data_temp -> R16
                 ;	n -> Y+1
000749 b3e7      	IN   R30,0x17
00074a 60e7      	ORI  R30,LOW(0x7)
00074b bbe7      	OUT  0x17,R30
                 ;     323 	DDRB &= 0xF7;		// Set MISO to Input
00074c 98bb      	CBI  0x17,3
                 ;     324 	CS_DDR_SET();		// Set CS to Output
00074d 9abc      	SBI  0x17,4
                 ;     325 	SPCR=0x50;
00074e 940e 336c 	CALL SUBOPT_0xA
                 ;     326 	SPSR=0x00;
000750 b9ee      	OUT  0xE,R30
                 ;     327 		
                 ;     328 	BPB_BytsPerSec = 512;	// Initialize sector size to 512 (all SD cards have a 512 sector size)
000751 e0e0      	LDI  R30,LOW(512)
000752 e0f2      	LDI  R31,HIGH(512)
000753 013f      	MOVW R6,R30
                 ;     329     _FF_n_temp = 0;
000754 e0e0      	LDI  R30,0
000755 93e0 0750 	STS  __FF_n_temp,R30
000757 93e0 0751 	STS  __FF_n_temp+1,R30
000759 93e0 0752 	STS  __FF_n_temp+2,R30
00075b 93e0 0753 	STS  __FF_n_temp+3,R30
                 ;     330 	if (reset_sd()==0)
00075d d3cd      	RCALL _reset_sd
00075e 30e0      	CPI  R30,0
00075f f411      	BRNE _0x21
                 ;     331 		return (0);
000760 e0e0      	LDI  R30,LOW(0)
000761 c3af      	RJMP _0x520
                 ;     332 	// delay_ms(50);
                 ;     333 	for (n=0; ((n<100)||(data_temp==0)) ; n++)
                 _0x21:
000762 e0e0
000763 83e9
000764 83ea
000765 83eb
000766 83ec      	__CLRD1S 1
                 _0x23:
000767 81a9
000768 81ba
000769 818b
00076a 819c      	__GETD2S 1
00076b 36a4
00076c e0e0
00076d 07be
00076e e0e0
00076f 078e
000770 e0e0
000771 079e      	__CPD2N 0x64
000772 f010      	BRLO _0x25
000773 3000      	CPI  R16,0
000774 f441      	BRNE _0x24
                 _0x25:
                 ;     334 	{
                 ;     335 		SD_CS_ON();
000775 98c4      	CBI  0x18,4
                 ;     336 		data_temp = _FF_spi(0xFF);
000776 940e 333e 	CALL SUBOPT_0x5
000778 2f0e      	MOV  R16,R30
                 ;     337 		SD_CS_OFF();
000779 9ac4      	SBI  0x18,4
                 ;     338 	}
00077a 940e 3370 	CALL SUBOPT_0xB
00077c cfea      	RJMP _0x23
                 _0x24:
                 ;     339 	// delay_ms(50);
                 ;     340 	for (n=0; n<100; n++)
00077d e0e0
00077e 83e9
00077f 83ea
000780 83eb
000781 83ec      	__CLRD1S 1
                 _0x28:
000782 81a9
000783 81ba
000784 818b
000785 819c      	__GETD2S 1
000786 36a4
000787 e0e0
000788 07be
000789 e0e0
00078a 078e
00078b e0e0
00078c 079e      	__CPD2N 0x64
00078d f4a0      	BRSH _0x29
                 ;     341 	{
                 ;     342 		if (init_sd())		// Initialization Succeeded
00078e d3dd      	RCALL _init_sd
00078f 30e0      	CPI  R30,0
000790 f489      	BRNE _0x29
                 ;     343 			break;
                 ;     344 		if (n==99)
000791 81a9
000792 81ba
000793 818b
000794 819c      	__GETD2S 1
000795 36a3
000796 e0e0
000797 07be
000798 e0e0
000799 078e
00079a e0e0
00079b 079e      	__CPD2N 0x63
00079c f411      	BRNE _0x2B
                 ;     345 			return (0);
00079d e0e0      	LDI  R30,LOW(0)
00079e c372      	RJMP _0x520
                 ;     346 	}
                 _0x2B:
00079f 940e 3370 	CALL SUBOPT_0xB
0007a1 cfe0      	RJMP _0x28
                 _0x29:
                 ;     347 
                 ;     348 	if (_FF_read(0x0)==0)
0007a2 e0e0
0007a3 e0f0
0007a4 e060
0007a5 e070      	__GETD1N 0x0
0007a6 940e 337d 	CALL SUBOPT_0xC
0007a8 f441      	BRNE _0x2C
                 ;     349 	{
                 ;     350 		#ifdef _DEBUG_ON_
                 ;     351 			printf("\n\rREAD_ERR"); 		
0007a9 e7e4
0007aa e0f1      	__POINTW1FN _0,0
0007ab 93fa      	ST   -Y,R31
0007ac 93ea      	ST   -Y,R30
0007ad e080      	LDI  R24,0
0007ae 940e 3383 	CALL SUBOPT_0xD
                 ;     352 		#endif
                 ;     353 		_FF_error = INIT_ERR;
                 ;     354 		return (0);
0007b0 c360      	RJMP _0x520
                 ;     355 	}
                 ;     356 	PT_SecStart = ((int) _FF_buff[0x1c7] << 8) | (int) _FF_buff[0x1c6];
                 _0x2C:
0007b1 91b0 06cb 	__GETBRMN 27,__FF_buff,455
0007b3 e0a0      	LDI  R26,LOW(0)
0007b4 91e0 06ca 	__GETB1MN __FF_buff,454
0007b6 e0f0      	LDI  R31,0
0007b7 2bea      	OR   R30,R26
0007b8 2bfb      	OR   R31,R27
0007b9 012f      	MOVW R4,R30
                 ;     357 	
                 ;     358 	if ((((_FF_buff[0]==0xEB)&&(_FF_buff[2]==0x90))||(_FF_buff[0]==0xE9)) && ((_FF_buff[510]==0x55)&&(_FF_buff[511]==0xAA)))
0007ba 91a0 0504 	LDS  R26,__FF_buff
0007bc 3eab      	CPI  R26,LOW(0xEB)
0007bd f421      	BRNE _0x2E
0007be 91e0 0506 	__GETB1MN __FF_buff,2
0007c0 39e0      	CPI  R30,LOW(0x90)
0007c1 f021      	BREQ _0x30
                 _0x2E:
0007c2 91a0 0504 	LDS  R26,__FF_buff
0007c4 3ea9      	CPI  R26,LOW(0xE9)
0007c5 f451      	BRNE _0x32
                 _0x30:
0007c6 91e0 0702 	__GETB1MN __FF_buff,510
0007c8 35e5      	CPI  R30,LOW(0x55)
0007c9 f421      	BRNE _0x33
0007ca 91e0 0703 	__GETB1MN __FF_buff,511
0007cc 3aea      	CPI  R30,LOW(0xAA)
0007cd f009      	BREQ _0x34
                 _0x33:
0007ce c001      	RJMP _0x32
                 _0x34:
0007cf c001      	RJMP _0x35
                 _0x32:
0007d0 c002      	RJMP _0x2D
                 _0x35:
                 ;     359     	PT_SecStart = 0;
0007d1 2444      	CLR  R4
0007d2 2455      	CLR  R5
                 ;     360  
                 ;     361 	_FF_PART_ADDR = (long) PT_SecStart * (long) BPB_BytsPerSec;
                 _0x2D:
0007d3 01f2      	MOVW R30,R4
0007d4 940e 338b 	CALL SUBOPT_0xE
0007d6 93e0 071e 	STS  __FF_PART_ADDR,R30
0007d8 93f0 071f 	STS  __FF_PART_ADDR+1,R31
0007da 9360 0720 	STS  __FF_PART_ADDR+2,R22
0007dc 9370 0721 	STS  __FF_PART_ADDR+3,R23
                 ;     362 
                 ;     363 	if (PT_SecStart)
0007de 2c04      	MOV  R0,R4
0007df 2805      	OR   R0,R5
0007e0 f059      	BREQ _0x36
                 ;     364 	{
                 ;     365 		if (_FF_read(_FF_PART_ADDR)==0)
0007e1 940e 337d 	CALL SUBOPT_0xC
0007e3 f441      	BRNE _0x37
                 ;     366 		{
                 ;     367 		   	#ifdef _DEBUG_ON_
                 ;     368 				printf("\n\rREAD_ERR");
0007e4 e7e4
0007e5 e0f1      	__POINTW1FN _0,0
0007e6 93fa      	ST   -Y,R31
0007e7 93ea      	ST   -Y,R30
0007e8 e080      	LDI  R24,0
0007e9 940e 3383 	CALL SUBOPT_0xD
                 ;     369 			#endif
                 ;     370 			_FF_error = INIT_ERR;
                 ;     371 			return (0);
0007eb c325      	RJMP _0x520
                 ;     372 		}
                 ;     373 	}
                 _0x37:
                 ;     374 
                 ;     375  	#ifdef _DEBUG_ON_
                 ;     376 		printf("\n\rBoot_Sec: [0x%X %X %X] [0x%X] [0x%X]", _FF_buff[0],_FF_buff[1],_FF_buff[2],_FF_buff[510],_FF_buff[511]); 		
                 _0x36:
0007ec e7ef
0007ed e0f1      	__POINTW1FN _0,11
0007ee 93fa      	ST   -Y,R31
0007ef 93ea      	ST   -Y,R30
0007f0 91e0 0504 	LDS  R30,__FF_buff
0007f2 27ff      	CLR  R31
0007f3 2766      	CLR  R22
0007f4 2777      	CLR  R23
0007f5 940e 3e66 	CALL __PUTPARD1
0007f7 91e0 0505 	__GETB1MN __FF_buff,1
0007f9 27ff      	CLR  R31
0007fa 2766      	CLR  R22
0007fb 2777      	CLR  R23
0007fc 940e 3e66 	CALL __PUTPARD1
0007fe 91e0 0506 	__GETB1MN __FF_buff,2
000800 27ff      	CLR  R31
000801 2766      	CLR  R22
000802 2777      	CLR  R23
000803 940e 3e66 	CALL __PUTPARD1
000805 91e0 0702 	__GETB1MN __FF_buff,510
000807 27ff      	CLR  R31
000808 2766      	CLR  R22
000809 2777      	CLR  R23
00080a 940e 3e66 	CALL __PUTPARD1
00080c 91e0 0703 	__GETB1MN __FF_buff,511
00080e 27ff      	CLR  R31
00080f 2766      	CLR  R22
000810 2777      	CLR  R23
000811 940e 3e66 	CALL __PUTPARD1
000813 e184      	LDI  R24,20
000814 940e 3228 	CALL _printf
000816 9666      	ADIW R28,22
                 ;     377 	#endif
                 ;     378    	
                 ;     379     BS_jmpBoot = (((long) _FF_buff[0] << 16) | ((int) _FF_buff[1] << 8) | (int) _FF_buff[2]);    		
000817 91e0 0504 	LDS  R30,__FF_buff
000819 27ff      	CLR  R31
00081a 2766      	CLR  R22
00081b 2777      	CLR  R23
00081c 940e 3d75 	CALL __LSLD16
00081e 01df      	MOVW R26,R30
00081f 01cb      	MOVW R24,R22
000820 91f0 0505 	__GETBRMN 31,__FF_buff,1
000822 e0e0      	LDI  R30,LOW(0)
000823 940e 3d80 	CALL __CWD1
000825 940e 3d26 	CALL __ORD12
000827 01df      	MOVW R26,R30
000828 01cb      	MOVW R24,R22
000829 91e0 0506 	__GETB1MN __FF_buff,2
00082b e0f0      	LDI  R31,0
00082c 940e 3d80 	CALL __CWD1
00082e 940e 3d26 	CALL __ORD12
000830 93e0 0704 	STS  _BS_jmpBoot,R30
000832 93f0 0705 	STS  _BS_jmpBoot+1,R31
000834 9360 0706 	STS  _BS_jmpBoot+2,R22
000836 9370 0707 	STS  _BS_jmpBoot+3,R23
                 ;     380 	BPB_BytsPerSec = ((int) _FF_buff[0xC] << 8) | (int) _FF_buff[0xB];
000838 91b0 0510 	__GETBRMN 27,__FF_buff,12
00083a e0a0      	LDI  R26,LOW(0)
00083b 91e0 050f 	__GETB1MN __FF_buff,11
00083d e0f0      	LDI  R31,0
00083e 2bea      	OR   R30,R26
00083f 2bfb      	OR   R31,R27
000840 013f      	MOVW R6,R30
                 ;     381     BPB_SecPerClus = _FF_buff[0xD];
000841 9080 0511 	__GETBRMN 8,__FF_buff,13
                 ;     382 	BPB_RsvdSecCnt = ((int) _FF_buff[0xF] << 8) | (int) _FF_buff[0xE];	
000843 91b0 0513 	__GETBRMN 27,__FF_buff,15
000845 e0a0      	LDI  R26,LOW(0)
000846 91e0 0512 	__GETB1MN __FF_buff,14
000848 e0f0      	LDI  R31,0
000849 2bea      	OR   R30,R26
00084a 2bfb      	OR   R31,R27
00084b 2e9e
00084c 2eaf      	__PUTW1R 9,10
                 ;     383 	BPB_NumFATs = _FF_buff[0x10];
00084d 90b0 0514 	__GETBRMN 11,__FF_buff,16
                 ;     384 	BPB_RootEntCnt = ((int) _FF_buff[0x12] << 8) | (int) _FF_buff[0x11];	
00084f 91b0 0516 	__GETBRMN 27,__FF_buff,18
000851 e0a0      	LDI  R26,LOW(0)
000852 91e0 0515 	__GETB1MN __FF_buff,17
000854 e0f0      	LDI  R31,0
000855 2bea      	OR   R30,R26
000856 2bfb      	OR   R31,R27
000857 016f      	MOVW R12,R30
                 ;     385 	BPB_FATSz16 = ((int) _FF_buff[0x17] << 8) | (int) _FF_buff[0x16];
000858 91b0 051b 	__GETBRMN 27,__FF_buff,23
00085a e0a0      	LDI  R26,LOW(0)
00085b 91e0 051a 	__GETB1MN __FF_buff,22
00085d e0f0      	LDI  R31,0
00085e 2bea      	OR   R30,R26
00085f 2bfb      	OR   R31,R27
000860 93e0 0708 	STS  _BPB_FATSz16,R30
000862 93f0 0709 	STS  _BPB_FATSz16+1,R31
                 ;     386 	BPB_TotSec = ((unsigned int) _FF_buff[0x14] << 8) | (unsigned int) _FF_buff[0x13];
000864 91b0 0518 	__GETBRMN 27,__FF_buff,20
000866 e0a0      	LDI  R26,LOW(0)
000867 91e0 0517 	__GETB1MN __FF_buff,19
000869 940e 3395 	CALL SUBOPT_0xF
00086b 93e0 070a 	STS  _BPB_TotSec,R30
00086d 93f0 070b 	STS  _BPB_TotSec+1,R31
00086f 9360 070c 	STS  _BPB_TotSec+2,R22
000871 9370 070d 	STS  _BPB_TotSec+3,R23
                 ;     387 	if (BPB_TotSec==0)
000873 940e 3ff8 	CALL __CPD10
000875 f539      	BRNE _0x38
                 ;     388 		BPB_TotSec = ((unsigned long) _FF_buff[0x23] << 24) | ((unsigned long) _FF_buff[0x22] << 16)
                 ;     389 					| ((unsigned long) _FF_buff[0x21] << 8) | ((unsigned long) _FF_buff[0x20]);
000876 91e0 0527 	__GETB1MN __FF_buff,35
000878 940e 339b 	CALL SUBOPT_0x10
00087a 91e0 0526 	__GETB1MN __FF_buff,34
00087c 940e 33a6 	CALL SUBOPT_0x11
00087e 937f      	PUSH R23
00087f 936f      	PUSH R22
000880 93ff      	PUSH R31
000881 93ef      	PUSH R30
000882 91e0 0525 	__GETB1MN __FF_buff,33
000884 940e 33ae 	CALL SUBOPT_0x12
000886 91af      	POP  R26
000887 91bf      	POP  R27
000888 918f      	POP  R24
000889 919f      	POP  R25
00088a 940e 3d26 	CALL __ORD12
00088c 01df      	MOVW R26,R30
00088d 01cb      	MOVW R24,R22
00088e 91e0 0524 	__GETB1MN __FF_buff,32
000890 27ff      	CLR  R31
000891 2766      	CLR  R22
000892 2777      	CLR  R23
000893 940e 3d26 	CALL __ORD12
000895 93e0 070a 	STS  _BPB_TotSec,R30
000897 93f0 070b 	STS  _BPB_TotSec+1,R31
000899 9360 070c 	STS  _BPB_TotSec+2,R22
00089b 9370 070d 	STS  _BPB_TotSec+3,R23
                 ;     390 	BS_VolSerial = ((unsigned long) _FF_buff[0x2A] << 24) | ((unsigned long) _FF_buff[0x29] << 16)
                 _0x38:
                 ;     391 				| ((unsigned long) _FF_buff[0x28] << 8) | ((unsigned long) _FF_buff[0x27]);
00089d 91e0 052e 	__GETB1MN __FF_buff,42
00089f 940e 339b 	CALL SUBOPT_0x10
0008a1 91e0 052d 	__GETB1MN __FF_buff,41
0008a3 940e 33a6 	CALL SUBOPT_0x11
0008a5 937f      	PUSH R23
0008a6 936f      	PUSH R22
0008a7 93ff      	PUSH R31
0008a8 93ef      	PUSH R30
0008a9 91e0 052c 	__GETB1MN __FF_buff,40
0008ab 940e 33ae 	CALL SUBOPT_0x12
0008ad 91af      	POP  R26
0008ae 91bf      	POP  R27
0008af 918f      	POP  R24
0008b0 919f      	POP  R25
0008b1 940e 3d26 	CALL __ORD12
0008b3 01df      	MOVW R26,R30
0008b4 01cb      	MOVW R24,R22
0008b5 91e0 052b 	__GETB1MN __FF_buff,39
0008b7 27ff      	CLR  R31
0008b8 2766      	CLR  R22
0008b9 2777      	CLR  R23
0008ba 940e 3d26 	CALL __ORD12
0008bc 93e0 070e 	STS  _BS_VolSerial,R30
0008be 93f0 070f 	STS  _BS_VolSerial+1,R31
0008c0 9360 0710 	STS  _BS_VolSerial+2,R22
0008c2 9370 0711 	STS  _BS_VolSerial+3,R23
                 ;     392 	for (n=0; n<11; n++)
0008c4 e0e0
0008c5 83e9
0008c6 83ea
0008c7 83eb
0008c8 83ec      	__CLRD1S 1
                 _0x3A:
0008c9 81a9
0008ca 81ba
0008cb 818b
0008cc 819c      	__GETD2S 1
0008cd 30ab
0008ce e0e0
0008cf 07be
0008d0 e0e0
0008d1 078e
0008d2 e0e0
0008d3 079e      	__CPD2N 0xB
0008d4 f4b0      	BRSH _0x3B
                 ;     393 		BS_VolLab[n] = _FF_buff[0x2B+n];
0008d5 81e9
0008d6 81fa
0008d7 816b
0008d8 817c      	__GETD1S 1
0008d9 5eee      	SUBI R30,LOW(-_BS_VolLab)
0008da 4ff8      	SBCI R31,HIGH(-_BS_VolLab)
0008db 01df      	MOVW R26,R30
0008dc 81e9
0008dd 81fa
0008de 816b
0008df 817c      	__GETD1S 1
0008e0 5de5
0008e1 4fff
0008e2 4f6f
0008e3 4f7f      	__ADDD1N 43
0008e4 5fec      	SUBI R30,LOW(-__FF_buff)
0008e5 4ffa      	SBCI R31,HIGH(-__FF_buff)
0008e6 81e0      	LD   R30,Z
0008e7 93ec      	ST   X,R30
                 ;     394 	BS_VolLab[11] = 0;		// Terminate the string
0008e8 940e 3370 	CALL SUBOPT_0xB
0008ea cfde      	RJMP _0x3A
                 _0x3B:
0008eb e0e0      	LDI  R30,LOW(0)
0008ec 93e0 071d 	__PUTB1MN _BS_VolLab,11
                 ;     395 	_FF_FAT1_ADDR = _FF_PART_ADDR + ((long) BPB_RsvdSecCnt * (long) BPB_BytsPerSec); 
0008ee 2de9
0008ef 2dfa      	__GETW1R 9,10
0008f0 940e 338b 	CALL SUBOPT_0xE
0008f2 91a0 071e 	LDS  R26,__FF_PART_ADDR
0008f4 91b0 071f 	LDS  R27,__FF_PART_ADDR+1
0008f6 9180 0720 	LDS  R24,__FF_PART_ADDR+2
0008f8 9190 0721 	LDS  R25,__FF_PART_ADDR+3
0008fa 940e 3d12 	CALL __ADDD12
0008fc 93e0 072a 	STS  __FF_FAT1_ADDR,R30
0008fe 93f0 072b 	STS  __FF_FAT1_ADDR+1,R31
000900 9360 072c 	STS  __FF_FAT1_ADDR+2,R22
000902 9370 072d 	STS  __FF_FAT1_ADDR+3,R23
                 ;     396 	_FF_FAT2_ADDR = _FF_FAT1_ADDR + ((long) BPB_FATSz16 * (long) BPB_BytsPerSec);
000904 91e0 0708 	LDS  R30,_BPB_FATSz16
000906 91f0 0709 	LDS  R31,_BPB_FATSz16+1
000908 940e 338b 	CALL SUBOPT_0xE
00090a 91a0 072a 	LDS  R26,__FF_FAT1_ADDR
00090c 91b0 072b 	LDS  R27,__FF_FAT1_ADDR+1
00090e 9180 072c 	LDS  R24,__FF_FAT1_ADDR+2
000910 9190 072d 	LDS  R25,__FF_FAT1_ADDR+3
000912 940e 3d12 	CALL __ADDD12
000914 93e0 072e 	STS  __FF_FAT2_ADDR,R30
000916 93f0 072f 	STS  __FF_FAT2_ADDR+1,R31
000918 9360 0730 	STS  __FF_FAT2_ADDR+2,R22
00091a 9370 0731 	STS  __FF_FAT2_ADDR+3,R23
                 ;     397 	_FF_ROOT_ADDR = ((long) BPB_NumFATs * (long) BPB_FATSz16) + (long) BPB_RsvdSecCnt;
00091c 2deb      	MOV  R30,R11
00091d 27ff      	CLR  R31
00091e 2766      	CLR  R22
00091f 2777      	CLR  R23
000920 01df      	MOVW R26,R30
000921 01cb      	MOVW R24,R22
000922 91e0 0708 	LDS  R30,_BPB_FATSz16
000924 91f0 0709 	LDS  R31,_BPB_FATSz16+1
000926 2766      	CLR  R22
000927 2777      	CLR  R23
000928 940e 3db7 	CALL __MULD12
00092a 01df      	MOVW R26,R30
00092b 01cb      	MOVW R24,R22
00092c 2de9
00092d 2dfa      	__GETW1R 9,10
00092e 2766      	CLR  R22
00092f 2777      	CLR  R23
000930 940e 3d12 	CALL __ADDD12
000932 93e0 0722 	STS  __FF_ROOT_ADDR,R30
000934 93f0 0723 	STS  __FF_ROOT_ADDR+1,R31
000936 9360 0724 	STS  __FF_ROOT_ADDR+2,R22
000938 9370 0725 	STS  __FF_ROOT_ADDR+3,R23
                 ;     398 	_FF_ROOT_ADDR *= BPB_BytsPerSec;
00093a 01f3      	MOVW R30,R6
00093b 91a0 0722 	LDS  R26,__FF_ROOT_ADDR
00093d 91b0 0723 	LDS  R27,__FF_ROOT_ADDR+1
00093f 9180 0724 	LDS  R24,__FF_ROOT_ADDR+2
000941 9190 0725 	LDS  R25,__FF_ROOT_ADDR+3
000943 2766      	CLR  R22
000944 2777      	CLR  R23
000945 940e 3d92 	CALL __MULD12U
000947 93e0 0722 	STS  __FF_ROOT_ADDR,R30
000949 93f0 0723 	STS  __FF_ROOT_ADDR+1,R31
00094b 9360 0724 	STS  __FF_ROOT_ADDR+2,R22
00094d 9370 0725 	STS  __FF_ROOT_ADDR+3,R23
                 ;     399 	_FF_ROOT_ADDR += _FF_PART_ADDR;
00094f 91e0 071e 	LDS  R30,__FF_PART_ADDR
000951 91f0 071f 	LDS  R31,__FF_PART_ADDR+1
000953 9160 0720 	LDS  R22,__FF_PART_ADDR+2
000955 9170 0721 	LDS  R23,__FF_PART_ADDR+3
000957 91a0 0722 	LDS  R26,__FF_ROOT_ADDR
000959 91b0 0723 	LDS  R27,__FF_ROOT_ADDR+1
00095b 9180 0724 	LDS  R24,__FF_ROOT_ADDR+2
00095d 9190 0725 	LDS  R25,__FF_ROOT_ADDR+3
00095f 940e 3d12 	CALL __ADDD12
000961 93e0 0722 	STS  __FF_ROOT_ADDR,R30
000963 93f0 0723 	STS  __FF_ROOT_ADDR+1,R31
000965 9360 0724 	STS  __FF_ROOT_ADDR+2,R22
000967 9370 0725 	STS  __FF_ROOT_ADDR+3,R23
                 ;     400 	
                 ;     401 	_FF_RootDirSectors = ((BPB_RootEntCnt * 32) + BPB_BytsPerSec - 1) / BPB_BytsPerSec;
000969 01f6      	MOVW R30,R12
00096a 0fee      	LSL  R30
00096b 1fff      	ROL  R31
00096c 940e 3d59 	CALL __LSLW4
00096e 0de6      	ADD  R30,R6
00096f 1df7      	ADC  R31,R7
000970 940e 33b7 	CALL SUBOPT_0x13
000972 940e 3dcf 	CALL __DIVW21U
000974 2766      	CLR  R22
000975 2777      	CLR  R23
000976 93e0 0732 	STS  __FF_RootDirSectors,R30
000978 93f0 0733 	STS  __FF_RootDirSectors+1,R31
00097a 9360 0734 	STS  __FF_RootDirSectors+2,R22
00097c 9370 0735 	STS  __FF_RootDirSectors+3,R23
                 ;     402 	FirstDataSector = (BPB_NumFATs * BPB_FATSz16) + BPB_RsvdSecCnt + _FF_RootDirSectors; 
00097e 91e0 0708 	LDS  R30,_BPB_FATSz16
000980 91f0 0709 	LDS  R31,_BPB_FATSz16+1
000982 2dab      	MOV  R26,R11
000983 e0b0      	LDI  R27,0
000984 940e 3d8a 	CALL __MULW12U
000986 0de9      	ADD  R30,R9
000987 1dfa      	ADC  R31,R10
000988 01df      	MOVW R26,R30
000989 91e0 0732 	LDS  R30,__FF_RootDirSectors
00098b 91f0 0733 	LDS  R31,__FF_RootDirSectors+1
00098d 9160 0734 	LDS  R22,__FF_RootDirSectors+2
00098f 9170 0735 	LDS  R23,__FF_RootDirSectors+3
000991 2788      	CLR  R24
000992 2799      	CLR  R25
000993 940e 3d12 	CALL __ADDD12
000995 93e0 0736 	STS  _FirstDataSector,R30
000997 93f0 0737 	STS  _FirstDataSector+1,R31
                 ;     403 	
                 ;     404 	DataClusTot = BPB_TotSec - FirstDataSector;
000999 91a0 070a 	LDS  R26,_BPB_TotSec
00099b 91b0 070b 	LDS  R27,_BPB_TotSec+1
00099d 9180 070c 	LDS  R24,_BPB_TotSec+2
00099f 9190 070d 	LDS  R25,_BPB_TotSec+3
0009a1 2766      	CLR  R22
0009a2 2777      	CLR  R23
0009a3 940e 3d21 	CALL __SUBD21
0009a5 93a0 0741 	STS  _DataClusTot,R26
0009a7 93b0 0742 	STS  _DataClusTot+1,R27
0009a9 9380 0743 	STS  _DataClusTot+2,R24
0009ab 9390 0744 	STS  _DataClusTot+3,R25
                 ;     405 	DataClusTot /= BPB_SecPerClus;
0009ad 2de8      	MOV  R30,R8
0009ae 91a0 0741 	LDS  R26,_DataClusTot
0009b0 91b0 0742 	LDS  R27,_DataClusTot+1
0009b2 9180 0743 	LDS  R24,_DataClusTot+2
0009b4 9190 0744 	LDS  R25,_DataClusTot+3
0009b6 27ff      	CLR  R31
0009b7 2766      	CLR  R22
0009b8 2777      	CLR  R23
0009b9 940e 3de2 	CALL __DIVD21U
0009bb 93e0 0741 	STS  _DataClusTot,R30
0009bd 93f0 0742 	STS  _DataClusTot+1,R31
0009bf 9360 0743 	STS  _DataClusTot+2,R22
0009c1 9370 0744 	STS  _DataClusTot+3,R23
                 ;     406 	clus_0_addr = 0;		// Reset Empty Cluster table location
0009c3 e0e0      	LDI  R30,0
0009c4 93e0 074c 	STS  _clus_0_addr,R30
0009c6 93e0 074d 	STS  _clus_0_addr+1,R30
0009c8 93e0 074e 	STS  _clus_0_addr+2,R30
0009ca 93e0 074f 	STS  _clus_0_addr+3,R30
                 ;     407 	c_counter = 1;
0009cc e0e1      	LDI  R30,LOW(1)
0009cd e0f0      	LDI  R31,HIGH(1)
0009ce 93e0 0754 	STS  _c_counter,R30
0009d0 93f0 0755 	STS  _c_counter+1,R31
                 ;     408 	
                 ;     409 	if (DataClusTot < 4085)				// FAT12
0009d2 91a0 0741 	LDS  R26,_DataClusTot
0009d4 91b0 0742 	LDS  R27,_DataClusTot+1
0009d6 9180 0743 	LDS  R24,_DataClusTot+2
0009d8 9190 0744 	LDS  R25,_DataClusTot+3
0009da 3fa5
0009db e0ef
0009dc 07be
0009dd e0e0
0009de 078e
0009df e0e0
0009e0 079e      	__CPD2N 0xFF5
0009e1 f418      	BRSH _0x3C
                 ;     410 		BPB_FATType = 0x32;
0009e2 e3e2      	LDI  R30,LOW(50)
0009e3 2eee      	MOV  R14,R30
                 ;     411 	else if (DataClusTot < 65525)		// FAT16
0009e4 c019      	RJMP _0x3D
                 _0x3C:
0009e5 91a0 0741 	LDS  R26,_DataClusTot
0009e7 91b0 0742 	LDS  R27,_DataClusTot+1
0009e9 9180 0743 	LDS  R24,_DataClusTot+2
0009eb 9190 0744 	LDS  R25,_DataClusTot+3
0009ed 3fa5
0009ee efef
0009ef 07be
0009f0 e0e0
0009f1 078e
0009f2 e0e0
0009f3 079e      	__CPD2N 0xFFF5
0009f4 f418      	BRSH _0x3E
                 ;     412 		BPB_FATType = 0x36;
0009f5 e3e6      	LDI  R30,LOW(54)
0009f6 2eee      	MOV  R14,R30
                 ;     413 	else
0009f7 c006      	RJMP _0x3F
                 _0x3E:
                 ;     414 	{
                 ;     415 		BPB_FATType = 0;
0009f8 24ee      	CLR  R14
                 ;     416 		_FF_error = FAT_ERR;
0009f9 e0ec      	LDI  R30,LOW(12)
0009fa 93e0 073c 	STS  __FF_error,R30
                 ;     417 		return (0);
0009fc e0e0      	LDI  R30,LOW(0)
0009fd c113      	RJMP _0x520
                 ;     418 	}
                 _0x3F:
                 _0x3D:
                 ;     419     
                 ;     420 	_FF_DIR_ADDR = _FF_ROOT_ADDR;		// Set current directory to root address
0009fe 91e0 0722 	LDS  R30,__FF_ROOT_ADDR
000a00 91f0 0723 	LDS  R31,__FF_ROOT_ADDR+1
000a02 9160 0724 	LDS  R22,__FF_ROOT_ADDR+2
000a04 9170 0725 	LDS  R23,__FF_ROOT_ADDR+3
000a06 93e0 0726 	STS  __FF_DIR_ADDR,R30
000a08 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
000a0a 9360 0728 	STS  __FF_DIR_ADDR+2,R22
000a0c 9370 0729 	STS  __FF_DIR_ADDR+3,R23
                 ;     421 
                 ;     422 	_FF_FULL_PATH[0] = 0x5C;	// a '\'
000a0e e5ec      	LDI  R30,LOW(92)
000a0f 93e0 0756 	STS  __FF_FULL_PATH,R30
                 ;     423 	_FF_FULL_PATH[1] = 0;
000a11 e0e0      	LDI  R30,LOW(0)
000a12 93e0 0757 	__PUTB1MN __FF_FULL_PATH,1
                 ;     424 	
                 ;     425 	#ifdef _DEBUG_ON_
                 ;     426 		printf("\n\rPart Address:  %lX", _FF_PART_ADDR);
000a14 eae6
000a15 e0f1      	__POINTW1FN _0,50
000a16 93fa      	ST   -Y,R31
000a17 93ea      	ST   -Y,R30
000a18 91e0 071e 	LDS  R30,__FF_PART_ADDR
000a1a 91f0 071f 	LDS  R31,__FF_PART_ADDR+1
000a1c 9160 0720 	LDS  R22,__FF_PART_ADDR+2
000a1e 9170 0721 	LDS  R23,__FF_PART_ADDR+3
000a20 940e 3e66 	CALL __PUTPARD1
000a22 e084      	LDI  R24,4
000a23 940e 3228 	CALL _printf
000a25 9626      	ADIW R28,6
                 ;     427 		printf("\n\rBS_jmpBoot:  %lX", BS_jmpBoot);
000a26 ebeb
000a27 e0f1      	__POINTW1FN _0,71
000a28 93fa      	ST   -Y,R31
000a29 93ea      	ST   -Y,R30
000a2a 91e0 0704 	LDS  R30,_BS_jmpBoot
000a2c 91f0 0705 	LDS  R31,_BS_jmpBoot+1
000a2e 9160 0706 	LDS  R22,_BS_jmpBoot+2
000a30 9170 0707 	LDS  R23,_BS_jmpBoot+3
000a32 940e 3e66 	CALL __PUTPARD1
000a34 e084      	LDI  R24,4
000a35 940e 3228 	CALL _printf
000a37 9626      	ADIW R28,6
                 ;     428 		printf("\n\rBPB_BytsPerSec:  %X", BPB_BytsPerSec);
000a38 ecee
000a39 e0f1      	__POINTW1FN _0,90
000a3a 93fa      	ST   -Y,R31
000a3b 93ea      	ST   -Y,R30
000a3c 01f3      	MOVW R30,R6
000a3d 2766      	CLR  R22
000a3e 2777      	CLR  R23
000a3f 940e 3e66 	CALL __PUTPARD1
000a41 e084      	LDI  R24,4
000a42 940e 3228 	CALL _printf
000a44 9626      	ADIW R28,6
                 ;     429 		printf("\n\rBPB_SecPerClus:  %X", BPB_SecPerClus);
000a45 eee4
000a46 e0f1      	__POINTW1FN _0,112
000a47 93fa      	ST   -Y,R31
000a48 93ea      	ST   -Y,R30
000a49 2de8      	MOV  R30,R8
000a4a 27ff      	CLR  R31
000a4b 2766      	CLR  R22
000a4c 2777      	CLR  R23
000a4d 940e 3e66 	CALL __PUTPARD1
000a4f e084      	LDI  R24,4
000a50 940e 3228 	CALL _printf
000a52 9626      	ADIW R28,6
                 ;     430 		printf("\n\rBPB_RsvdSecCnt:  %X", BPB_RsvdSecCnt);
000a53 efea
000a54 e0f1      	__POINTW1FN _0,134
000a55 93fa      	ST   -Y,R31
000a56 93ea      	ST   -Y,R30
000a57 2de9
000a58 2dfa      	__GETW1R 9,10
000a59 2766      	CLR  R22
000a5a 2777      	CLR  R23
000a5b 940e 3e66 	CALL __PUTPARD1
000a5d e084      	LDI  R24,4
000a5e 940e 3228 	CALL _printf
000a60 9626      	ADIW R28,6
                 ;     431 		printf("\n\rBPB_NumFATs:  %X", BPB_NumFATs);
000a61 e1e0
000a62 e0f2      	__POINTW1FN _0,156
000a63 93fa      	ST   -Y,R31
000a64 93ea      	ST   -Y,R30
000a65 2deb      	MOV  R30,R11
000a66 27ff      	CLR  R31
000a67 2766      	CLR  R22
000a68 2777      	CLR  R23
000a69 940e 3e66 	CALL __PUTPARD1
000a6b e084      	LDI  R24,4
000a6c 940e 3228 	CALL _printf
000a6e 9626      	ADIW R28,6
                 ;     432 		printf("\n\rBPB_RootEntCnt:  %X", BPB_RootEntCnt);
000a6f e2e3
000a70 e0f2      	__POINTW1FN _0,175
000a71 93fa      	ST   -Y,R31
000a72 93ea      	ST   -Y,R30
000a73 01f6      	MOVW R30,R12
000a74 2766      	CLR  R22
000a75 2777      	CLR  R23
000a76 940e 3e66 	CALL __PUTPARD1
000a78 e084      	LDI  R24,4
000a79 940e 3228 	CALL _printf
000a7b 9626      	ADIW R28,6
                 ;     433 		printf("\n\rBPB_FATSz16:  %X", BPB_FATSz16);
000a7c e3e9
000a7d e0f2      	__POINTW1FN _0,197
000a7e 93fa      	ST   -Y,R31
000a7f 93ea      	ST   -Y,R30
000a80 91e0 0708 	LDS  R30,_BPB_FATSz16
000a82 91f0 0709 	LDS  R31,_BPB_FATSz16+1
000a84 2766      	CLR  R22
000a85 2777      	CLR  R23
000a86 940e 3e66 	CALL __PUTPARD1
000a88 e084      	LDI  R24,4
000a89 940e 3228 	CALL _printf
000a8b 9626      	ADIW R28,6
                 ;     434 		printf("\n\rBPB_TotSec16:  %lX", BPB_TotSec);
000a8c e4ec
000a8d e0f2      	__POINTW1FN _0,216
000a8e 93fa      	ST   -Y,R31
000a8f 93ea      	ST   -Y,R30
000a90 91e0 070a 	LDS  R30,_BPB_TotSec
000a92 91f0 070b 	LDS  R31,_BPB_TotSec+1
000a94 9160 070c 	LDS  R22,_BPB_TotSec+2
000a96 9170 070d 	LDS  R23,_BPB_TotSec+3
000a98 940e 3e66 	CALL __PUTPARD1
000a9a e084      	LDI  R24,4
000a9b 940e 3228 	CALL _printf
000a9d 9626      	ADIW R28,6
                 ;     435 		if (BPB_FATType == 0x32)
000a9e e3e2      	LDI  R30,LOW(50)
000a9f 15ee      	CP   R30,R14
000aa0 f431      	BRNE _0x40
                 ;     436 			printf("\n\rBPB_FATType:  FAT12");
000aa1 e6e1
000aa2 e0f2      	__POINTW1FN _0,237
000aa3 93fa      	ST   -Y,R31
000aa4 93ea      	ST   -Y,R30
000aa5 e080      	LDI  R24,0
000aa6 c00e      	RJMP _0x524
                 ;     437 		else if (BPB_FATType == 0x36)
                 _0x40:
000aa7 e3e6      	LDI  R30,LOW(54)
000aa8 15ee      	CP   R30,R14
000aa9 f431      	BRNE _0x42
                 ;     438 			printf("\n\rBPB_FATType:  FAT16");
000aaa e7e7
000aab e0f2      	__POINTW1FN _0,259
000aac 93fa      	ST   -Y,R31
000aad 93ea      	ST   -Y,R30
000aae e080      	LDI  R24,0
000aaf c005      	RJMP _0x524
                 ;     439 		else
                 _0x42:
                 ;     440 			printf("\n\rBPB_FATType:  FAT ERROR!!");
000ab0 e8ed
000ab1 e0f2      	__POINTW1FN _0,281
000ab2 93fa      	ST   -Y,R31
000ab3 93ea      	ST   -Y,R30
000ab4 e080      	LDI  R24,0
                 _0x524:
000ab5 940e 3228 	CALL _printf
000ab7 9622      	ADIW R28,2
                 ;     441 		printf("\n\rClusterCnt:  %lX", DataClusTot);
000ab8 eae9
000ab9 e0f2      	__POINTW1FN _0,309
000aba 93fa      	ST   -Y,R31
000abb 93ea      	ST   -Y,R30
000abc 91e0 0741 	LDS  R30,_DataClusTot
000abe 91f0 0742 	LDS  R31,_DataClusTot+1
000ac0 9160 0743 	LDS  R22,_DataClusTot+2
000ac2 9170 0744 	LDS  R23,_DataClusTot+3
000ac4 940e 3e66 	CALL __PUTPARD1
000ac6 e084      	LDI  R24,4
000ac7 940e 3228 	CALL _printf
000ac9 9626      	ADIW R28,6
                 ;     442 		printf("\n\rROOT_ADDR:  %lX", _FF_ROOT_ADDR);
000aca ebec
000acb e0f2      	__POINTW1FN _0,328
000acc 93fa      	ST   -Y,R31
000acd 93ea      	ST   -Y,R30
000ace 91e0 0722 	LDS  R30,__FF_ROOT_ADDR
000ad0 91f0 0723 	LDS  R31,__FF_ROOT_ADDR+1
000ad2 9160 0724 	LDS  R22,__FF_ROOT_ADDR+2
000ad4 9170 0725 	LDS  R23,__FF_ROOT_ADDR+3
000ad6 940e 3e66 	CALL __PUTPARD1
000ad8 e084      	LDI  R24,4
000ad9 940e 3228 	CALL _printf
000adb 9626      	ADIW R28,6
                 ;     443 		printf("\n\rFAT2_ADDR:  %lX", _FF_FAT2_ADDR);
000adc ecee
000add e0f2      	__POINTW1FN _0,346
000ade 93fa      	ST   -Y,R31
000adf 93ea      	ST   -Y,R30
000ae0 91e0 072e 	LDS  R30,__FF_FAT2_ADDR
000ae2 91f0 072f 	LDS  R31,__FF_FAT2_ADDR+1
000ae4 9160 0730 	LDS  R22,__FF_FAT2_ADDR+2
000ae6 9170 0731 	LDS  R23,__FF_FAT2_ADDR+3
000ae8 940e 3e66 	CALL __PUTPARD1
000aea e084      	LDI  R24,4
000aeb 940e 3228 	CALL _printf
000aed 9626      	ADIW R28,6
                 ;     444 		printf("\n\rRootDirSectors:  %X", _FF_RootDirSectors);
000aee eee0
000aef e0f2      	__POINTW1FN _0,364
000af0 93fa      	ST   -Y,R31
000af1 93ea      	ST   -Y,R30
000af2 91e0 0732 	LDS  R30,__FF_RootDirSectors
000af4 91f0 0733 	LDS  R31,__FF_RootDirSectors+1
000af6 9160 0734 	LDS  R22,__FF_RootDirSectors+2
000af8 9170 0735 	LDS  R23,__FF_RootDirSectors+3
000afa 940e 3e66 	CALL __PUTPARD1
000afc e084      	LDI  R24,4
000afd 940e 3228 	CALL _printf
000aff 9626      	ADIW R28,6
                 ;     445 		printf("\n\rFirstDataSector:  %X", FirstDataSector);
000b00 efe6
000b01 e0f2      	__POINTW1FN _0,386
000b02 93fa      	ST   -Y,R31
000b03 93ea      	ST   -Y,R30
000b04 91e0 0736 	LDS  R30,_FirstDataSector
000b06 91f0 0737 	LDS  R31,_FirstDataSector+1
000b08 2766      	CLR  R22
000b09 2777      	CLR  R23
000b0a 940e 3e66 	CALL __PUTPARD1
000b0c e084      	LDI  R24,4
000b0d 940e 3228 	CALL _printf
000b0f 9626      	ADIW R28,6
                 ;     446 	#endif
                 ;     447 	
                 ;     448 	return (1);	
000b10 e0e1      	LDI  R30,LOW(1)
                 _0x520:
000b11 8108      	LDD  R16,Y+0
000b12 9625      	ADIW R28,5
000b13 9508      	RET
                 ;     449 }
                 ;     450 
                 ;     451 unsigned char spi_speedset(void)
                 ;     452 {
                 _spi_speedset:
                 ;     453 	if (SPCR == 0x50)
000b14 b1ed      	IN   R30,0xD
000b15 35e0      	CPI  R30,LOW(0x50)
000b16 f419      	BRNE _0x44
                 ;     454 		SPCR = 0x51;
000b17 e5e1      	LDI  R30,LOW(81)
000b18 b9ed      	OUT  0xD,R30
                 ;     455 	else if (SPCR == 0x51)
000b19 c00f      	RJMP _0x45
                 _0x44:
000b1a b1ed      	IN   R30,0xD
000b1b 35e1      	CPI  R30,LOW(0x51)
000b1c f419      	BRNE _0x46
                 ;     456 		SPCR = 0x52;
000b1d e5e2      	LDI  R30,LOW(82)
000b1e b9ed      	OUT  0xD,R30
                 ;     457 	else if (SPCR == 0x52)
000b1f c009      	RJMP _0x47
                 _0x46:
000b20 b1ed      	IN   R30,0xD
000b21 35e2      	CPI  R30,LOW(0x52)
000b22 f419      	BRNE _0x48
                 ;     458 		SPCR = 0x53;
000b23 e5e3      	LDI  R30,LOW(83)
000b24 b9ed      	OUT  0xD,R30
                 ;     459 	else
000b25 c003      	RJMP _0x49
                 _0x48:
                 ;     460 	{
                 ;     461 		SPCR = 0x50;
000b26 940e 336c 	CALL SUBOPT_0xA
                 ;     462 		return (0);
000b28 9508      	RET
                 ;     463 	}
                 _0x49:
                 _0x47:
                 _0x45:
                 ;     464 	return (1);
000b29 e0e1      	LDI  R30,LOW(1)
000b2a 9508      	RET
                 ;     465 }
                 ;     466 
                 ;     467 unsigned char reset_sd(void)
                 ;     468 {
                 _reset_sd:
                 ;     469 	unsigned char resp, n, c;
                 ;     470 
                 ;     471 	#ifdef _DEBUG_ON_
                 ;     472 		printf("\n\rReset CMD:  ");	
000b2b 940e 4017 	CALL __SAVELOCR3
                 ;	resp -> R16
                 ;	n -> R17
                 ;	c -> R18
000b2d e0ed
000b2e e0f3      	__POINTW1FN _0,409
000b2f 93fa      	ST   -Y,R31
000b30 93ea      	ST   -Y,R30
000b31 e080      	LDI  R24,0
000b32 940e 3228 	CALL _printf
000b34 9622      	ADIW R28,2
                 ;     473 	#endif
                 ;     474 	
                 ;     475 	for (c=0; c<4; c++)		// try reset command 3 times if needed
000b35 e020      	LDI  R18,LOW(0)
                 _0x4B:
000b36 3024      	CPI  R18,4
000b37 f590      	BRSH _0x4C
                 ;     476 	{
                 ;     477 		SD_CS_OFF();
000b38 9ac4      	SBI  0x18,4
                 ;     478 		for (n=0; n<10; n++)	// initialize clk signal to sync card
000b39 e010      	LDI  R17,LOW(0)
                 _0x4E:
000b3a 301a      	CPI  R17,10
000b3b f420      	BRSH _0x4F
                 ;     479 			_FF_spi(0xFF);
000b3c 940e 333e 	CALL SUBOPT_0x5
                 ;     480 		resp = send_cmd(CMD0,0);
000b3e 5f1f      	SUBI R17,-1
000b3f cffa      	RJMP _0x4E
                 _0x4F:
000b40 e0e0      	LDI  R30,LOW(0)
000b41 940e 33bb 	CALL SUBOPT_0x14
                 ;     481 		for (n=0; n<200; n++)
000b43 e010      	LDI  R17,LOW(0)
                 _0x51:
000b44 3c18      	CPI  R17,200
000b45 f498      	BRSH _0x52
                 ;     482 		{
                 ;     483 			if (resp == 0x1)
000b46 3001      	CPI  R16,1
000b47 f461      	BRNE _0x53
                 ;     484 			{
                 ;     485 				SD_CS_OFF();
000b48 9ac4      	SBI  0x18,4
                 ;     486     			#ifdef _DEBUG_ON_
                 ;     487 					printf("OK!!!");
000b49 e1ec
000b4a e0f3      	__POINTW1FN _0,424
000b4b 93fa      	ST   -Y,R31
000b4c 93ea      	ST   -Y,R30
000b4d e080      	LDI  R24,0
000b4e 940e 3228 	CALL _printf
000b50 9622      	ADIW R28,2
                 ;     488 				#endif
                 ;     489 				SPCR = 0x50;
000b51 940e 33c6 	CALL SUBOPT_0x15
                 ;     490 				return(1);
000b53 c055      	RJMP _0x51F
                 ;     491 			}
                 ;     492 	      	resp = _FF_spi(0xFF);
                 _0x53:
000b54 940e 333e 	CALL SUBOPT_0x5
000b56 2f0e      	MOV  R16,R30
                 ;     493 		}
000b57 5f1f      	SUBI R17,-1
000b58 cfeb      	RJMP _0x51
                 _0x52:
                 ;     494 		#ifdef _DEBUG_ON_
                 ;     495 			printf("ERROR!!!");
000b59 e2e2
000b5a e0f3      	__POINTW1FN _0,430
000b5b 93fa      	ST   -Y,R31
000b5c 93ea      	ST   -Y,R30
000b5d e080      	LDI  R24,0
000b5e 940e 3228 	CALL _printf
000b60 9622      	ADIW R28,2
                 ;     496 		#endif
                 ;     497  		if (spi_speedset()==0)
000b61 940e 0b14 	CALL _spi_speedset
000b63 30e0      	CPI  R30,0
000b64 f419      	BRNE _0x54
                 ;     498  		{
                 ;     499 		    SD_CS_OFF();
000b65 9ac4      	SBI  0x18,4
                 ;     500  			return (0);
000b66 e0e0      	LDI  R30,LOW(0)
000b67 c041      	RJMP _0x51F
                 ;     501  		}
                 ;     502 	}
                 _0x54:
000b68 5f2f      	SUBI R18,-1
000b69 cfcc      	RJMP _0x4B
                 _0x4C:
                 ;     503 	return (0);
000b6a e0e0      	LDI  R30,LOW(0)
000b6b c03d      	RJMP _0x51F
                 ;     504 }
                 ;     505 
                 ;     506 unsigned char init_sd(void)
                 ;     507 {
                 _init_sd:
                 ;     508 	unsigned char resp;
                 ;     509 	unsigned int c;
                 ;     510 	
                 ;     511 	clear_sd_buff();
000b6c 940e 4017 	CALL __SAVELOCR3
                 ;	resp -> R16
                 ;	c -> R17,R18
000b6e 940e 0741 	CALL _clear_sd_buff
                 ;     512 
                 ;     513     #ifdef _DEBUG_ON_
                 ;     514 		printf("\r\nInitialization:  ");
000b70 e2eb
000b71 e0f3      	__POINTW1FN _0,439
000b72 93fa      	ST   -Y,R31
000b73 93ea      	ST   -Y,R30
000b74 e080      	LDI  R24,0
000b75 940e 3228 	CALL _printf
000b77 9622      	ADIW R28,2
                 ;     515 	#endif
                 ;     516     for (c=0; c<1000; c++)
000b78 e010
000b79 e020      	__GETWRN 17,18,0
                 _0x56:
000b7a 3e18
000b7b e0e3
000b7c 072e      	__CPWRN 17,18,1000
000b7d f490      	BRSH _0x57
                 ;     517     {
                 ;     518     	resp = send_cmd(CMD1, 0);
000b7e e0e1      	LDI  R30,LOW(1)
000b7f 940e 33bb 	CALL SUBOPT_0x14
                 ;     519     	if (resp == 0)
000b81 3000      	CPI  R16,0
000b82 f069      	BREQ _0x57
                 ;     520     		break;
                 ;     521    		resp = _FF_spi(0xFF);
000b83 940e 333e 	CALL SUBOPT_0x5
000b85 2f0e      	MOV  R16,R30
                 ;     522    		if (resp == 0)
000b86 3000      	CPI  R16,0
000b87 f041      	BREQ _0x57
                 ;     523    			break;
                 ;     524    		resp = _FF_spi(0xFF);
000b88 940e 333e 	CALL SUBOPT_0x5
000b8a 2f0e      	MOV  R16,R30
                 ;     525    		if (resp == 0)
000b8b 3000      	CPI  R16,0
000b8c f019      	BREQ _0x57
                 ;     526    			break;
                 ;     527 	}
000b8d 5f1f
000b8e 4f2f      	__ADDWRN 17,18,1
000b8f cfea      	RJMP _0x56
                 _0x57:
                 ;     528    	if (resp == 0)
000b90 3000      	CPI  R16,0
000b91 f441      	BRNE _0x5B
                 ;     529 	{
                 ;     530 		#ifdef _DEBUG_ON_
                 ;     531    			printf("OK!");
000b92 e3ef
000b93 e0f3      	__POINTW1FN _0,459
000b94 93fa      	ST   -Y,R31
000b95 93ea      	ST   -Y,R30
000b96 e080      	LDI  R24,0
000b97 940e 33ca 	CALL SUBOPT_0x16
                 ;     532 	   	#endif
                 ;     533 		return (1);
000b99 c00f      	RJMP _0x51F
                 ;     534 	}
                 ;     535 	else
                 _0x5B:
                 ;     536 	{
                 ;     537 		#ifdef _DEBUG_ON_
                 ;     538    			printf("ERROR-%x  ", resp);
000b9a e4e3
000b9b e0f3      	__POINTW1FN _0,463
000b9c 93fa      	ST   -Y,R31
000b9d 93ea      	ST   -Y,R30
000b9e 2fe0      	MOV  R30,R16
000b9f 27ff      	CLR  R31
000ba0 2766      	CLR  R22
000ba1 2777      	CLR  R23
000ba2 940e 3e66 	CALL __PUTPARD1
000ba4 e084      	LDI  R24,4
000ba5 940e 3228 	CALL _printf
000ba7 9626      	ADIW R28,6
                 ;     539 	   	#endif
                 ;     540 		return (0);
000ba8 e0e0      	LDI  R30,LOW(0)
                 ;     541  	}        		
                 ;     542 }
                 _0x51F:
000ba9 940e 401e 	CALL __LOADLOCR3
000bab 9623      	ADIW R28,3
000bac 9508      	RET
                 ;     543 
                 ;     544 unsigned char _FF_read_disp(unsigned long sd_addr)
                 ;     545 {
                 __FF_read_disp:
                 ;     546 	unsigned char resp;
                 ;     547 	unsigned long n, remainder;
                 ;     548 	
                 ;     549 	if (sd_addr % 0x200)
000bad 9728      	SBIW R28,8
000bae 930a      	ST   -Y,R16
                 ;	sd_addr -> Y+9
                 ;	resp -> R16
                 ;	n -> Y+5
                 ;	remainder -> Y+1
000baf 85e9
000bb0 85fa
000bb1 856b
000bb2 857c      	__GETD1S 9
000bb3 70f1      	ANDI R31,HIGH(0x1FF)
000bb4 9730      	SBIW R30,0
000bb5 f019      	BREQ _0x5D
                 ;     550 	{	// Not a valid read address, return 0
                 ;     551 		_FF_error = READ_ERR;
000bb6 940e 33cf 	CALL SUBOPT_0x17
                 ;     552 		return (0);
000bb8 c077      	RJMP _0x51E
                 ;     553 	}
                 ;     554 
                 ;     555 	clear_sd_buff();
                 _0x5D:
000bb9 940e 33d4 	CALL SUBOPT_0x18
                 ;     556 	resp = send_cmd(CMD17, sd_addr);		// Send read request
000bbb 85ea
000bbc 85fb
000bbd 856c
000bbe 857d      	__GETD1S 10
000bbf 940e 33d9 	CALL SUBOPT_0x19
                 ;     557 	
                 ;     558 	while(resp!=0xFE)
                 _0x5E:
000bc1 3f0e      	CPI  R16,254
000bc2 f021      	BREQ _0x60
                 ;     559 		resp = _FF_spi(0xFF);
000bc3 940e 333e 	CALL SUBOPT_0x5
000bc5 2f0e      	MOV  R16,R30
                 ;     560 	for (n=0; n<512; n++)
000bc6 cffa      	RJMP _0x5E
                 _0x60:
000bc7 e0e0
000bc8 83ed
000bc9 83ee
000bca 83ef
000bcb 87e8      	__CLRD1S 5
                 _0x62:
000bcc 81ad
000bcd 81be
000bce 818f
000bcf 8598      	__GETD2S 5
000bd0 30a0
000bd1 e0e2
000bd2 07be
000bd3 e0e0
000bd4 078e
000bd5 e0e0
000bd6 079e      	__CPD2N 0x200
000bd7 f010      	BRLO PC+3
000bd8 940c 0c28 	JMP _0x63
                 ;     561 	{
                 ;     562 		remainder = n % 0x10;
000bda 81ed
000bdb 81fe
000bdc 816f
000bdd 8578      	__GETD1S 5
000bde 70ef
000bdf 70f0
000be0 7060
000be1 7070      	__ANDD1N 0xF
000be2 83e9
000be3 83fa
000be4 836b
000be5 837c      	__PUTD1S 1
                 ;     563 		if (remainder == 0)
000be6 940e 3ff8 	CALL __CPD10
000be8 f441      	BRNE _0x64
                 ;     564 			printf("\n\r");
000be9 e4ee
000bea e0f3      	__POINTW1FN _0,474
000beb 93fa      	ST   -Y,R31
000bec 93ea      	ST   -Y,R30
000bed e080      	LDI  R24,0
000bee 940e 3228 	CALL _printf
000bf0 9622      	ADIW R28,2
                 ;     565 		_FF_buff[n] = _FF_spi(0xFF);
                 _0x64:
000bf1 81ed
000bf2 81fe
000bf3 816f
000bf4 8578      	__GETD1S 5
000bf5 5fec      	SUBI R30,LOW(-__FF_buff)
000bf6 4ffa      	SBCI R31,HIGH(-__FF_buff)
000bf7 93ff      	PUSH R31
000bf8 93ef      	PUSH R30
000bf9 940e 333e 	CALL SUBOPT_0x5
000bfb 91af      	POP  R26
000bfc 91bf      	POP  R27
000bfd 93ec      	ST   X,R30
                 ;     566 		if (_FF_buff[n]<0x10)
000bfe 81ed
000bff 81fe
000c00 816f
000c01 8578      	__GETD1S 5
000c02 5fec      	SUBI R30,LOW(-__FF_buff)
000c03 4ffa      	SBCI R31,HIGH(-__FF_buff)
000c04 81e0      	LD   R30,Z
000c05 31e0      	CPI  R30,LOW(0x10)
000c06 f420      	BRSH _0x65
                 ;     567 			putchar(0x30);
000c07 e3e0      	LDI  R30,LOW(48)
000c08 93ea      	ST   -Y,R30
000c09 940e 0642 	CALL _putchar
                 ;     568 		printf("%X ", _FF_buff[n]);
                 _0x65:
000c0b e5e1
000c0c e0f3      	__POINTW1FN _0,477
000c0d 93fa      	ST   -Y,R31
000c0e 93ea      	ST   -Y,R30
000c0f 81ef
000c10 85f8
000c11 8569
000c12 857a      	__GETD1S 7
000c13 940e 33df 	CALL SUBOPT_0x1A
000c15 940e 3e66 	CALL __PUTPARD1
000c17 e084      	LDI  R24,4
000c18 940e 3228 	CALL _printf
000c1a 9626      	ADIW R28,6
                 ;     569 	}
000c1b 81ed
000c1c 81fe
000c1d 816f
000c1e 8578      	__GETD1S 5
000c1f 5fef
000c20 4fff
000c21 4f6f
000c22 4f7f      	__SUBD1N -1
000c23 83ed
000c24 83fe
000c25 836f
000c26 8778      	__PUTD1S 5
000c27 cfa4      	RJMP _0x62
                 _0x63:
                 ;     570 	_FF_spi(0xFF);
000c28 940e 3369 	CALL SUBOPT_0x9
                 ;     571 	_FF_spi(0xFF);
000c2a 940e 3339 	CALL SUBOPT_0x4
                 ;     572 	_FF_spi(0xFF);
000c2c 940e 0647 	CALL __FF_spi
                 ;     573 	SD_CS_OFF();
000c2e 9ac4      	SBI  0x18,4
                 ;     574 	return (1);
000c2f e0e1      	LDI  R30,LOW(1)
                 _0x51E:
000c30 8108      	LDD  R16,Y+0
000c31 962d      	ADIW R28,13
000c32 9508      	RET
                 ;     575 }
                 ;     576 
                 ;     577 // Read data from a SD card @ address
                 ;     578 unsigned char _FF_read(unsigned long sd_addr)
                 ;     579 {
                 __FF_read:
                 ;     580 	unsigned char resp;
                 ;     581 	unsigned long n;
                 ;     582 //printf("\r\nReadin ADDR [0x%lX]", sd_addr);
                 ;     583 	
                 ;     584 	if (sd_addr % BPB_BytsPerSec)
000c33 9724      	SBIW R28,4
000c34 930a      	ST   -Y,R16
                 ;	sd_addr -> Y+5
                 ;	resp -> R16
                 ;	n -> Y+1
000c35 940e 33e6 	CALL SUBOPT_0x1B
000c37 f019      	BREQ _0x66
                 ;     585 	{	// Not a valid read address, return 0
                 ;     586 		_FF_error = READ_ERR;
000c38 940e 33cf 	CALL SUBOPT_0x17
                 ;     587 		return (0);
000c3a c063      	RJMP _0x51D
                 ;     588 	}
                 ;     589 		
                 ;     590 	for (;;)
                 _0x66:
                 _0x68:
                 ;     591 	{
                 ;     592 		clear_sd_buff();
000c3b 940e 33d4 	CALL SUBOPT_0x18
                 ;     593 		resp = send_cmd(CMD17, sd_addr);	// read block command
000c3d 81ee
000c3e 81ff
000c3f 8568
000c40 8579      	__GETD1S 6
000c41 940e 33d9 	CALL SUBOPT_0x19
                 ;     594 		for (n=0; n<1000; n++)
000c43 e0e0
000c44 83e9
000c45 83ea
000c46 83eb
000c47 83ec      	__CLRD1S 1
                 _0x6B:
000c48 81a9
000c49 81ba
000c4a 818b
000c4b 819c      	__GETD2S 1
000c4c 3ea8
000c4d e0e3
000c4e 07be
000c4f e0e0
000c50 078e
000c51 e0e0
000c52 079e      	__CPD2N 0x3E8
000c53 f440      	BRSH _0x6C
                 ;     595 		{
                 ;     596 			if (resp==0xFE)
000c54 3f0e      	CPI  R16,254
000c55 f031      	BREQ _0x6C
                 ;     597 			{	// waiting for start byte
                 ;     598 				break;
                 ;     599 			}
                 ;     600 			resp = _FF_spi(0xFF);
000c56 940e 333e 	CALL SUBOPT_0x5
000c58 2f0e      	MOV  R16,R30
                 ;     601 		}
000c59 940e 3370 	CALL SUBOPT_0xB
000c5b cfec      	RJMP _0x6B
                 _0x6C:
                 ;     602 		if (resp==0xFE)
000c5c 3f0e      	CPI  R16,254
000c5d f5c1      	BRNE _0x6E
                 ;     603 		{	// if it is a valid start byte => start reading SD Card
                 ;     604 			for (n=0; n<BPB_BytsPerSec; n++)
000c5e e0e0
000c5f 83e9
000c60 83ea
000c61 83eb
000c62 83ec      	__CLRD1S 1
                 _0x70:
000c63 01f3      	MOVW R30,R6
000c64 81a9
000c65 81ba
000c66 818b
000c67 819c      	__GETD2S 1
000c68 2766      	CLR  R22
000c69 2777      	CLR  R23
000c6a 940e 400f 	CALL __CPD21
000c6c f480      	BRSH _0x71
                 ;     605 				_FF_buff[n] = _FF_spi(0xFF);
000c6d 81e9
000c6e 81fa
000c6f 816b
000c70 817c      	__GETD1S 1
000c71 5fec      	SUBI R30,LOW(-__FF_buff)
000c72 4ffa      	SBCI R31,HIGH(-__FF_buff)
000c73 93ff      	PUSH R31
000c74 93ef      	PUSH R30
000c75 940e 333e 	CALL SUBOPT_0x5
000c77 91af      	POP  R26
000c78 91bf      	POP  R27
000c79 93ec      	ST   X,R30
                 ;     606 			_FF_spi(0xFF);
000c7a 940e 3370 	CALL SUBOPT_0xB
000c7c cfe6      	RJMP _0x70
                 _0x71:
000c7d 940e 3369 	CALL SUBOPT_0x9
                 ;     607 			_FF_spi(0xFF);
000c7f 940e 3339 	CALL SUBOPT_0x4
                 ;     608 			_FF_spi(0xFF);
000c81 940e 0647 	CALL __FF_spi
                 ;     609 			SD_CS_OFF();
000c83 9ac4      	SBI  0x18,4
                 ;     610 			_FF_error = NO_ERR;
000c84 e0e0      	LDI  R30,LOW(0)
000c85 93e0 073c 	STS  __FF_error,R30
                 ;     611 			_FF_buff_addr = sd_addr;
000c87 81ed
000c88 81fe
000c89 816f
000c8a 8578      	__GETD1S 5
000c8b 93e0 073d 	STS  __FF_buff_addr,R30
000c8d 93f0 073e 	STS  __FF_buff_addr+1,R31
000c8f 9360 073f 	STS  __FF_buff_addr+2,R22
000c91 9370 0740 	STS  __FF_buff_addr+3,R23
                 ;     612 			SPCR = 0x50;
000c93 940e 33c6 	CALL SUBOPT_0x15
                 ;     613 			return (1);
000c95 c008      	RJMP _0x51D
                 ;     614 		}
                 ;     615 
                 ;     616 		SD_CS_OFF();
                 _0x6E:
000c96 9ac4      	SBI  0x18,4
                 ;     617 
                 ;     618 		if (spi_speedset()==0)
000c97 940e 0b14 	CALL _spi_speedset
000c99 30e0      	CPI  R30,0
000c9a f009      	BREQ _0x69
                 ;     619 			break;
                 ;     620 	}	
000c9b cf9f      	RJMP _0x68
                 _0x69:
                 ;     621 	_FF_error = READ_ERR;    
000c9c 940e 33cf 	CALL SUBOPT_0x17
                 ;     622 	return(0);
                 _0x51D:
000c9e 8108      	LDD  R16,Y+0
000c9f 9629      	ADIW R28,9
000ca0 9508      	RET
                 ;     623 }
                 ;     624 
                 ;     625 
                 ;     626 #ifndef _READ_ONLY_
                 ;     627 unsigned char _FF_write(unsigned long sd_addr)
                 ;     628 {
                 __FF_write:
                 ;     629 	unsigned char resp, calc, valid_flag;
                 ;     630 	unsigned int n;
                 ;     631 	
                 ;     632 	if ((sd_addr%BPB_BytsPerSec) || (sd_addr <= _FF_PART_ADDR))
000ca1 940e 4015 	CALL __SAVELOCR5
                 ;	sd_addr -> Y+5
                 ;	resp -> R16
                 ;	calc -> R17
                 ;	valid_flag -> R18
                 ;	n -> R19,R20
000ca3 940e 33e6 	CALL SUBOPT_0x1B
000ca5 f479      	BRNE _0x74
000ca6 91e0 071e 	LDS  R30,__FF_PART_ADDR
000ca8 91f0 071f 	LDS  R31,__FF_PART_ADDR+1
000caa 9160 0720 	LDS  R22,__FF_PART_ADDR+2
000cac 9170 0721 	LDS  R23,__FF_PART_ADDR+3
000cae 81ad
000caf 81be
000cb0 818f
000cb1 8598      	__GETD2S 5
000cb2 940e 400a 	CALL __CPD12
000cb4 f018      	BRLO _0x73
                 _0x74:
                 ;     633 	{	// Not a valid write address, return 0
                 ;     634 		_FF_error = WRITE_ERR;
000cb5 940e 33f2 	CALL SUBOPT_0x1C
                 ;     635 		return (0);
000cb7 c051      	RJMP _0x51C
                 ;     636 	}
                 ;     637 
                 ;     638 //printf("\r\nWriting to address:  %lX", sd_addr);
                 ;     639 	for (;;)
                 _0x73:
                 _0x77:
                 ;     640 	{
                 ;     641 		clear_sd_buff();
000cb8 940e 0741 	CALL _clear_sd_buff
                 ;     642 		resp = send_cmd(CMD24, sd_addr);
000cba e0e9      	LDI  R30,LOW(9)
000cbb 93ea      	ST   -Y,R30
000cbc 81ee
000cbd 81ff
000cbe 8568
000cbf 8579      	__GETD1S 6
000cc0 940e 33d9 	CALL SUBOPT_0x19
                 ;     643 		valid_flag = 0;
000cc2 e020      	LDI  R18,LOW(0)
                 ;     644 		for (n=0; n<1000; n++)
000cc3 e030
000cc4 e040      	__GETWRN 19,20,0
                 _0x7A:
000cc5 3e38
000cc6 e0e3
000cc7 074e      	__CPWRN 19,20,1000
000cc8 f450      	BRSH _0x7B
                 ;     645 		{
                 ;     646 			if (resp == 0x00)
000cc9 3000      	CPI  R16,0
000cca f411      	BRNE _0x7C
                 ;     647 			{
                 ;     648 				valid_flag = 1;
000ccb e021      	LDI  R18,LOW(1)
                 ;     649 				break;
000ccc c006      	RJMP _0x7B
                 ;     650 			}
                 ;     651 			resp = _FF_spi(0xFF);
                 _0x7C:
000ccd 940e 333e 	CALL SUBOPT_0x5
000ccf 2f0e      	MOV  R16,R30
                 ;     652 		}
000cd0 5f3f
000cd1 4f4f      	__ADDWRN 19,20,1
000cd2 cff2      	RJMP _0x7A
                 _0x7B:
                 ;     653 	
                 ;     654 		if (valid_flag)
000cd3 3020      	CPI  R18,0
000cd4 f161      	BREQ _0x7D
                 ;     655 		{
                 ;     656 			_FF_spi(0xFF);
000cd5 940e 333e 	CALL SUBOPT_0x5
                 ;     657 			_FF_spi(0xFE);					// Start Block Token
000cd7 efee      	LDI  R30,LOW(254)
000cd8 93ea      	ST   -Y,R30
000cd9 940e 0647 	CALL __FF_spi
                 ;     658 			for (n=0; n<BPB_BytsPerSec; n++)		// Write Data in buffer to card
000cdb e030
000cdc e040      	__GETWRN 19,20,0
                 _0x7F:
000cdd 1536
000cde 0547      	__CPWRR 19,20,6,7
000cdf f458      	BRSH _0x80
                 ;     659 				_FF_spi(_FF_buff[n]);
000ce0 e0a4      	LDI  R26,LOW(__FF_buff)
000ce1 e0b5      	LDI  R27,HIGH(__FF_buff)
000ce2 0fa3      	ADD  R26,R19
000ce3 1fb4      	ADC  R27,R20
000ce4 91ec      	LD   R30,X
000ce5 93ea      	ST   -Y,R30
000ce6 940e 0647 	CALL __FF_spi
                 ;     660 			_FF_spi(0xFF);					// Send 2 blank CRC bytes
000ce8 5f3f
000ce9 4f4f      	__ADDWRN 19,20,1
000cea cff2      	RJMP _0x7F
                 _0x80:
000ceb 940e 3369 	CALL SUBOPT_0x9
                 ;     661 			_FF_spi(0xFF);
000ced 940e 3339 	CALL SUBOPT_0x4
                 ;     662 			resp = _FF_spi(0xFF);			// Response should be 0bXXX00101
000cef 940e 0647 	CALL __FF_spi
000cf1 2f0e      	MOV  R16,R30
                 ;     663 			calc = resp | 0xE0;
000cf2 2fe0      	MOV  R30,R16
000cf3 6ee0      	ORI  R30,LOW(0xE0)
000cf4 2f1e      	MOV  R17,R30
                 ;     664 			if (calc==0xE5)
000cf5 3e15      	CPI  R17,229
000cf6 f451      	BRNE _0x81
                 ;     665 			{
                 ;     666 				while(_FF_spi(0xFF)==0)
                 _0x82:
000cf7 940e 333e 	CALL SUBOPT_0x5
000cf9 30e0      	CPI  R30,0
000cfa f3e1      	BREQ _0x82
                 ;     667 					;	// Clear Buffer before returning 'OK'
                 ;     668 				SD_CS_OFF();
000cfb 9ac4      	SBI  0x18,4
                 ;     669 //				SPCR = 0x50;			// Reset SPI bus Speed
                 ;     670 				_FF_error = NO_ERR;
000cfc e0e0      	LDI  R30,LOW(0)
000cfd 93e0 073c 	STS  __FF_error,R30
                 ;     671 				return(1);
000cff e0e1      	LDI  R30,LOW(1)
000d00 c008      	RJMP _0x51C
                 ;     672 			}
                 ;     673 		}
                 _0x81:
                 ;     674 		SD_CS_OFF(); 
                 _0x7D:
000d01 9ac4      	SBI  0x18,4
                 ;     675 
                 ;     676 		if (spi_speedset()==0)
000d02 940e 0b14 	CALL _spi_speedset
000d04 30e0      	CPI  R30,0
000d05 f009      	BREQ _0x78
                 ;     677 			break;
                 ;     678 		// delay_ms(100);		
                 ;     679 	}
000d06 cfb1      	RJMP _0x77
                 _0x78:
                 ;     680 	_FF_error = WRITE_ERR;
000d07 940e 33f2 	CALL SUBOPT_0x1C
                 ;     681 	return(0x0);
                 _0x51C:
000d09 940e 401c 	CALL __LOADLOCR5
000d0b 9629      	ADIW R28,9
000d0c 9508      	RET
                 ;     682 }
                 ;     683 #endif
                 ;     684 /*
                 ;     685 	Progressive Resources LLC
                 ;     686                                     
                 ;     687 			FlashFile
                 ;     688 	
                 ;     689 	Version : 	1.32
                 ;     690 	Date: 		12/31/2003
                 ;     691 	Author: 	Erick M. Higa
                 ;     692 	
                 ;     693 	Revision History:
                 ;     694 	12/31/2003 - EMH - v1.00 
                 ;     695 			   	 	 - Initial Release
                 ;     696 	01/19/2004 - EMH - v1.10
                 ;     697 			   	 	 - fixed FAT access errors by allowing both FAT tables to be updated
                 ;     698 					 - fixed erase_cluster chain to stop if chain goes to '0'
                 ;     699 					 - fixed #include's so other non m128 processors could be used
                 ;     700 					 - fixed fcreate to match 'C' standard for function "creat"
                 ;     701 					 - fixed fseek so it would not error when in "READ" mode
                 ;     702 					 - modified SPI interface to use _FF_spi() so it is more universal
                 ;     703 					   (see the "sd_cmd.c" file for the function used)
                 ;     704 					 - redifined global variables and #defines for more unique names
                 ;     705 					 - added string functions fputs, fputsc, & fgets
                 ;     706 					 - added functions fquickformat, fgetfileinfo, & GetVolID()
                 ;     707 					 - added directory support
                 ;     708 					 - modified delays in "sd_cmd.c" to increase transfer speed to max
                 ;     709 					 - updated "options.h" to include additions, and to make #defines 
                 ;     710 					   more universal to multiple platforms
                 ;     711 	01/21/2004 - EMH - v1.20
                 ;     712 			   	 	 - Added ICC Support to the FlashFileSD
                 ;     713 					 - fixed card initialization error for MMC/SD's that have only a boot 
                 ;     714 			   	 	   sector and no partition table
                 ;     715 					 - Fixed intermittant error on fcreate when creating existing file
                 ;     716 					 - changed "options.h" to #include all required files
                 ;     717 	02/19/2004 - EMH - v1.21
                 ;     718 					 - Replaced all "const" refrances to "flash" to support CodeVision 1.24.1b
                 ;     719 	03/02/2004 - EMH - v1.22 (unofficial release)
                 ;     720 					 - Changed Directory Functions to allow for multi-cluster directory entries
                 ;     721 					 - Added function addr_to_clust() to support long directories
                 ;     722 					 - Fixed FAT table address calculation to support multiple reserved sectors
                 ;     723 					   (previously) assumed one reserved sector, if XP formats card sometimes 
                 ;     724 					   multiple reserved sectors - thanks YW
                 ;     725 	03/10/2004 - EMH - v1.30
                 ;     726 					 - Added support for a Compact Flash package
                 ;     727 					 - Renamed read and write to flash function names for multiple media support	
                 ;     728 	03/26/2004 - EMH - v1.31
                 ;     729 					 - Added define for easy MEGA128Dev board setup
                 ;     730 					 - Changed demo projects so "option.h" is in the project directory	
                 ;     731 	04/01/2004 - EMH - v1.32
                 ;     732 					 - Fixed bug in "prev_cluster()" that didn't use updated FAT table address
                 ;     733 					   calculations.  (effects XP formatted cards see v1.22 notes)
                 ;     734                                            
                 ;     735 	Software License
                 ;     736 	The use of Progressive Resources LLC FlashFile Source Package indicates 
                 ;     737 	your understanding and acceptance of the following terms and conditions. 
                 ;     738 	This license shall supersede any verbal or prior verbal or written, statement 
                 ;     739 	or agreement to the contrary. If you do not understand or accept these terms, 
                 ;     740 	or your local regulations prohibit "after sale" license agreements or limited 
                 ;     741 	disclaimers, you must cease and desist using this product immediately.
                 ;     742 	This product is  Copyright 2003 by Progressive Resources LLC, all rights 
                 ;     743 	reserved. International copyright laws, international treaties and all other 
                 ;     744 	applicable national or international laws protect this product. This software 
                 ;     745 	product and documentation may not, in whole or in part, be copied, photocopied, 
                 ;     746 	translated, or reduced to any electronic medium or machine readable form, without 
                 ;     747 	prior consent in writing, from Progressive Resources LLC and according to all 
                 ;     748 	applicable laws. The sole owner of this product is Progressive Resources LLC.
                 ;     749 
                 ;     750 	Operating License
                 ;     751 	You have the non-exclusive right to use any enclosed product but have no right 
                 ;     752 	to distribute it as a source code product without the express written permission 
                 ;     753 	of Progressive Resources LLC. Use over a "local area network" (within the same 
                 ;     754 	locale) is permitted provided that only a single person, on a single computer 
                 ;     755 	uses the product at a time. Use over a "wide area network" (outside the same 
                 ;     756 	locale) is strictly prohibited under any and all circumstances.
                 ;     757                                            
                 ;     758 	Liability Disclaimer
                 ;     759 	This product and/or license is provided as is, without any representation or 
                 ;     760 	warranty of any kind, either express or implied, including without limitation 
                 ;     761 	any representations or endorsements regarding the use of, the results of, or 
                 ;     762 	performance of the product, Its appropriateness, accuracy, reliability, or 
                 ;     763 	correctness. The user and/or licensee assume the entire risk as to the use of 
                 ;     764 	this product. Progressive Resources LLC does not assume liability for the use 
                 ;     765 	of this product beyond the original purchase price of the software. In no event 
                 ;     766 	will Progressive Resources LLC be liable for additional direct or indirect 
                 ;     767 	damages including any lost profits, lost savings, or other incidental or 
                 ;     768 	consequential damages arising from any defects, or the use or inability to 
                 ;     769 	use these products, even if Progressive Resources LLC have been advised of 
                 ;     770 	the possibility of such damages.
                 ;     771 */                                 
                 ;     772 
                 ;     773 extern unsigned long OCR_REG;
                 ;     774 extern unsigned char _FF_buff[512];
                 ;     775 extern unsigned int PT_SecStart;
                 ;     776 extern unsigned long BS_jmpBoot;
                 ;     777 extern unsigned int BPB_BytsPerSec;
                 ;     778 extern unsigned char BPB_SecPerClus;
                 ;     779 extern unsigned int BPB_RsvdSecCnt;
                 ;     780 extern unsigned char BPB_NumFATs;
                 ;     781 extern unsigned int BPB_RootEntCnt;
                 ;     782 extern unsigned int BPB_FATSz16;
                 ;     783 extern unsigned char BPB_FATType;
                 ;     784 extern unsigned long BPB_TotSec;
                 ;     785 extern unsigned long BS_VolSerial;
                 ;     786 extern unsigned char BS_VolLab[12];
                 ;     787 extern unsigned long _FF_PART_ADDR, _FF_ROOT_ADDR, _FF_DIR_ADDR;
                 ;     788 extern unsigned long _FF_FAT1_ADDR, _FF_FAT2_ADDR;
                 ;     789 extern unsigned int FirstDataSector;
                 ;     790 extern unsigned long FirstSectorofCluster;
                 ;     791 extern unsigned char _FF_error;
                 ;     792 extern unsigned long _FF_buff_addr;
                 ;     793 extern unsigned long DataClusTot;
                 ;     794 unsigned char rtc_hour, rtc_min, rtc_sec;
                 
                 	.DSEG
                 _rtc_hour:
000745           	.BYTE 0x1
                 _rtc_min:
000746           	.BYTE 0x1
                 _rtc_sec:
000747           	.BYTE 0x1
                 ;     795 unsigned char rtc_date, rtc_month;
                 _rtc_date:
000748           	.BYTE 0x1
                 _rtc_month:
000749           	.BYTE 0x1
                 ;     796 unsigned int rtc_year;
                 _rtc_year:
00074a           	.BYTE 0x2
                 ;     797 unsigned long clus_0_addr, _FF_n_temp;
                 _clus_0_addr:
00074c           	.BYTE 0x4
                 __FF_n_temp:
000750           	.BYTE 0x4
                 ;     798 unsigned int c_counter;
                 _c_counter:
000754           	.BYTE 0x2
                 ;     799 unsigned char _FF_FULL_PATH[_FF_PATH_LENGTH];
                 __FF_FULL_PATH:
000756           	.BYTE 0x64
                 ;     800 unsigned char FILENAME[12];
                 _FILENAME:
0007ba           	.BYTE 0xC
                 ;     801 
                 ;     802 // Conversion file to change an ASCII valued character into the calculated value
                 ;     803 unsigned char ascii_to_char(unsigned char ascii_char)
                 ;     804 {
                 
                 	.CSEG
                 _ascii_to_char:
                 ;     805 	unsigned char temp_char;
                 ;     806 	
                 ;     807 	if (ascii_char < 0x30)		// invalid, return error
000d0d 930a      	ST   -Y,R16
                 ;	ascii_char -> Y+1
                 ;	temp_char -> R16
000d0e 81a9      	LDD  R26,Y+1
000d0f 33a0      	CPI  R26,LOW(0x30)
000d10 f410      	BRSH _0x86
                 ;     808 		return (0xFF);
000d11 efef      	LDI  R30,LOW(255)
000d12 c023      	RJMP _0x51B
                 ;     809 	else if (ascii_char < 0x3A)
                 _0x86:
000d13 81a9      	LDD  R26,Y+1
000d14 33aa      	CPI  R26,LOW(0x3A)
000d15 f428      	BRSH _0x88
                 ;     810 	{	//number, subtract 0x30, retrun value
                 ;     811 		temp_char = ascii_char - 0x30;
000d16 81e9      	LDD  R30,Y+1
000d17 53e0      	SUBI R30,LOW(48)
000d18 2f0e      	MOV  R16,R30
                 ;     812 		return (temp_char);
000d19 2fe0      	MOV  R30,R16
000d1a c01b      	RJMP _0x51B
                 ;     813 	}
                 ;     814 	else if (ascii_char < 0x41)	// invalid, return error
                 _0x88:
000d1b 81a9      	LDD  R26,Y+1
000d1c 34a1      	CPI  R26,LOW(0x41)
000d1d f410      	BRSH _0x8A
                 ;     815 		return (0xFF);
000d1e efef      	LDI  R30,LOW(255)
000d1f c016      	RJMP _0x51B
                 ;     816 	else if (ascii_char < 0x47)
                 _0x8A:
000d20 81a9      	LDD  R26,Y+1
000d21 34a7      	CPI  R26,LOW(0x47)
000d22 f428      	BRSH _0x8C
                 ;     817 	{	// lower case a-f, subtract 0x37, return value
                 ;     818 		temp_char = ascii_char - 0x37;
000d23 81e9      	LDD  R30,Y+1
000d24 53e7      	SUBI R30,LOW(55)
000d25 2f0e      	MOV  R16,R30
                 ;     819 		return (temp_char);
000d26 2fe0      	MOV  R30,R16
000d27 c00e      	RJMP _0x51B
                 ;     820 	}
                 ;     821 	else if (ascii_char < 0x61)	// invalid, return error
                 _0x8C:
000d28 81a9      	LDD  R26,Y+1
000d29 36a1      	CPI  R26,LOW(0x61)
000d2a f410      	BRSH _0x8E
                 ;     822 		return (0xFF);
000d2b efef      	LDI  R30,LOW(255)
000d2c c009      	RJMP _0x51B
                 ;     823 	else if (ascii_char < 0x67)
                 _0x8E:
000d2d 81a9      	LDD  R26,Y+1
000d2e 36a7      	CPI  R26,LOW(0x67)
000d2f f428      	BRSH _0x90
                 ;     824 	{	// upper case A-F, subtract 0x57, return value
                 ;     825 		temp_char = ascii_char - 0x57;
000d30 81e9      	LDD  R30,Y+1
000d31 55e7      	SUBI R30,LOW(87)
000d32 2f0e      	MOV  R16,R30
                 ;     826 		return (temp_char);
000d33 2fe0      	MOV  R30,R16
000d34 c001      	RJMP _0x51B
                 ;     827 	}
                 ;     828 	else	// invalid, return error
                 _0x90:
                 ;     829 		return (0xFF);
000d35 efef      	LDI  R30,LOW(255)
                 ;     830 }
                 _0x51B:
000d36 8108      	LDD  R16,Y+0
000d37 9622      	ADIW R28,2
000d38 9508      	RET
                 ;     831 
                 ;     832 // Function to see if the character is a valid FILENAME character
                 ;     833 int valid_file_char(unsigned char file_char)
                 ;     834 {
                 _valid_file_char:
                 ;     835 	if (file_char < 0x20)
000d39 81a8      	LD   R26,Y
000d3a 32a0      	CPI  R26,LOW(0x20)
000d3b f418      	BRSH _0x92
                 ;     836 		return (EOF);
000d3c efef      	LDI  R30,LOW(65535)
000d3d efff      	LDI  R31,HIGH(65535)
000d3e c020      	RJMP _0x51A
                 ;     837 	else if ((file_char==0x22) || (file_char==0x2A) || (file_char==0x2B) || (file_char==0x2C) ||
                 _0x92:
                 ;     838 			(file_char==0x2E) || (file_char==0x2F) || ((file_char>=0x3A)&&(file_char<=0x3F)) ||
                 ;     839 			((file_char>=0x5B)&&(file_char<=0x5D)) || (file_char==0x7C) || (file_char==0xE5))
000d3f 81a8      	LD   R26,Y
000d40 32a2      	CPI  R26,LOW(0x22)
000d41 f0c1      	BREQ _0x95
000d42 32aa      	CPI  R26,LOW(0x2A)
000d43 f0b1      	BREQ _0x95
000d44 32ab      	CPI  R26,LOW(0x2B)
000d45 f0a1      	BREQ _0x95
000d46 32ac      	CPI  R26,LOW(0x2C)
000d47 f091      	BREQ _0x95
000d48 32ae      	CPI  R26,LOW(0x2E)
000d49 f081      	BREQ _0x95
000d4a 32af      	CPI  R26,LOW(0x2F)
000d4b f071      	BREQ _0x95
000d4c 33aa      	CPI  R26,LOW(0x3A)
000d4d f010      	BRLO _0x96
000d4e 34a0      	CPI  R26,LOW(0x40)
000d4f f050      	BRLO _0x95
                 _0x96:
000d50 81a8      	LD   R26,Y
000d51 35ab      	CPI  R26,LOW(0x5B)
000d52 f010      	BRLO _0x98
000d53 35ae      	CPI  R26,LOW(0x5E)
000d54 f028      	BRLO _0x95
                 _0x98:
000d55 81a8      	LD   R26,Y
000d56 37ac      	CPI  R26,LOW(0x7C)
000d57 f011      	BREQ _0x95
000d58 3ea5      	CPI  R26,LOW(0xE5)
000d59 f419      	BRNE _0x94
                 _0x95:
                 ;     840 		return (EOF);
000d5a efef      	LDI  R30,LOW(65535)
000d5b efff      	LDI  R31,HIGH(65535)
000d5c c002      	RJMP _0x51A
                 ;     841 	else
                 _0x94:
                 ;     842 		return (0);
000d5d e0e0      	LDI  R30,LOW(0)
000d5e e0f0      	LDI  R31,HIGH(0)
                 ;     843 }
                 _0x51A:
000d5f 9621      	ADIW R28,1
000d60 9508      	RET
                 ;     844 
                 ;     845 // Function will scan the directory @VALID_ADDR and return a
                 ;     846 // '0' if successful (w/ VALID_ADDR changing to location of entry avaliable),
                 ;     847 // and a '-1' if file or folder exists (w/ VALID_ADDR changing to location of
                 ;     848 // entry of exisiting file/folder) or if no more entry space (VALID_ADDR would
                 ;     849 // change to 0).
                 ;     850 int scan_directory(unsigned long *VALID_ADDR, unsigned char *NAME)
                 ;     851 {
                 _scan_directory:
                 ;     852 	unsigned int ent_cntr, ent_max, n, c, dir_clus;
                 ;     853 	unsigned long temp_addr;
                 ;     854 	unsigned char *sp, *qp, aval_flag, name_store[14];
                 ;     855 	
                 ;     856 	aval_flag = 0;
000d61 976b      	SBIW R28,27
000d62 940e 4014 	CALL __SAVELOCR6
                 ;	*VALID_ADDR -> Y+35
                 ;	*NAME -> Y+33
                 ;	ent_cntr -> R16,R17
                 ;	ent_max -> R18,R19
                 ;	n -> R20,R21
                 ;	c -> Y+31
                 ;	dir_clus -> Y+29
                 ;	temp_addr -> Y+25
                 ;	*sp -> Y+23
                 ;	*qp -> Y+21
                 ;	aval_flag -> Y+20
                 ;	name_store -> Y+6
000d64 e0e0      	LDI  R30,LOW(0)
000d65 8bec      	STD  Y+20,R30
                 ;     857 	ent_cntr = 0;	// set to 0
000d66 e000
000d67 e010      	__GETWRN 16,17,0
                 ;     858 	
                 ;     859 	qp = NAME;
000d68 a1e9      	LDD  R30,Y+33
000d69 a1fa      	LDD  R31,Y+33+1
000d6a 8bed      	STD  Y+21,R30
000d6b 8bfe      	STD  Y+21+1,R31
                 ;     860 	for (c=0; c<11; c++)
000d6c e0e0      	LDI  R30,0
000d6d 8fef      	STD  Y+31,R30
000d6e a3e8      	STD  Y+31+1,R30
                 _0x9D:
000d6f 8daf      	LDD  R26,Y+31
000d70 a1b8      	LDD  R27,Y+31+1
000d71 971b      	SBIW R26,11
000d72 f010      	BRLO PC+3
000d73 940c 0dbb 	JMP _0x9E
                 ;     861 	{
                 ;     862 		if (valid_file_char(*qp)==0)
000d75 89ad      	LDD  R26,Y+21
000d76 89be      	LDD  R27,Y+21+1
000d77 940e 33f7 	CALL SUBOPT_0x1D
000d79 f4a1      	BRNE _0x9F
                 ;     863 			name_store[c] = toupper(*qp++);
000d7a 8def      	LDD  R30,Y+31
000d7b a1f8      	LDD  R31,Y+31+1
000d7c 01de      	MOVW R26,R28
000d7d 9616      	ADIW R26,6
000d7e 0fea      	ADD  R30,R26
000d7f 1ffb      	ADC  R31,R27
000d80 93ff      	PUSH R31
000d81 93ef      	PUSH R30
000d82 89ad      	LDD  R26,Y+21
000d83 89be      	LDD  R27,Y+21+1
000d84 91ed      	LD   R30,X+
000d85 8bad      	STD  Y+21,R26
000d86 8bbe      	STD  Y+21+1,R27
000d87 93ea      	ST   -Y,R30
000d88 940e 3ccf 	CALL _toupper
000d8a 91af      	POP  R26
000d8b 91bf      	POP  R27
000d8c 93ec      	ST   X,R30
                 ;     864 		else if (*qp == '.')
000d8d c02a      	RJMP _0xA0
                 _0x9F:
000d8e 89ad      	LDD  R26,Y+21
000d8f 89be      	LDD  R27,Y+21+1
000d90 91ac      	LD   R26,X
000d91 32ae      	CPI  R26,LOW(0x2E)
000d92 f4a9      	BRNE _0xA1
                 ;     865 		{
                 ;     866 			while (c<8)
                 _0xA2:
000d93 8daf      	LDD  R26,Y+31
000d94 a1b8      	LDD  R27,Y+31+1
000d95 9718      	SBIW R26,8
000d96 f418      	BRSH _0xA4
                 ;     867 				name_store[c++] = 0x20;
000d97 940e 33fd 	CALL SUBOPT_0x1E
                 ;     868 			c--;
000d99 cff9      	RJMP _0xA2
                 _0xA4:
000d9a 8def      	LDD  R30,Y+31
000d9b a1f8      	LDD  R31,Y+31+1
000d9c 9731      	SBIW R30,1
000d9d 8fef      	STD  Y+31,R30
000d9e a3f8      	STD  Y+31+1,R31
                 ;     869 			
                 ;     870 			qp++;
000d9f 89ed      	LDD  R30,Y+21
000da0 89fe      	LDD  R31,Y+21+1
000da1 9631      	ADIW R30,1
000da2 8bed      	STD  Y+21,R30
000da3 8bfe      	STD  Y+21+1,R31
                 ;     871 			aval_flag |= 1;
000da4 89ec      	LDD  R30,Y+20
000da5 60e1      	ORI  R30,1
000da6 8bec      	STD  Y+20,R30
                 ;     872 		}
                 ;     873 		else if (*qp == 0)
000da7 c010      	RJMP _0xA5
                 _0xA1:
000da8 89ad      	LDD  R26,Y+21
000da9 89be      	LDD  R27,Y+21+1
000daa 91ec      	LD   R30,X
000dab 30e0      	CPI  R30,0
000dac f441      	BRNE _0xA6
                 ;     874 		{
                 ;     875 			while (c<11)
                 _0xA7:
000dad 8daf      	LDD  R26,Y+31
000dae a1b8      	LDD  R27,Y+31+1
000daf 971b      	SBIW R26,11
000db0 f418      	BRSH _0xA9
                 ;     876 				name_store[c++] = 0x20;
000db1 940e 33fd 	CALL SUBOPT_0x1E
                 ;     877 		}
000db3 cff9      	RJMP _0xA7
                 _0xA9:
                 ;     878 		else
000db4 c003      	RJMP _0xAA
                 _0xA6:
                 ;     879 		{
                 ;     880 			*VALID_ADDR = 0;
000db5 940e 340a 	CALL SUBOPT_0x1F
                 ;     881 			return (EOF);
000db7 c10d      	RJMP _0x519
                 ;     882 		}
                 _0xAA:
                 _0xA5:
                 _0xA0:
                 ;     883 	}
000db8 940e 3415 	CALL SUBOPT_0x20
000dba cfb4      	RJMP _0x9D
                 _0x9E:
                 ;     884 	name_store[11] = 0;
000dbb e0e0      	LDI  R30,LOW(0)
000dbc 8be9      	STD  Y+17,R30
                 ;     885 	
                 ;     886 	if (*VALID_ADDR == _FF_ROOT_ADDR)
000dbd a1ab      	LDD  R26,Y+35
000dbe a1bc      	LDD  R27,Y+35+1
000dbf 940e 3e51 	CALL __GETD1P
000dc1 91a0 0722 	LDS  R26,__FF_ROOT_ADDR
000dc3 91b0 0723 	LDS  R27,__FF_ROOT_ADDR+1
000dc5 9180 0724 	LDS  R24,__FF_ROOT_ADDR+2
000dc7 9190 0725 	LDS  R25,__FF_ROOT_ADDR+3
000dc9 940e 400a 	CALL __CPD12
000dcb f419      	BRNE _0xAB
                 ;     887 		ent_max = BPB_RootEntCnt;
000dcc 2d2c
000dcd 2d3d      	__MOVEWRR 18,19,12,13
                 ;     888 	else
000dce c019      	RJMP _0xAC
                 _0xAB:
                 ;     889 	{
                 ;     890 		dir_clus = addr_to_clust(*VALID_ADDR);
000dcf a1ab      	LDD  R26,Y+35
000dd0 a1bc      	LDD  R27,Y+35+1
000dd1 940e 3e51 	CALL __GETD1P
000dd3 940e 3e66 	CALL __PUTPARD1
000dd5 d2c0      	RCALL _addr_to_clust
000dd6 8fed      	STD  Y+29,R30
000dd7 8ffe      	STD  Y+29+1,R31
                 ;     891 		if (dir_clus != 0)
000dd8 9730      	SBIW R30,0
000dd9 f019      	BREQ _0xAD
                 ;     892 			aval_flag |= 0x80;
000dda 89ec      	LDD  R30,Y+20
000ddb 68e0      	ORI  R30,0x80
000ddc 8bec      	STD  Y+20,R30
                 ;     893 		ent_max = ((long) BPB_BytsPerSec * (long) BPB_SecPerClus) / 0x20;
                 _0xAD:
000ddd 940e 341b 	CALL SUBOPT_0x21
000ddf 01df      	MOVW R26,R30
000de0 01cb      	MOVW R24,R22
000de1 e2e0
000de2 e0f0
000de3 e060
000de4 e070      	__GETD1N 0x20
000de5 940e 3e08 	CALL __DIVD21
000de7 019f      	MOVW R18,R30
                 ;     894     }
                 _0xAC:
                 ;     895 	c = 0;
000de8 e0e0      	LDI  R30,0
000de9 8fef      	STD  Y+31,R30
000dea a3e8      	STD  Y+31+1,R30
                 ;     896 	while (ent_cntr < ent_max)	
                 _0xAE:
000deb 1702
000dec 0713      	__CPWRR 16,17,18,19
000ded f010      	BRLO PC+3
000dee 940c 0ec3 	JMP _0xB0
                 ;     897 	{
                 ;     898 		if (_FF_read(*VALID_ADDR+((long)c*BPB_BytsPerSec))==0)
000df0 a1ab      	LDD  R26,Y+35
000df1 a1bc      	LDD  R27,Y+35+1
000df2 940e 3e51 	CALL __GETD1P
000df4 937f      	PUSH R23
000df5 936f      	PUSH R22
000df6 93ff      	PUSH R31
000df7 93ef      	PUSH R30
000df8 940e 3427 	CALL SUBOPT_0x22
000dfa 91af      	POP  R26
000dfb 91bf      	POP  R27
000dfc 918f      	POP  R24
000dfd 919f      	POP  R25
000dfe 940e 3d12 	CALL __ADDD12
000e00 940e 337d 	CALL SUBOPT_0xC
000e02 f409      	BRNE _0xB1
                 ;     899 			break;
000e03 c0bf      	RJMP _0xB0
                 ;     900 		for (n=0; n<16; n++)
                 _0xB1:
000e04 e040
000e05 e050      	__GETWRN 20,21,0
                 _0xB3:
000e06 3140
000e07 e0e0
000e08 075e      	__CPWRN 20,21,16
000e09 f010      	BRLO PC+3
000e0a 940c 0e9c 	JMP _0xB4
                 ;     901 		{
                 ;     902 			sp = &_FF_buff[n*0x20];
000e0c 940e 3433 	CALL SUBOPT_0x23
000e0e 5fec      	SUBI R30,LOW(-__FF_buff)
000e0f 4ffa      	SBCI R31,HIGH(-__FF_buff)
000e10 8bef      	STD  Y+23,R30
000e11 8ff8      	STD  Y+23+1,R31
                 ;     903 			qp = name_store;
000e12 01fe      	MOVW R30,R28
000e13 9636      	ADIW R30,6
000e14 8bed      	STD  Y+21,R30
000e15 8bfe      	STD  Y+21+1,R31
                 ;     904 			if (*sp==0)
000e16 89af      	LDD  R26,Y+23
000e17 8db8      	LDD  R27,Y+23+1
000e18 91ec      	LD   R30,X
000e19 30e0      	CPI  R30,0
000e1a f4e1      	BRNE _0xB5
                 ;     905 			{
                 ;     906 				if ((aval_flag&0x10)==0)
000e1b 89ec      	LDD  R30,Y+20
000e1c 71e0      	ANDI R30,LOW(0x10)
000e1d f4a1      	BRNE _0xB6
                 ;     907 					temp_addr = *VALID_ADDR + ((long) c * BPB_BytsPerSec) + (n * 0x20);
000e1e a1ab      	LDD  R26,Y+35
000e1f a1bc      	LDD  R27,Y+35+1
000e20 940e 3e51 	CALL __GETD1P
000e22 937f      	PUSH R23
000e23 936f      	PUSH R22
000e24 93ff      	PUSH R31
000e25 93ef      	PUSH R30
000e26 940e 3427 	CALL SUBOPT_0x22
000e28 91af      	POP  R26
000e29 91bf      	POP  R27
000e2a 918f      	POP  R24
000e2b 919f      	POP  R25
000e2c 940e 3d17 	CALL __ADDD21
000e2e 940e 3433 	CALL SUBOPT_0x23
000e30 940e 3439 	CALL SUBOPT_0x24
                 ;     908 				*VALID_ADDR = temp_addr;
                 _0xB6:
000e32 940e 3442 	CALL SUBOPT_0x25
                 ;     909 				return (0);
000e34 e0e0      	LDI  R30,LOW(0)
000e35 e0f0      	LDI  R31,HIGH(0)
000e36 c08e      	RJMP _0x519
                 ;     910 			}
                 ;     911 			else if (*sp==0xE5)
                 _0xB5:
000e37 89af      	LDD  R26,Y+23
000e38 8db8      	LDD  R27,Y+23+1
000e39 91ac      	LD   R26,X
000e3a 3ea5      	CPI  R26,LOW(0xE5)
000e3b f4c1      	BRNE _0xB8
                 ;     912 			{
                 ;     913 				temp_addr = *VALID_ADDR + ((long) c * BPB_BytsPerSec) + (n * 0x20);
000e3c a1ab      	LDD  R26,Y+35
000e3d a1bc      	LDD  R27,Y+35+1
000e3e 940e 3e51 	CALL __GETD1P
000e40 937f      	PUSH R23
000e41 936f      	PUSH R22
000e42 93ff      	PUSH R31
000e43 93ef      	PUSH R30
000e44 940e 3427 	CALL SUBOPT_0x22
000e46 91af      	POP  R26
000e47 91bf      	POP  R27
000e48 918f      	POP  R24
000e49 919f      	POP  R25
000e4a 940e 3d17 	CALL __ADDD21
000e4c 940e 3433 	CALL SUBOPT_0x23
000e4e 940e 3439 	CALL SUBOPT_0x24
                 ;     914 				aval_flag |= 0x10;
000e50 89ec      	LDD  R30,Y+20
000e51 61e0      	ORI  R30,0x10
000e52 8bec      	STD  Y+20,R30
                 ;     915 			}
                 ;     916 			else
000e53 c043      	RJMP _0xB9
                 _0xB8:
                 ;     917 			{
                 ;     918 				if (aval_flag & 0x01)	// file
000e54 89ec      	LDD  R30,Y+20
000e55 70e1      	ANDI R30,LOW(0x1)
000e56 f0e9      	BREQ _0xBA
                 ;     919 				{
                 ;     920 					if (strncmp(qp, sp, 11)==0)
000e57 940e 344b 	CALL SUBOPT_0x26
000e59 f4c9      	BRNE _0xBB
                 ;     921 					{
                 ;     922 						temp_addr = *VALID_ADDR + ((long) c * BPB_BytsPerSec) + (n * 0x20);
000e5a a1ab      	LDD  R26,Y+35
000e5b a1bc      	LDD  R27,Y+35+1
000e5c 940e 3e51 	CALL __GETD1P
000e5e 937f      	PUSH R23
000e5f 936f      	PUSH R22
000e60 93ff      	PUSH R31
000e61 93ef      	PUSH R30
000e62 940e 3427 	CALL SUBOPT_0x22
000e64 91af      	POP  R26
000e65 91bf      	POP  R27
000e66 918f      	POP  R24
000e67 919f      	POP  R25
000e68 940e 3d17 	CALL __ADDD21
000e6a 940e 3433 	CALL SUBOPT_0x23
000e6c 940e 3439 	CALL SUBOPT_0x24
                 ;     923 						*VALID_ADDR = temp_addr;
000e6e 940e 3442 	CALL SUBOPT_0x25
                 ;     924 						return (EOF);	// file exists @ temp_addr
000e70 efef      	LDI  R30,LOW(65535)
000e71 efff      	LDI  R31,HIGH(65535)
000e72 c052      	RJMP _0x519
                 ;     925 					}
                 ;     926 				}
                 _0xBB:
                 ;     927 				else					// folder
000e73 c023      	RJMP _0xBC
                 _0xBA:
                 ;     928 				{
                 ;     929 					if ((strncmp(qp, sp, 11)==0)&&(*(sp+11)&0x10))
000e74 940e 344b 	CALL SUBOPT_0x26
000e76 f431      	BRNE _0xBE
000e77 89af      	LDD  R26,Y+23
000e78 8db8      	LDD  R27,Y+23+1
000e79 961b      	ADIW R26,11
000e7a 91ec      	LD   R30,X
000e7b 71e0      	ANDI R30,LOW(0x10)
000e7c f409      	BRNE _0xBF
                 _0xBE:
000e7d c019      	RJMP _0xBD
                 _0xBF:
                 ;     930 					{
                 ;     931 						temp_addr = *VALID_ADDR + ((long) c * BPB_BytsPerSec) + (n * 0x20);
000e7e a1ab      	LDD  R26,Y+35
000e7f a1bc      	LDD  R27,Y+35+1
000e80 940e 3e51 	CALL __GETD1P
000e82 937f      	PUSH R23
000e83 936f      	PUSH R22
000e84 93ff      	PUSH R31
000e85 93ef      	PUSH R30
000e86 940e 3427 	CALL SUBOPT_0x22
000e88 91af      	POP  R26
000e89 91bf      	POP  R27
000e8a 918f      	POP  R24
000e8b 919f      	POP  R25
000e8c 940e 3d17 	CALL __ADDD21
000e8e 940e 3433 	CALL SUBOPT_0x23
000e90 940e 3439 	CALL SUBOPT_0x24
                 ;     932 						*VALID_ADDR = temp_addr;
000e92 940e 3442 	CALL SUBOPT_0x25
                 ;     933 						return (EOF);	// file exists @ temp_addr
000e94 efef      	LDI  R30,LOW(65535)
000e95 efff      	LDI  R31,HIGH(65535)
000e96 c02e      	RJMP _0x519
                 ;     934 					}
                 ;     935 				}
                 _0xBD:
                 _0xBC:
                 ;     936 			}
                 _0xB9:
                 ;     937 			ent_cntr++;
000e97 5f0f
000e98 4f1f      	__ADDWRN 16,17,1
                 ;     938 		}
000e99 5f4f
000e9a 4f5f      	__ADDWRN 20,21,1
000e9b cf6a      	RJMP _0xB3
                 _0xB4:
                 ;     939 		c++;
000e9c 940e 3415 	CALL SUBOPT_0x20
                 ;     940 		if (ent_cntr == ent_max)
000e9e 1720
000e9f 0731      	__CPWRR 18,19,16,17
000ea0 f509      	BRNE _0xC0
                 ;     941 		{
                 ;     942 			if (aval_flag & 0x80)		// a folder @ a valid cluster
000ea1 89ec      	LDD  R30,Y+20
000ea2 78e0      	ANDI R30,LOW(0x80)
000ea3 f0f1      	BREQ _0xC1
                 ;     943 			{
                 ;     944 				c = next_cluster(dir_clus, SINGLE);
000ea4 8ded      	LDD  R30,Y+29
000ea5 8dfe      	LDD  R31,Y+29+1
000ea6 940e 3459 	CALL SUBOPT_0x27
000ea8 8fef      	STD  Y+31,R30
000ea9 a3f8      	STD  Y+31+1,R31
                 ;     945 				if (c != EOF)
000eaa 8daf      	LDD  R26,Y+31
000eab a1b8      	LDD  R27,Y+31+1
000eac 3faf      	CPI  R26,LOW(0xFFFF)
000ead efef      	LDI  R30,HIGH(0xFFFF)
000eae 07be      	CPC  R27,R30
000eaf f091      	BREQ _0xC2
                 ;     946 				{	// another dir cluster exists
                 ;     947 					*VALID_ADDR = clust_to_addr(c);
000eb0 8def      	LDD  R30,Y+31
000eb1 a1f8      	LDD  R31,Y+31+1
000eb2 93fa      	ST   -Y,R31
000eb3 93ea      	ST   -Y,R30
000eb4 d1b0      	RCALL _clust_to_addr
000eb5 a1ab      	LDD  R26,Y+35
000eb6 a1bc      	LDD  R27,Y+35+1
000eb7 940e 3e57 	CALL __PUTDP1
                 ;     948 					dir_clus = c;
000eb9 8def      	LDD  R30,Y+31
000eba a1f8      	LDD  R31,Y+31+1
000ebb 8fed      	STD  Y+29,R30
000ebc 8ffe      	STD  Y+29+1,R31
                 ;     949 					ent_cntr = 0;
000ebd e000
000ebe e010      	__GETWRN 16,17,0
                 ;     950 					c = 0;
000ebf e0e0      	LDI  R30,0
000ec0 8fef      	STD  Y+31,R30
000ec1 a3e8      	STD  Y+31+1,R30
                 ;     951 				}
                 ;     952 			}
                 _0xC2:
                 ;     953 		}
                 _0xC1:
                 ;     954 	}
                 _0xC0:
000ec2 cf28      	RJMP _0xAE
                 _0xB0:
                 ;     955 	*VALID_ADDR = 0;
000ec3 940e 340a 	CALL SUBOPT_0x1F
                 ;     956 	return (EOF);	
                 _0x519:
000ec5 940e 401b 	CALL __LOADLOCR6
000ec7 96a5      	ADIW R28,37
000ec8 9508      	RET
                 ;     957 }
                 ;     958 
                 ;     959 #ifdef _DEBUG_ON_
                 ;     960 // Function to display all files and folders in the root directory, 
                 ;     961 // with the size of the file in bytes within the [brakets]
                 ;     962 void read_directory(void)
                 ;     963 {
                 _read_directory:
                 ;     964 	unsigned char valid_flag, attribute_temp;
                 ;     965 	unsigned int c, n, d, m, dir_clus;
                 ;     966 	unsigned long calc, calc_clus, dir_addr;
                 ;     967 	
                 ;     968 	if (_FF_DIR_ADDR != _FF_ROOT_ADDR)
000ec9 9762      	SBIW R28,18
000eca 940e 4014 	CALL __SAVELOCR6
                 ;	valid_flag -> R16
                 ;	attribute_temp -> R17
                 ;	c -> R18,R19
                 ;	n -> R20,R21
                 ;	d -> Y+22
                 ;	m -> Y+20
                 ;	dir_clus -> Y+18
                 ;	calc -> Y+14
                 ;	calc_clus -> Y+10
                 ;	dir_addr -> Y+6
000ecc 940e 345f 	CALL SUBOPT_0x28
000ece f081      	BREQ _0xC3
                 ;     969 	{
                 ;     970 		dir_clus = addr_to_clust(_FF_DIR_ADDR);
000ecf 91e0 0726 	LDS  R30,__FF_DIR_ADDR
000ed1 91f0 0727 	LDS  R31,__FF_DIR_ADDR+1
000ed3 9160 0728 	LDS  R22,__FF_DIR_ADDR+2
000ed5 9170 0729 	LDS  R23,__FF_DIR_ADDR+3
000ed7 940e 3e66 	CALL __PUTPARD1
000ed9 d1bc      	RCALL _addr_to_clust
000eda 8bea      	STD  Y+18,R30
000edb 8bfb      	STD  Y+18+1,R31
                 ;     971 		if (dir_clus == 0)
000edc 9730      	SBIW R30,0
000edd f409      	BRNE _0xC4
                 ;     972 			return;
000ede c162      	RJMP _0x518
                 ;     973 	}
                 _0xC4:
                 ;     974 
                 ;     975 	printf("\r\nFile Listing for:  ROOT\\");
                 _0xC3:
000edf e5e5
000ee0 e0f3      	__POINTW1FN _0,481
000ee1 93fa      	ST   -Y,R31
000ee2 93ea      	ST   -Y,R30
000ee3 e080      	LDI  R24,0
000ee4 940e 3228 	CALL _printf
000ee6 9622      	ADIW R28,2
                 ;     976 	for (d=0; d<_FF_PATH_LENGTH; d++)
000ee7 e0e0      	LDI  R30,0
000ee8 8bee      	STD  Y+22,R30
000ee9 8bef      	STD  Y+22+1,R30
                 _0xC6:
000eea 89ae      	LDD  R26,Y+22
000eeb 89bf      	LDD  R27,Y+22+1
000eec 36a4      	CPI  R26,LOW(0x64)
000eed e0e0      	LDI  R30,HIGH(0x64)
000eee 07be      	CPC  R27,R30
000eef f470      	BRSH _0xC7
                 ;     977 	{
                 ;     978 		if (_FF_FULL_PATH[d])
000ef0 940e 3472 	CALL SUBOPT_0x29
000ef2 30e0      	CPI  R30,0
000ef3 f031      	BREQ _0xC8
                 ;     979 			putchar(_FF_FULL_PATH[d]);
000ef4 940e 3472 	CALL SUBOPT_0x29
000ef6 93ea      	ST   -Y,R30
000ef7 940e 0642 	CALL _putchar
                 ;     980 		else
000ef9 c001      	RJMP _0xC9
                 _0xC8:
                 ;     981 			break;
000efa c003      	RJMP _0xC7
                 ;     982 	}
                 _0xC9:
000efb 940e 3478 	CALL SUBOPT_0x2A
000efd cfec      	RJMP _0xC6
                 _0xC7:
                 ;     983 	
                 ;     984     
                 ;     985     dir_addr = _FF_DIR_ADDR;
000efe 91e0 0726 	LDS  R30,__FF_DIR_ADDR
000f00 91f0 0727 	LDS  R31,__FF_DIR_ADDR+1
000f02 9160 0728 	LDS  R22,__FF_DIR_ADDR+2
000f04 9170 0729 	LDS  R23,__FF_DIR_ADDR+3
000f06 83ee
000f07 83ff
000f08 8768
000f09 8779      	__PUTD1S 6
                 ;     986 	d = 0;
000f0a e0e0      	LDI  R30,0
000f0b 8bee      	STD  Y+22,R30
000f0c 8bef      	STD  Y+22+1,R30
                 ;     987 	m = 0;
000f0d e0e0      	LDI  R30,0
000f0e 8bec      	STD  Y+20,R30
000f0f 8bed      	STD  Y+20+1,R30
                 ;     988 	while (d<BPB_RootEntCnt)
                 _0xCA:
000f10 89ae      	LDD  R26,Y+22
000f11 89bf      	LDD  R27,Y+22+1
000f12 15ac      	CP   R26,R12
000f13 05bd      	CPC  R27,R13
000f14 f010      	BRLO PC+3
000f15 940c 103f 	JMP _0xCC
                 ;     989 	{
                 ;     990     	if (_FF_read(dir_addr+(m*0x200))==0)
000f17 89ec      	LDD  R30,Y+20
000f18 89fd      	LDD  R31,Y+20+1
000f19 0fee      	LSL  R30
000f1a 1fff      	ROL  R31
000f1b 2ffe      	MOV  R31,R30
000f1c e0e0      	LDI  R30,0
000f1d 81ae
000f1e 81bf
000f1f 8588
000f20 8599      	__GETD2S 6
000f21 2766      	CLR  R22
000f22 2777      	CLR  R23
000f23 940e 3d12 	CALL __ADDD12
000f25 940e 337d 	CALL SUBOPT_0xC
000f27 f409      	BRNE _0xCD
                 ;     991     		break;
000f28 c116      	RJMP _0xCC
                 ;     992 		for (n=0; n<16; n++)
                 _0xCD:
000f29 e040
000f2a e050      	__GETWRN 20,21,0
                 _0xCF:
000f2b 3140
000f2c e0e0
000f2d 075e      	__CPWRN 20,21,16
000f2e f010      	BRLO PC+3
000f2f 940c 1005 	JMP _0xD0
                 ;     993 		{
                 ;     994 			for (c=0; c<11; c++)
000f31 e020
000f32 e030      	__GETWRN 18,19,0
                 _0xD2:
000f33 302b
000f34 e0e0
000f35 073e      	__CPWRN 18,19,11
000f36 f4d8      	BRSH _0xD3
                 ;     995 			{
                 ;     996 				if (_FF_buff[(n*0x20)]==0)
000f37 940e 3433 	CALL SUBOPT_0x23
000f39 940e 347e 	CALL SUBOPT_0x2B
000f3b f431      	BRNE _0xD4
                 ;     997 				{
                 ;     998 					n=16;
000f3c e140
000f3d e050      	__GETWRN 20,21,16
                 ;     999 					d=BPB_RootEntCnt;
000f3e 8ace
000f3f 8adf      	__PUTWSR 12,13,22
                 ;    1000 					valid_flag = 0;
000f40 e000      	LDI  R16,LOW(0)
                 ;    1001 					break;
000f41 c010      	RJMP _0xD3
                 ;    1002 				}
                 ;    1003 				valid_flag = 1;
                 _0xD4:
000f42 e001      	LDI  R16,LOW(1)
                 ;    1004 				if (valid_file_char(_FF_buff[(n*0x20)+c]))
000f43 940e 3433 	CALL SUBOPT_0x23
000f45 0fe2      	ADD  R30,R18
000f46 1ff3      	ADC  R31,R19
000f47 940e 3483 	CALL SUBOPT_0x2C
000f49 940e 0d39 	CALL _valid_file_char
000f4b 9730      	SBIW R30,0
000f4c f011      	BREQ _0xD5
                 ;    1005 				{
                 ;    1006 					valid_flag = 0;
000f4d e000      	LDI  R16,LOW(0)
                 ;    1007 					break;
000f4e c003      	RJMP _0xD3
                 ;    1008 				}
                 ;    1009 		    }   
                 _0xD5:
000f4f 5f2f
000f50 4f3f      	__ADDWRN 18,19,1
000f51 cfe1      	RJMP _0xD2
                 _0xD3:
                 ;    1010 		    if (valid_flag)
000f52 3000      	CPI  R16,0
000f53 f411      	BRNE PC+3
000f54 940c 1000 	JMP _0xD6
                 ;    1011 	  		{
                 ;    1012 		  		calc = (n * 0x20) + 0xB;
000f56 940e 3433 	CALL SUBOPT_0x23
000f58 963b      	ADIW R30,11
000f59 940e 3488 	CALL SUBOPT_0x2D
                 ;    1013 		  		attribute_temp = _FF_buff[calc];
000f5b 8110      	LD   R17,Z
                 ;    1014 		  		putchar('\n');
000f5c 940e 3491 	CALL SUBOPT_0x2E
                 ;    1015 				putchar('\r');
                 ;    1016 				c = (n * 0x20);
000f5e 940e 3433 	CALL SUBOPT_0x23
000f60 019f      	MOVW R18,R30
                 ;    1017 			  	calc = ((long) _FF_buff[c+0x1F] << 24) | ((long) _FF_buff[c+0x1E] << 16) |
                 ;    1018 			  			((long) _FF_buff[c+0x1D] << 8) | ((long) _FF_buff[c+0x1C]);
000f61 01f9      	MOVW R30,R18
000f62 5ded
000f63 4ffa      	__ADDW1MN __FF_buff,31
000f64 81e0      	LD   R30,Z
000f65 940e 339b 	CALL SUBOPT_0x10
000f67 01f9      	MOVW R30,R18
000f68 5dee
000f69 4ffa      	__ADDW1MN __FF_buff,30
000f6a 81e0      	LD   R30,Z
000f6b 940e 33a6 	CALL SUBOPT_0x11
000f6d 937f      	PUSH R23
000f6e 936f      	PUSH R22
000f6f 93ff      	PUSH R31
000f70 93ef      	PUSH R30
000f71 01f9      	MOVW R30,R18
000f72 5def
000f73 4ffa      	__ADDW1MN __FF_buff,29
000f74 81e0      	LD   R30,Z
000f75 940e 33ae 	CALL SUBOPT_0x12
000f77 91af      	POP  R26
000f78 91bf      	POP  R27
000f79 918f      	POP  R24
000f7a 919f      	POP  R25
000f7b 940e 3d26 	CALL __ORD12
000f7d 01df      	MOVW R26,R30
000f7e 01cb      	MOVW R24,R22
000f7f 01f9      	MOVW R30,R18
000f80 5ee0
000f81 4ffa      	__ADDW1MN __FF_buff,28
000f82 940e 3499 	CALL SUBOPT_0x2F
000f84 87ee
000f85 87ff
000f86 8b68
000f87 8b79      	__PUTD1S 14
                 ;    1019 			  	calc_clus = ((int) _FF_buff[c+0x1B] << 8) | (int) _FF_buff[c+0x1A];
000f88 01f9      	MOVW R30,R18
000f89 5ee1
000f8a 4ffa      	__ADDW1MN __FF_buff,27
000f8b 940e 34a0 	CALL SUBOPT_0x30
000f8d 01f9      	MOVW R30,R18
000f8e 5ee2
000f8f 4ffa      	__ADDW1MN __FF_buff,26
000f90 940e 34a4 	CALL SUBOPT_0x31
000f92 940e 3d80 	CALL __CWD1
000f94 87ea
000f95 87fb
000f96 876c
000f97 877d      	__PUTD1S 10
                 ;    1020 				if (attribute_temp & 0x10)
000f98 ff14      	SBRS R17,4
000f99 c009      	RJMP _0xD7
                 ;    1021 					printf("  [");
000f9a e7e0
000f9b e0f3      	__POINTW1FN _0,508
000f9c 93fa      	ST   -Y,R31
000f9d 93ea      	ST   -Y,R30
000f9e e080      	LDI  R24,0
000f9f 940e 3228 	CALL _printf
000fa1 9622      	ADIW R28,2
                 ;    1022 				else
000fa2 c014      	RJMP _0xD8
                 _0xD7:
                 ;    1023 			  		printf("                [%ld] bytes      (%X)\r  ", calc, calc_clus);		  		
000fa3 e7e4
000fa4 e0f3      	__POINTW1FN _0,512
000fa5 93fa      	ST   -Y,R31
000fa6 93ea      	ST   -Y,R30
000fa7 89e8
000fa8 89f9
000fa9 896a
000faa 897b      	__GETD1S 16
000fab 940e 3e66 	CALL __PUTPARD1
000fad 89e8
000fae 89f9
000faf 896a
000fb0 897b      	__GETD1S 16
000fb1 940e 3e66 	CALL __PUTPARD1
000fb3 e088      	LDI  R24,8
000fb4 940e 3228 	CALL _printf
000fb6 962a      	ADIW R28,10
                 ;    1024 				for (c=0; c<8; c++)
                 _0xD8:
000fb7 e020
000fb8 e030      	__GETWRN 18,19,0
                 _0xDA:
000fb9 3028
000fba e0e0
000fbb 073e      	__CPWRN 18,19,8
000fbc f4a0      	BRSH _0xDB
                 ;    1025 				{
                 ;    1026 					calc = (n * 0x20) + c;
000fbd 940e 3433 	CALL SUBOPT_0x23
000fbf 0fe2      	ADD  R30,R18
000fc0 1ff3      	ADC  R31,R19
000fc1 940e 3488 	CALL SUBOPT_0x2D
                 ;    1027 					if (_FF_buff[calc]==0x20)
000fc3 81e0      	LD   R30,Z
000fc4 32e0      	CPI  R30,LOW(0x20)
000fc5 f059      	BREQ _0xDB
                 ;    1028 						break;
                 ;    1029 					putchar(_FF_buff[calc]);
000fc6 85ee
000fc7 85ff
000fc8 8968
000fc9 8979      	__GETD1S 14
000fca 940e 3483 	CALL SUBOPT_0x2C
000fcc 940e 0642 	CALL _putchar
                 ;    1030 				}
000fce 5f2f
000fcf 4f3f      	__ADDWRN 18,19,1
000fd0 cfe8      	RJMP _0xDA
                 _0xDB:
                 ;    1031 				if (attribute_temp & 0x10)
000fd1 ff14      	SBRS R17,4
000fd2 c00f      	RJMP _0xDD
                 ;    1032 				{
                 ;    1033 					printf("]      (%X)", calc_clus);
000fd3 e9ed
000fd4 e0f3      	__POINTW1FN _0,553
000fd5 93fa      	ST   -Y,R31
000fd6 93ea      	ST   -Y,R30
000fd7 85ec
000fd8 85fd
000fd9 856e
000fda 857f      	__GETD1S 12
000fdb 940e 3e66 	CALL __PUTPARD1
000fdd e084      	LDI  R24,4
000fde 940e 3228 	CALL _printf
000fe0 9626      	ADIW R28,6
                 ;    1034 				}
                 ;    1035 				else
000fe1 c01e      	RJMP _0xDE
                 _0xDD:
                 ;    1036 				{
                 ;    1037 					putchar('.');
000fe2 e2ee      	LDI  R30,LOW(46)
000fe3 93ea      	ST   -Y,R30
000fe4 940e 0642 	CALL _putchar
                 ;    1038 					for (c=8; c<11; c++)
000fe6 e028
000fe7 e030      	__GETWRN 18,19,8
                 _0xE0:
000fe8 302b
000fe9 e0e0
000fea 073e      	__CPWRN 18,19,11
000feb f4a0      	BRSH _0xE1
                 ;    1039 					{
                 ;    1040 						calc = (n * 0x20) + c;
000fec 940e 3433 	CALL SUBOPT_0x23
000fee 0fe2      	ADD  R30,R18
000fef 1ff3      	ADC  R31,R19
000ff0 940e 3488 	CALL SUBOPT_0x2D
                 ;    1041 						if (_FF_buff[calc]==0x20)
000ff2 81e0      	LD   R30,Z
000ff3 32e0      	CPI  R30,LOW(0x20)
000ff4 f059      	BREQ _0xE1
                 ;    1042 							break;
                 ;    1043 						putchar(_FF_buff[calc]);
000ff5 85ee
000ff6 85ff
000ff7 8968
000ff8 8979      	__GETD1S 14
000ff9 940e 3483 	CALL SUBOPT_0x2C
000ffb 940e 0642 	CALL _putchar
                 ;    1044 					}
000ffd 5f2f
000ffe 4f3f      	__ADDWRN 18,19,1
000fff cfe8      	RJMP _0xE0
                 _0xE1:
                 ;    1045 				}
                 _0xDE:
                 ;    1046 		  	}
                 ;    1047 		  	d++;		  		
                 _0xD6:
001000 940e 3478 	CALL SUBOPT_0x2A
                 ;    1048 		}
001002 5f4f
001003 4f5f      	__ADDWRN 20,21,1
001004 cf26      	RJMP _0xCF
                 _0xD0:
                 ;    1049 		m++;
001005 89ec      	LDD  R30,Y+20
001006 89fd      	LDD  R31,Y+20+1
001007 9631      	ADIW R30,1
001008 8bec      	STD  Y+20,R30
001009 8bfd      	STD  Y+20+1,R31
                 ;    1050 		if (_FF_ROOT_ADDR!=_FF_DIR_ADDR)
00100a 91e0 0726 	LDS  R30,__FF_DIR_ADDR
00100c 91f0 0727 	LDS  R31,__FF_DIR_ADDR+1
00100e 9160 0728 	LDS  R22,__FF_DIR_ADDR+2
001010 9170 0729 	LDS  R23,__FF_DIR_ADDR+3
001012 91a0 0722 	LDS  R26,__FF_ROOT_ADDR
001014 91b0 0723 	LDS  R27,__FF_ROOT_ADDR+1
001016 9180 0724 	LDS  R24,__FF_ROOT_ADDR+2
001018 9190 0725 	LDS  R25,__FF_ROOT_ADDR+3
00101a 940e 400a 	CALL __CPD12
00101c f109      	BREQ _0xE3
                 ;    1051 		{
                 ;    1052 		   	if (m==BPB_SecPerClus)
00101d 2de8      	MOV  R30,R8
00101e 89ac      	LDD  R26,Y+20
00101f 89bd      	LDD  R27,Y+20+1
001020 e0f0      	LDI  R31,0
001021 17ea      	CP   R30,R26
001022 07fb      	CPC  R31,R27
001023 f4d1      	BRNE _0xE4
                 ;    1053 		   	{
                 ;    1054 
                 ;    1055 				m = next_cluster(dir_clus, SINGLE);
001024 89ea      	LDD  R30,Y+18
001025 89fb      	LDD  R31,Y+18+1
001026 940e 3459 	CALL SUBOPT_0x27
001028 8bec      	STD  Y+20,R30
001029 8bfd      	STD  Y+20+1,R31
                 ;    1056 				if (m != EOF)
00102a 89ac      	LDD  R26,Y+20
00102b 89bd      	LDD  R27,Y+20+1
00102c 3faf      	CPI  R26,LOW(0xFFFF)
00102d efef      	LDI  R30,HIGH(0xFFFF)
00102e 07be      	CPC  R27,R30
00102f f069      	BREQ _0xE5
                 ;    1057 				{	// another dir cluster exists
                 ;    1058 					dir_addr = clust_to_addr(m);
001030 940e 34a9 	CALL SUBOPT_0x32
                 ;    1059 					dir_clus = m;
001032 89ec      	LDD  R30,Y+20
001033 89fd      	LDD  R31,Y+20+1
001034 8bea      	STD  Y+18,R30
001035 8bfb      	STD  Y+18+1,R31
                 ;    1060 					d = 0;
001036 e0e0      	LDI  R30,0
001037 8bee      	STD  Y+22,R30
001038 8bef      	STD  Y+22+1,R30
                 ;    1061 					m = 0;
001039 e0e0      	LDI  R30,0
00103a 8bec      	STD  Y+20,R30
00103b 8bed      	STD  Y+20+1,R30
                 ;    1062 				}
                 ;    1063 				else
00103c c001      	RJMP _0xE6
                 _0xE5:
                 ;    1064 					break;
00103d c001      	RJMP _0xCC
                 ;    1065 		   		
                 ;    1066 		   	}
                 _0xE6:
                 ;    1067 		}
                 _0xE4:
                 ;    1068 	}
                 _0xE3:
00103e ced1      	RJMP _0xCA
                 _0xCC:
                 ;    1069 	putchar('\n');
00103f 940e 3491 	CALL SUBOPT_0x2E
                 ;    1070 	putchar('\r');	
                 ;    1071 } 
                 _0x518:
001041 940e 401b 	CALL __LOADLOCR6
001043 9668      	ADIW R28,24
001044 9508      	RET
                 ;    1072 
                 ;    1073 void GetVolID(void)
                 ;    1074 {
                 _GetVolID:
                 ;    1075 	printf("\r\n  Volume Serial:  [0x%lX]", BS_VolSerial);
001045 eae9
001046 e0f3      	__POINTW1FN _0,565
001047 93fa      	ST   -Y,R31
001048 93ea      	ST   -Y,R30
001049 91e0 070e 	LDS  R30,_BS_VolSerial
00104b 91f0 070f 	LDS  R31,_BS_VolSerial+1
00104d 9160 0710 	LDS  R22,_BS_VolSerial+2
00104f 9170 0711 	LDS  R23,_BS_VolSerial+3
001051 940e 3e66 	CALL __PUTPARD1
001053 e084      	LDI  R24,4
001054 940e 3228 	CALL _printf
001056 9626      	ADIW R28,6
                 ;    1076 	printf("\r\n  Volume Label:  [%s]\r\n", BS_VolLab);
001057 ece5
001058 e0f3      	__POINTW1FN _0,593
001059 93fa      	ST   -Y,R31
00105a 93ea      	ST   -Y,R30
00105b e1e2      	LDI  R30,LOW(_BS_VolLab)
00105c e0f7      	LDI  R31,HIGH(_BS_VolLab)
00105d 2766      	CLR  R22
00105e 2777      	CLR  R23
00105f 940e 3e66 	CALL __PUTPARD1
001061 e084      	LDI  R24,4
001062 940e 3228 	CALL _printf
001064 c02f      	RJMP _0x517
                 ;    1077 }
                 ;    1078 #endif
                 ;    1079 
                 ;    1080 // Convert a cluster number into a read address
                 ;    1081 unsigned long clust_to_addr(unsigned int clust_no)
                 ;    1082 {
                 _clust_to_addr:
                 ;    1083 	unsigned long clust_addr;
                 ;    1084 	
                 ;    1085 	FirstSectorofCluster = ((clust_no - 2) * (long) BPB_SecPerClus) + (long) FirstDataSector;
001065 9724      	SBIW R28,4
                 ;	clust_no -> Y+4
                 ;	clust_addr -> Y+0
001066 81ac      	LDD  R26,Y+4
001067 81bd      	LDD  R27,Y+4+1
001068 9712      	SBIW R26,2
001069 2de8      	MOV  R30,R8
00106a 27ff      	CLR  R31
00106b 2766      	CLR  R22
00106c 2777      	CLR  R23
00106d 2788      	CLR  R24
00106e 2799      	CLR  R25
00106f 940e 3db7 	CALL __MULD12
001071 01df      	MOVW R26,R30
001072 01cb      	MOVW R24,R22
001073 91e0 0736 	LDS  R30,_FirstDataSector
001075 91f0 0737 	LDS  R31,_FirstDataSector+1
001077 2766      	CLR  R22
001078 2777      	CLR  R23
001079 940e 3d12 	CALL __ADDD12
00107b 93e0 0738 	STS  _FirstSectorofCluster,R30
00107d 93f0 0739 	STS  _FirstSectorofCluster+1,R31
00107f 9360 073a 	STS  _FirstSectorofCluster+2,R22
001081 9370 073b 	STS  _FirstSectorofCluster+3,R23
                 ;    1086 	clust_addr = (long) FirstSectorofCluster * (long) BPB_BytsPerSec + _FF_PART_ADDR;
001083 01f3      	MOVW R30,R6
001084 2766      	CLR  R22
001085 2777      	CLR  R23
001086 91a0 0738 	LDS  R26,_FirstSectorofCluster
001088 91b0 0739 	LDS  R27,_FirstSectorofCluster+1
00108a 9180 073a 	LDS  R24,_FirstSectorofCluster+2
00108c 9190 073b 	LDS  R25,_FirstSectorofCluster+3
00108e 940e 34b4 	CALL SUBOPT_0x33
001090 83e8
001091 83f9
001092 836a
001093 837b      	__PUTD1S 0
                 ;    1087 
                 ;    1088 	return (clust_addr);
                 _0x517:
001094 9626      	ADIW R28,6
001095 9508      	RET
                 ;    1089 }
                 ;    1090 
                 ;    1091 // Converts an address into a cluster number
                 ;    1092 unsigned int addr_to_clust(unsigned long clus_addr)
                 ;    1093 {
                 _addr_to_clust:
                 ;    1094 	if (clus_addr <= _FF_PART_ADDR)
001096 91e0 071e 	LDS  R30,__FF_PART_ADDR
001098 91f0 071f 	LDS  R31,__FF_PART_ADDR+1
00109a 9160 0720 	LDS  R22,__FF_PART_ADDR+2
00109c 9170 0721 	LDS  R23,__FF_PART_ADDR+3
00109e 81a8
00109f 81b9
0010a0 818a
0010a1 819b      	__GETD2S 0
0010a2 940e 400a 	CALL __CPD12
0010a4 f018      	BRLO _0xE7
                 ;    1095 		return (0);
0010a5 e0e0      	LDI  R30,LOW(0)
0010a6 e0f0      	LDI  R31,HIGH(0)
0010a7 c061      	RJMP _0x516
                 ;    1096 	clus_addr -= _FF_PART_ADDR;
                 _0xE7:
0010a8 91a0 071e 	LDS  R26,__FF_PART_ADDR
0010aa 91b0 071f 	LDS  R27,__FF_PART_ADDR+1
0010ac 9180 0720 	LDS  R24,__FF_PART_ADDR+2
0010ae 9190 0721 	LDS  R25,__FF_PART_ADDR+3
0010b0 81e8
0010b1 81f9
0010b2 816a
0010b3 817b      	__GETD1S 0
0010b4 940e 3d1c 	CALL __SUBD12
0010b6 83e8
0010b7 83f9
0010b8 836a
0010b9 837b      	__PUTD1S 0
                 ;    1097 	clus_addr /= BPB_BytsPerSec;
0010ba 940e 34c1 	CALL SUBOPT_0x34
0010bc 940e 3de2 	CALL __DIVD21U
0010be 83e8
0010bf 83f9
0010c0 836a
0010c1 837b      	__PUTD1S 0
                 ;    1098 	if (clus_addr <= (unsigned long) FirstDataSector)
0010c2 91e0 0736 	LDS  R30,_FirstDataSector
0010c4 91f0 0737 	LDS  R31,_FirstDataSector+1
0010c6 2766      	CLR  R22
0010c7 2777      	CLR  R23
0010c8 81a8
0010c9 81b9
0010ca 818a
0010cb 819b      	__GETD2S 0
0010cc 940e 400a 	CALL __CPD12
0010ce f018      	BRLO _0xE8
                 ;    1099 		return (0);
0010cf e0e0      	LDI  R30,LOW(0)
0010d0 e0f0      	LDI  R31,HIGH(0)
0010d1 c037      	RJMP _0x516
                 ;    1100 	clus_addr -= FirstDataSector;
                 _0xE8:
0010d2 91e0 0736 	LDS  R30,_FirstDataSector
0010d4 91f0 0737 	LDS  R31,_FirstDataSector+1
0010d6 81a8
0010d7 81b9
0010d8 818a
0010d9 819b      	__GETD2S 0
0010da 2766      	CLR  R22
0010db 2777      	CLR  R23
0010dc 940e 3d21 	CALL __SUBD21
0010de 83a8
0010df 83b9
0010e0 838a
0010e1 839b      	__PUTD2S 0
                 ;    1101 	clus_addr /= BPB_SecPerClus;
0010e2 2de8      	MOV  R30,R8
0010e3 81a8
0010e4 81b9
0010e5 818a
0010e6 819b      	__GETD2S 0
0010e7 27ff      	CLR  R31
0010e8 2766      	CLR  R22
0010e9 2777      	CLR  R23
0010ea 940e 3de2 	CALL __DIVD21U
0010ec 83e8
0010ed 83f9
0010ee 836a
0010ef 837b      	__PUTD1S 0
                 ;    1102 	clus_addr += 2;
0010f0 5fee
0010f1 4fff
0010f2 4f6f
0010f3 4f7f      	__ADDD1N 2
0010f4 83e8
0010f5 83f9
0010f6 836a
0010f7 837b      	__PUTD1S 0
                 ;    1103 	if (clus_addr > 0xFFFF)
0010f8 81a8
0010f9 81b9
0010fa 818a
0010fb 819b      	__GETD2S 0
0010fc 30a0
0010fd e0e0
0010fe 07be
0010ff e0e1
001100 078e
001101 e0e0
001102 079e      	__CPD2N 0x10000
001103 f018      	BRLO _0xE9
                 ;    1104 		return (0);
001104 e0e0      	LDI  R30,LOW(0)
001105 e0f0      	LDI  R31,HIGH(0)
001106 c002      	RJMP _0x516
                 ;    1105 	
                 ;    1106 	return ((int) clus_addr);	
                 _0xE9:
001107 81e8      	LD   R30,Y
001108 81f9      	LDD  R31,Y+1
                 _0x516:
001109 9624      	ADIW R28,4
00110a 9508      	RET
                 ;    1107 }
                 ;    1108 
                 ;    1109 // Find the cluster that the current cluster is pointing to
                 ;    1110 unsigned int next_cluster(unsigned int current_cluster, unsigned char mode)
                 ;    1111 {
                 _next_cluster:
                 ;    1112 	unsigned int calc_sec, calc_offset, calc_remainder, next_clust;
                 ;    1113 	unsigned long addr_temp;
                 ;    1114 	
                 ;    1115 	if (current_cluster<=1)		// If cluster is 0 or 1, its the wrong cluster
00110b 9726      	SBIW R28,6
00110c 940e 4014 	CALL __SAVELOCR6
                 ;	current_cluster -> Y+13
                 ;	mode -> Y+12
                 ;	calc_sec -> R16,R17
                 ;	calc_offset -> R18,R19
                 ;	calc_remainder -> R20,R21
                 ;	next_clust -> Y+10
                 ;	addr_temp -> Y+6
00110e 85ad      	LDD  R26,Y+13
00110f 85be      	LDD  R27,Y+13+1
001110 9712      	SBIW R26,2
001111 f418      	BRSH _0xEA
                 ;    1116 		return (EOF);
001112 efef      	LDI  R30,LOW(65535)
001113 efff      	LDI  R31,HIGH(65535)
001114 c114      	RJMP _0x515
                 ;    1117 		
                 ;    1118 	if (BPB_FATType == 0x36)		// if FAT16
                 _0xEA:
001115 e3e6      	LDI  R30,LOW(54)
001116 15ee      	CP   R30,R14
001117 f011      	BREQ PC+3
001118 940c 116c 	JMP _0xEB
                 ;    1119 	{
                 ;    1120 		// FAT16 table address calculations
                 ;    1121 		calc_sec = current_cluster / (BPB_BytsPerSec / 2) + BPB_RsvdSecCnt;
00111a 940e 34c9 	CALL SUBOPT_0x35
00111c 940e 34cf 	CALL SUBOPT_0x36
                 ;    1122 		calc_offset = 2 * (current_cluster % (BPB_BytsPerSec / 2));
00111e 940e 34c9 	CALL SUBOPT_0x35
001120 940e 34d5 	CALL SUBOPT_0x37
                 ;    1123 	    
                 ;    1124 	 	addr_temp = _FF_PART_ADDR+(calc_sec*0x200);
001122 940e 34dc 	CALL SUBOPT_0x38
                 ;    1125 		if (mode==SINGLE)
001124 30a1      	CPI  R26,LOW(0x1)
001125 f459      	BRNE _0xEC
                 ;    1126 		{	// This is a single cluster lookup
                 ;    1127 			if (_FF_read(addr_temp)==0)
001126 81ee
001127 81ff
001128 8568
001129 8579      	__GETD1S 6
00112a 940e 337d 	CALL SUBOPT_0xC
00112c f419      	BRNE _0xED
                 ;    1128 				return(EOF);
00112d efef      	LDI  R30,LOW(65535)
00112e efff      	LDI  R31,HIGH(65535)
00112f c0f9      	RJMP _0x515
                 ;    1129 		}
                 _0xED:
                 ;    1130 		else if ((mode==CHAIN) || (mode==END_CHAIN))
001130 c02c      	RJMP _0xEE
                 _0xEC:
001131 85ac      	LDD  R26,Y+12
001132 30a0      	CPI  R26,LOW(0x0)
001133 f011      	BREQ _0xF0
001134 30a2      	CPI  R26,LOW(0x2)
001135 f539      	BRNE _0xEF
                 _0xF0:
                 ;    1131 		{	// Mupltiple clusters to lookup
                 ;    1132 			if (addr_temp!=_FF_buff_addr)
001136 940e 34f2 	CALL SUBOPT_0x39
001138 f121      	BREQ _0xF2
                 ;    1133 			{	// Is the address of lookup is different then the current buffere address
                 ;    1134 				#ifndef _READ_ONLY_
                 ;    1135 				if (_FF_buff_addr)	// if the buffer address is 0, don't write
001139 91e0 073d 	LDS  R30,__FF_buff_addr
00113b 91f0 073e 	LDS  R31,__FF_buff_addr+1
00113d 9160 073f 	LDS  R22,__FF_buff_addr+2
00113f 9170 0740 	LDS  R23,__FF_buff_addr+3
001141 940e 3ff8 	CALL __CPD10
001143 f079      	BREQ _0xF3
                 ;    1136 				{
                 ;    1137 					#ifdef _SECOND_FAT_ON_
                 ;    1138 						if (_FF_buff_addr < _FF_FAT2_ADDR)
001144 940e 3501 	CALL SUBOPT_0x3A
001146 f430      	BRSH _0xF4
                 ;    1139 							if (_FF_write(_FF_buff_addr+(_FF_FAT2_ADDR-_FF_FAT1_ADDR))==0)
001147 940e 3514 	CALL SUBOPT_0x3B
001149 f419      	BRNE _0xF5
                 ;    1140 								return(EOF);
00114a efef      	LDI  R30,LOW(65535)
00114b efff      	LDI  R31,HIGH(65535)
00114c c0dc      	RJMP _0x515
                 ;    1141 					#endif
                 ;    1142 					if (_FF_write(_FF_buff_addr)==0)	// Save buffer data to card
                 _0xF5:
                 _0xF4:
00114d 940e 3536 	CALL SUBOPT_0x3C
00114f f419      	BRNE _0xF6
                 ;    1143 						return(EOF);
001150 efef      	LDI  R30,LOW(65535)
001151 efff      	LDI  R31,HIGH(65535)
001152 c0d6      	RJMP _0x515
                 ;    1144 				}
                 _0xF6:
                 ;    1145 				#endif
                 ;    1146 				if (_FF_read(addr_temp)==0)	// Read new table info
                 _0xF3:
001153 81ee
001154 81ff
001155 8568
001156 8579      	__GETD1S 6
001157 940e 337d 	CALL SUBOPT_0xC
001159 f419      	BRNE _0xF7
                 ;    1147 					return(EOF);
00115a efef      	LDI  R30,LOW(65535)
00115b efff      	LDI  R31,HIGH(65535)
00115c c0cc      	RJMP _0x515
                 ;    1148 			}
                 _0xF7:
                 ;    1149 		}
                 _0xF2:
                 ;    1150 		next_clust = ((int) _FF_buff[calc_offset+1] << 8) | _FF_buff[calc_offset];
                 _0xEF:
                 _0xEE:
00115d 01f9      	MOVW R30,R18
00115e 5feb
00115f 4ffa      	__ADDW1MN __FF_buff,1
001160 81f0      	LD   R31,Z
001161 e0e0      	LDI  R30,LOW(0)
001162 010f      	MOVW R0,R30
001163 940e 3544 	CALL SUBOPT_0x3D
001165 01d0      	MOVW R26,R0
001166 e0f0      	LDI  R31,0
001167 2bea      	OR   R30,R26
001168 2bfb      	OR   R31,R27
001169 87ea      	STD  Y+10,R30
00116a 87fb      	STD  Y+10+1,R31
                 ;    1151 	}
                 ;    1152 	#ifdef _FAT12_ON_
                 ;    1153 	else if (BPB_FATType == 0x32)	// if FAT12
00116b c0bb      	RJMP _0xF8
                 _0xEB:
00116c e3e2      	LDI  R30,LOW(50)
00116d 15ee      	CP   R30,R14
00116e f011      	BREQ PC+3
00116f 940c 1224 	JMP _0xF9
                 ;    1154 	{
                 ;    1155 		// FAT12 table address calculations
                 ;    1156 		calc_offset = (current_cluster * 3) / 2;
001171 940e 354a 	CALL SUBOPT_0x3E
001173 95f6      	LSR  R31
001174 95e7      	ROR  R30
001175 019f      	MOVW R18,R30
                 ;    1157 		calc_remainder = (current_cluster * 3) % 2;
001176 940e 354a 	CALL SUBOPT_0x3E
001178 70e1      	ANDI R30,LOW(0x1)
001179 70f0      	ANDI R31,HIGH(0x1)
00117a 01af      	MOVW R20,R30
                 ;    1158 		calc_sec = (calc_offset / BPB_BytsPerSec) + BPB_RsvdSecCnt;
00117b 940e 3551 	CALL SUBOPT_0x3F
                 ;    1159 		calc_offset %= BPB_BytsPerSec;
00117d 940e 3554 	CALL SUBOPT_0x40
                 ;    1160 
                 ;    1161 	 	addr_temp = _FF_PART_ADDR+(calc_sec*BPB_BytsPerSec);
00117f 01f3      	MOVW R30,R6
001180 01d8      	MOVW R26,R16
001181 940e 3d8a 	CALL __MULW12U
001183 91a0 071e 	LDS  R26,__FF_PART_ADDR
001185 91b0 071f 	LDS  R27,__FF_PART_ADDR+1
001187 9180 0720 	LDS  R24,__FF_PART_ADDR+2
001189 9190 0721 	LDS  R25,__FF_PART_ADDR+3
00118b 2766      	CLR  R22
00118c 2777      	CLR  R23
00118d 940e 3d12 	CALL __ADDD12
00118f 83ee
001190 83ff
001191 8768
001192 8779      	__PUTD1S 6
                 ;    1162 		if (mode==SINGLE)
001193 85ac      	LDD  R26,Y+12
001194 30a1      	CPI  R26,LOW(0x1)
001195 f439      	BRNE _0xFA
                 ;    1163 		{	// This is a single cluster lookup
                 ;    1164 			if (_FF_read(addr_temp)==0)
001196 940e 337d 	CALL SUBOPT_0xC
001198 f419      	BRNE _0xFB
                 ;    1165 				return(EOF);
001199 efef      	LDI  R30,LOW(65535)
00119a efff      	LDI  R31,HIGH(65535)
00119b c08d      	RJMP _0x515
                 ;    1166 		}
                 _0xFB:
                 ;    1167 		else if ((mode==CHAIN) || (mode==END_CHAIN))
00119c c02c      	RJMP _0xFC
                 _0xFA:
00119d 85ac      	LDD  R26,Y+12
00119e 30a0      	CPI  R26,LOW(0x0)
00119f f011      	BREQ _0xFE
0011a0 30a2      	CPI  R26,LOW(0x2)
0011a1 f539      	BRNE _0xFD
                 _0xFE:
                 ;    1168 		{	// Mupltiple clusters to lookup
                 ;    1169 			if (addr_temp!=_FF_buff_addr)
0011a2 940e 34f2 	CALL SUBOPT_0x39
0011a4 f121      	BREQ _0x100
                 ;    1170 			{	// Is the address of lookup is different then the current buffere address
                 ;    1171 				#ifndef _READ_ONLY_
                 ;    1172 				if (_FF_buff_addr)	// if the buffer address is 0, don't write
0011a5 91e0 073d 	LDS  R30,__FF_buff_addr
0011a7 91f0 073e 	LDS  R31,__FF_buff_addr+1
0011a9 9160 073f 	LDS  R22,__FF_buff_addr+2
0011ab 9170 0740 	LDS  R23,__FF_buff_addr+3
0011ad 940e 3ff8 	CALL __CPD10
0011af f079      	BREQ _0x101
                 ;    1173 				{
                 ;    1174 					#ifdef _SECOND_FAT_ON_
                 ;    1175 						if (_FF_buff_addr < _FF_FAT2_ADDR)
0011b0 940e 3501 	CALL SUBOPT_0x3A
0011b2 f430      	BRSH _0x102
                 ;    1176 							if (_FF_write(_FF_buff_addr+(_FF_FAT2_ADDR-_FF_FAT1_ADDR))==0)
0011b3 940e 3514 	CALL SUBOPT_0x3B
0011b5 f419      	BRNE _0x103
                 ;    1177 								return(EOF);
0011b6 efef      	LDI  R30,LOW(65535)
0011b7 efff      	LDI  R31,HIGH(65535)
0011b8 c070      	RJMP _0x515
                 ;    1178 					#endif
                 ;    1179 					if (_FF_write(_FF_buff_addr)==0)	// Save buffer data to card
                 _0x103:
                 _0x102:
0011b9 940e 3536 	CALL SUBOPT_0x3C
0011bb f419      	BRNE _0x104
                 ;    1180 						return(EOF);
0011bc efef      	LDI  R30,LOW(65535)
0011bd efff      	LDI  R31,HIGH(65535)
0011be c06a      	RJMP _0x515
                 ;    1181 				}
                 _0x104:
                 ;    1182 				#endif
                 ;    1183 				if (_FF_read(addr_temp)==0)	// Read new table info
                 _0x101:
0011bf 81ee
0011c0 81ff
0011c1 8568
0011c2 8579      	__GETD1S 6
0011c3 940e 337d 	CALL SUBOPT_0xC
0011c5 f419      	BRNE _0x105
                 ;    1184 					return(EOF);
0011c6 efef      	LDI  R30,LOW(65535)
0011c7 efff      	LDI  R31,HIGH(65535)
0011c8 c060      	RJMP _0x515
                 ;    1185 			}
                 _0x105:
                 ;    1186 		}
                 _0x100:
                 ;    1187 		next_clust = _FF_buff[calc_offset];
                 _0xFD:
                 _0xFC:
0011c9 940e 3544 	CALL SUBOPT_0x3D
0011cb e0f0      	LDI  R31,0
0011cc 87ea      	STD  Y+10,R30
0011cd 87fb      	STD  Y+10+1,R31
                 ;    1188 		if (calc_offset == (BPB_BytsPerSec-1))
0011ce 940e 355a 	CALL SUBOPT_0x41
0011d0 f589      	BRNE _0x106
                 ;    1189 		{	// Is the FAT12 record accross more than one sector?
                 ;    1190 			addr_temp = _FF_PART_ADDR+((calc_sec+1)*0x200);
0011d1 01f8      	MOVW R30,R16
0011d2 9631      	ADIW R30,1
0011d3 940e 34dc 	CALL SUBOPT_0x38
                 ;    1191 			if ((mode==CHAIN) || (mode==END_CHAIN))
0011d5 30a0      	CPI  R26,LOW(0x0)
0011d6 f019      	BREQ _0x108
0011d7 85ac      	LDD  R26,Y+12
0011d8 30a2      	CPI  R26,LOW(0x2)
0011d9 f4d9      	BRNE _0x107
                 _0x108:
                 ;    1192 			{	// multiple chain lookup
                 ;    1193 				#ifndef _READ_ONLY_
                 ;    1194 					#ifdef _SECOND_FAT_ON_
                 ;    1195 						if (_FF_buff_addr < _FF_FAT2_ADDR)
0011da 940e 3501 	CALL SUBOPT_0x3A
0011dc f430      	BRSH _0x10A
                 ;    1196 							if (_FF_write(_FF_buff_addr+(_FF_FAT2_ADDR-_FF_FAT1_ADDR))==0)
0011dd 940e 3514 	CALL SUBOPT_0x3B
0011df f419      	BRNE _0x10B
                 ;    1197 								return(EOF);
0011e0 efef      	LDI  R30,LOW(65535)
0011e1 efff      	LDI  R31,HIGH(65535)
0011e2 c046      	RJMP _0x515
                 ;    1198 					#endif
                 ;    1199 				if (_FF_write(_FF_buff_addr)==0)	// Save buffer data to card
                 _0x10B:
                 _0x10A:
0011e3 940e 3536 	CALL SUBOPT_0x3C
0011e5 f419      	BRNE _0x10C
                 ;    1200 					return(EOF);
0011e6 efef      	LDI  R30,LOW(65535)
0011e7 efff      	LDI  R31,HIGH(65535)
0011e8 c040      	RJMP _0x515
                 ;    1201 				#endif
                 ;    1202 				_FF_buff_addr = addr_temp;		// Save new buffer address
                 _0x10C:
0011e9 81ee
0011ea 81ff
0011eb 8568
0011ec 8579      	__GETD1S 6
0011ed 93e0 073d 	STS  __FF_buff_addr,R30
0011ef 93f0 073e 	STS  __FF_buff_addr+1,R31
0011f1 9360 073f 	STS  __FF_buff_addr+2,R22
0011f3 9370 0740 	STS  __FF_buff_addr+3,R23
                 ;    1203 			}
                 ;    1204 			if (_FF_read(addr_temp)==0)
                 _0x107:
0011f5 81ee
0011f6 81ff
0011f7 8568
0011f8 8579      	__GETD1S 6
0011f9 940e 337d 	CALL SUBOPT_0xC
0011fb f419      	BRNE _0x10D
                 ;    1205 				return(EOF);
0011fc efef      	LDI  R30,LOW(65535)
0011fd efff      	LDI  R31,HIGH(65535)
0011fe c02a      	RJMP _0x515
                 ;    1206 			next_clust |= ((int) _FF_buff[0] << 8);
                 _0x10D:
0011ff 91f0 0504 	LDS  R31,__FF_buff
001201 c004      	RJMP _0x525
                 ;    1207 		}
                 ;    1208 		else
                 _0x106:
                 ;    1209 			next_clust |= ((int) _FF_buff[calc_offset+1] << 8);
001202 01f9      	MOVW R30,R18
001203 5feb
001204 4ffa      	__ADDW1MN __FF_buff,1
001205 81f0      	LD   R31,Z
                 _0x525:
001206 e0e0      	LDI  R30,LOW(0)
001207 85aa      	LDD  R26,Y+10
001208 85bb      	LDD  R27,Y+10+1
001209 2bea      	OR   R30,R26
00120a 2bfb      	OR   R31,R27
00120b 87ea      	STD  Y+10,R30
00120c 87fb      	STD  Y+10+1,R31
                 ;    1210 
                 ;    1211 		if (calc_remainder)
00120d 2e04      	MOV  R0,R20
00120e 2a05      	OR   R0,R21
00120f f019      	BREQ _0x10F
                 ;    1212 			next_clust >>= 4;
001210 940e 3d62 	CALL __LSRW4
001212 c003      	RJMP _0x526
                 ;    1213 		else
                 _0x10F:
                 ;    1214 			next_clust &= 0x0FFF;
001213 85ea      	LDD  R30,Y+10
001214 85fb      	LDD  R31,Y+10+1
001215 70ff      	ANDI R31,HIGH(0xFFF)
                 _0x526:
001216 87ea      	STD  Y+10,R30
001217 87fb      	STD  Y+10+1,R31
                 ;    1215 			
                 ;    1216 		if (next_clust >= 0xFF8)
001218 85aa      	LDD  R26,Y+10
001219 85bb      	LDD  R27,Y+10+1
00121a 3fa8      	CPI  R26,LOW(0xFF8)
00121b e0ef      	LDI  R30,HIGH(0xFF8)
00121c 07be      	CPC  R27,R30
00121d f028      	BRLO _0x111
                 ;    1217 			next_clust |= 0xF000;			
00121e 85ea      	LDD  R30,Y+10
00121f 85fb      	LDD  R31,Y+10+1
001220 6ff0      	ORI  R31,HIGH(0xF000)
001221 87ea      	STD  Y+10,R30
001222 87fb      	STD  Y+10+1,R31
                 ;    1218 	}
                 _0x111:
                 ;    1219 	#endif
                 ;    1220 	else		// not FAT12 or FAT16, return 0
001223 c003      	RJMP _0x112
                 _0xF9:
                 ;    1221 		return (EOF);
001224 efef      	LDI  R30,LOW(65535)
001225 efff      	LDI  R31,HIGH(65535)
001226 c002      	RJMP _0x515
                 ;    1222 	return (next_clust);
                 _0x112:
                 _0xF8:
001227 85ea      	LDD  R30,Y+10
001228 85fb      	LDD  R31,Y+10+1
                 _0x515:
001229 940e 401b 	CALL __LOADLOCR6
00122b 962f      	ADIW R28,15
00122c 9508      	RET
                 ;    1223 }
                 ;    1224 
                 ;    1225 // Convert a constant string file name into the proper 8.3 FAT format
                 ;    1226 unsigned char *file_name_conversion(unsigned char *current_file)
                 ;    1227 {
                 _file_name_conversion:
                 ;    1228 	unsigned char n, c;
                 ;    1229 		
                 ;    1230 	c = 0;
00122d 931a      	ST   -Y,R17
00122e 930a      	ST   -Y,R16
                 ;	*current_file -> Y+2
                 ;	n -> R16
                 ;	c -> R17
00122f e010      	LDI  R17,LOW(0)
                 ;    1231 	
                 ;    1232 	for (n=0; n<14; n++)
001230 e000      	LDI  R16,LOW(0)
                 _0x114:
001231 300e      	CPI  R16,14
001232 f5c0      	BRSH _0x115
                 ;    1233 	{
                 ;    1234 		if (valid_file_char(current_file[n])==0)
001233 940e 355f 	CALL SUBOPT_0x42
001235 940e 33f7 	CALL SUBOPT_0x1D
001237 f479      	BRNE _0x116
                 ;    1235 			// If the character is valid, save in uppercase to file name buffer
                 ;    1236 			FILENAME[c++] = toupper(current_file[n]);
001238 2fe1      	MOV  R30,R17
001239 5f1f      	SUBI R17,-1
00123a e0f0      	LDI  R31,0
00123b 54e6      	SUBI R30,LOW(-_FILENAME)
00123c 4ff8      	SBCI R31,HIGH(-_FILENAME)
00123d 93ff      	PUSH R31
00123e 93ef      	PUSH R30
00123f 940e 355f 	CALL SUBOPT_0x42
001241 940e 3566 	CALL SUBOPT_0x43
001243 91af      	POP  R26
001244 91bf      	POP  R27
001245 93ec      	ST   X,R30
                 ;    1237 		else if (current_file[n]=='.')
001246 c020      	RJMP _0x117
                 _0x116:
001247 940e 355f 	CALL SUBOPT_0x42
001249 91ac      	LD   R26,X
00124a 32ae      	CPI  R26,LOW(0x2E)
00124b f441      	BRNE _0x118
                 ;    1238 			// If it is a period, back fill buffer with [spaces], till 8 characters deep
                 ;    1239 			while (c<8)
                 _0x119:
00124c 3018      	CPI  R17,8
00124d f428      	BRSH _0x11B
                 ;    1240 				FILENAME[c++] = 0x20;
00124e 2fe1      	MOV  R30,R17
00124f 5f1f      	SUBI R17,-1
001250 940e 356a 	CALL SUBOPT_0x44
                 ;    1241 		else if (current_file[n]==0)
001252 cff9      	RJMP _0x119
                 _0x11B:
001253 c013      	RJMP _0x11C
                 _0x118:
001254 940e 355f 	CALL SUBOPT_0x42
001256 91ec      	LD   R30,X
001257 30e0      	CPI  R30,0
001258 f441      	BRNE _0x11D
                 ;    1242 		{	// If it is NULL, back fill buffer with [spaces], till 11 characters deep
                 ;    1243 			while (c<11)
                 _0x11E:
001259 301b      	CPI  R17,11
00125a f428      	BRSH _0x120
                 ;    1244 				FILENAME[c++] = 0x20;
00125b 2fe1      	MOV  R30,R17
00125c 5f1f      	SUBI R17,-1
00125d 940e 356a 	CALL SUBOPT_0x44
                 ;    1245 			break;
00125f cff9      	RJMP _0x11E
                 _0x120:
001260 c00a      	RJMP _0x115
                 ;    1246 		}
                 ;    1247 		else
                 _0x11D:
                 ;    1248 		{
                 ;    1249 			_FF_error = NAME_ERR;
001261 e0e5      	LDI  R30,LOW(5)
001262 93e0 073c 	STS  __FF_error,R30
                 ;    1250 			return (0);
001264 e0e0      	LDI  R30,LOW(0)
001265 e0f0      	LDI  R31,HIGH(0)
001266 c00c      	RJMP _0x514
                 ;    1251 		}
                 _0x11C:
                 _0x117:
                 ;    1252 		if (c>=11)
001267 301b      	CPI  R17,11
001268 f410      	BRSH _0x115
                 ;    1253 			break;
                 ;    1254 	}
001269 5f0f      	SUBI R16,-1
00126a cfc6      	RJMP _0x114
                 _0x115:
                 ;    1255 	FILENAME[c] = 0;
00126b 2fa1      	MOV  R26,R17
00126c e0b0      	LDI  R27,0
00126d 54a6      	SUBI R26,LOW(-_FILENAME)
00126e 4fb8      	SBCI R27,HIGH(-_FILENAME)
00126f e0e0      	LDI  R30,LOW(0)
001270 93ec      	ST   X,R30
                 ;    1256 	// Return the pointer of the filename
                 ;    1257 	return (FILENAME);		
001271 ebea      	LDI  R30,LOW(_FILENAME)
001272 e0f7      	LDI  R31,HIGH(_FILENAME)
                 _0x514:
001273 8119      	LDD  R17,Y+1
001274 8108      	LDD  R16,Y+0
001275 9624      	ADIW R28,4
001276 9508      	RET
                 ;    1258 }
                 ;    1259 
                 ;    1260 // Find the first cluster that is pointing to clus_no
                 ;    1261 unsigned int prev_cluster(unsigned int clus_no)
                 ;    1262 {
                 _prev_cluster:
                 ;    1263 	unsigned char read_flag;
                 ;    1264 	unsigned int calc_temp, n, c, n_temp;
                 ;    1265 	unsigned long calc_clus, addr_temp;
                 ;    1266 	
                 ;    1267 	addr_temp = _FF_FAT1_ADDR;
001277 972c      	SBIW R28,12
001278 940e 4015 	CALL __SAVELOCR5
                 ;	clus_no -> Y+17
                 ;	read_flag -> R16
                 ;	calc_temp -> R17,R18
                 ;	n -> R19,R20
                 ;	c -> Y+15
                 ;	n_temp -> Y+13
                 ;	calc_clus -> Y+9
                 ;	addr_temp -> Y+5
00127a 91e0 072a 	LDS  R30,__FF_FAT1_ADDR
00127c 91f0 072b 	LDS  R31,__FF_FAT1_ADDR+1
00127e 9160 072c 	LDS  R22,__FF_FAT1_ADDR+2
001280 9170 072d 	LDS  R23,__FF_FAT1_ADDR+3
001282 83ed
001283 83fe
001284 836f
001285 8778      	__PUTD1S 5
                 ;    1268 	c = 1;
001286 e0e1      	LDI  R30,LOW(1)
001287 e0f0      	LDI  R31,HIGH(1)
001288 87ef      	STD  Y+15,R30
001289 8bf8      	STD  Y+15+1,R31
                 ;    1269 	if ((clus_no==0) && (BPB_FATType==0x36))
00128a 89a9      	LDD  R26,Y+17
00128b 89ba      	LDD  R27,Y+17+1
00128c 940e 3ffc 	CALL __CPW02
00128e f419      	BRNE _0x124
00128f e3e6      	LDI  R30,LOW(54)
001290 15ee      	CP   R30,R14
001291 f009      	BREQ _0x125
                 _0x124:
001292 c021      	RJMP _0x123
                 _0x125:
                 ;    1270 	{
                 ;    1271 		if (clus_0_addr>addr_temp)
001293 81ed
001294 81fe
001295 816f
001296 8578      	__GETD1S 5
001297 91a0 074c 	LDS  R26,_clus_0_addr
001299 91b0 074d 	LDS  R27,_clus_0_addr+1
00129b 9180 074e 	LDS  R24,_clus_0_addr+2
00129d 9190 074f 	LDS  R25,_clus_0_addr+3
00129f 940e 400a 	CALL __CPD12
0012a1 f490      	BRSH _0x126
                 ;    1272 		{
                 ;    1273 			addr_temp = clus_0_addr;
0012a2 91e0 074c 	LDS  R30,_clus_0_addr
0012a4 91f0 074d 	LDS  R31,_clus_0_addr+1
0012a6 9160 074e 	LDS  R22,_clus_0_addr+2
0012a8 9170 074f 	LDS  R23,_clus_0_addr+3
0012aa 83ed
0012ab 83fe
0012ac 836f
0012ad 8778      	__PUTD1S 5
                 ;    1274 			c = c_counter;
0012ae 91e0 0754 	LDS  R30,_c_counter
0012b0 91f0 0755 	LDS  R31,_c_counter+1
0012b2 87ef      	STD  Y+15,R30
0012b3 8bf8      	STD  Y+15+1,R31
                 ;    1275 		}
                 ;    1276 	}
                 _0x126:
                 ;    1277 
                 ;    1278 	read_flag = 1;
                 _0x123:
0012b4 e001      	LDI  R16,LOW(1)
                 ;    1279 	
                 ;    1280 	while (addr_temp<_FF_FAT2_ADDR)
                 _0x127:
0012b5 91e0 072e 	LDS  R30,__FF_FAT2_ADDR
0012b7 91f0 072f 	LDS  R31,__FF_FAT2_ADDR+1
0012b9 9160 0730 	LDS  R22,__FF_FAT2_ADDR+2
0012bb 9170 0731 	LDS  R23,__FF_FAT2_ADDR+3
0012bd 81ad
0012be 81be
0012bf 818f
0012c0 8598      	__GETD2S 5
0012c1 940e 400f 	CALL __CPD21
0012c3 f010      	BRLO PC+3
0012c4 940c 140e 	JMP _0x129
                 ;    1281 	{
                 ;    1282 		if (BPB_FATType == 0x36)		// if FAT16
0012c6 e3e6      	LDI  R30,LOW(54)
0012c7 15ee      	CP   R30,R14
0012c8 f011      	BREQ PC+3
0012c9 940c 137c 	JMP _0x12A
                 ;    1283 		{
                 ;    1284 			if (clus_no==0)
0012cb 89e9      	LDD  R30,Y+17
0012cc 89fa      	LDD  R31,Y+17+1
0012cd 9730      	SBIW R30,0
0012ce f491      	BRNE _0x12B
                 ;    1285 			{
                 ;    1286 				clus_0_addr = addr_temp;
0012cf 81ed
0012d0 81fe
0012d1 816f
0012d2 8578      	__GETD1S 5
0012d3 93e0 074c 	STS  _clus_0_addr,R30
0012d5 93f0 074d 	STS  _clus_0_addr+1,R31
0012d7 9360 074e 	STS  _clus_0_addr+2,R22
0012d9 9370 074f 	STS  _clus_0_addr+3,R23
                 ;    1287 				c_counter = c;
0012db 85ef      	LDD  R30,Y+15
0012dc 89f8      	LDD  R31,Y+15+1
0012dd 93e0 0754 	STS  _c_counter,R30
0012df 93f0 0755 	STS  _c_counter+1,R31
                 ;    1288 			}
                 ;    1289 			if (_FF_read(addr_temp)==0)		// Read error ==> break
                 _0x12B:
0012e1 81ed
0012e2 81fe
0012e3 816f
0012e4 8578      	__GETD1S 5
0012e5 940e 337d 	CALL SUBOPT_0xC
0012e7 f419      	BRNE _0x12C
                 ;    1290 				return(0);
0012e8 e0e0      	LDI  R30,LOW(0)
0012e9 e0f0      	LDI  R31,HIGH(0)
0012ea c125      	RJMP _0x513
                 ;    1291 			if (_FF_n_temp)
                 _0x12C:
0012eb 91e0 0750 	LDS  R30,__FF_n_temp
0012ed 91f0 0751 	LDS  R31,__FF_n_temp+1
0012ef 9160 0752 	LDS  R22,__FF_n_temp+2
0012f1 9170 0753 	LDS  R23,__FF_n_temp+3
0012f3 940e 3ff8 	CALL __CPD10
0012f5 f081      	BREQ _0x12D
                 ;    1292 			{
                 ;    1293 				n_temp = _FF_n_temp;
0012f6 91e0 0750 	LDS  R30,__FF_n_temp
0012f8 91f0 0751 	LDS  R31,__FF_n_temp+1
0012fa 87ed      	STD  Y+13,R30
0012fb 87fe      	STD  Y+13+1,R31
                 ;    1294 				_FF_n_temp = 0;
0012fc e0e0      	LDI  R30,0
0012fd 93e0 0750 	STS  __FF_n_temp,R30
0012ff 93e0 0751 	STS  __FF_n_temp+1,R30
001301 93e0 0752 	STS  __FF_n_temp+2,R30
001303 93e0 0753 	STS  __FF_n_temp+3,R30
                 ;    1295 			}
                 ;    1296 			else
001305 c003      	RJMP _0x12E
                 _0x12D:
                 ;    1297 				n_temp = 0;
001306 e0e0      	LDI  R30,0
001307 87ed      	STD  Y+13,R30
001308 87ee      	STD  Y+13+1,R30
                 ;    1298 			for (n=n_temp; n<(BPB_BytsPerSec/2); n++)
                 _0x12E:
001309 853d
00130a 854e      	__GETWRS 19,20,13
                 _0x130:
00130b 01f3      	MOVW R30,R6
00130c 95f6      	LSR  R31
00130d 95e7      	ROR  R30
00130e 173e      	CP   R19,R30
00130f 074f      	CPC  R20,R31
001310 f010      	BRLO PC+3
001311 940c 1377 	JMP _0x131
                 ;    1299 			{
                 ;    1300 				calc_clus = ((unsigned int) _FF_buff[(n*2)+1] << 8) | ((unsigned int) _FF_buff[n*2]);
001313 2fe3
001314 2ff4      	__GETW1R 19,20
001315 0fee      	LSL  R30
001316 1fff      	ROL  R31
001317 5feb
001318 4ffa      	__ADDW1MN __FF_buff,1
001319 940e 34a0 	CALL SUBOPT_0x30
00131b 2fe3
00131c 2ff4      	__GETW1R 19,20
00131d 0fee      	LSL  R30
00131e 1fff      	ROL  R31
00131f 5fec      	SUBI R30,LOW(-__FF_buff)
001320 4ffa      	SBCI R31,HIGH(-__FF_buff)
001321 81e0      	LD   R30,Z
001322 940e 3395 	CALL SUBOPT_0xF
001324 87e9
001325 87fa
001326 876b
001327 877c      	__PUTD1S 9
                 ;    1301 				calc_temp = (unsigned long) n + (((unsigned long) BPB_BytsPerSec/2) * ((unsigned long) c - 1));
001328 2fe3
001329 2ff4      	__GETW1R 19,20
00132a 2766      	CLR  R22
00132b 2777      	CLR  R23
00132c 937f      	PUSH R23
00132d 936f      	PUSH R22
00132e 93ff      	PUSH R31
00132f 93ef      	PUSH R30
001330 01f3      	MOVW R30,R6
001331 2766      	CLR  R22
001332 2777      	CLR  R23
001333 940e 3d6b 	CALL __LSRD1
001335 01df      	MOVW R26,R30
001336 01cb      	MOVW R24,R22
001337 85ef      	LDD  R30,Y+15
001338 89f8      	LDD  R31,Y+15+1
001339 2766      	CLR  R22
00133a 2777      	CLR  R23
00133b 50e1
00133c 40f0
00133d 4060
00133e 4070      	__SUBD1N 1
00133f 940e 3d92 	CALL __MULD12U
001341 91af      	POP  R26
001342 91bf      	POP  R27
001343 918f      	POP  R24
001344 919f      	POP  R25
001345 940e 3d12 	CALL __ADDD12
001347 2f1e
001348 2f2f      	__PUTW1R 17,18
                 ;    1302 				if (calc_clus==clus_no)
001349 940e 3571 	CALL SUBOPT_0x45
00134b f4b1      	BRNE _0x132
                 ;    1303 				{
                 ;    1304 					if (calc_clus==0)
00134c 85e9
00134d 85fa
00134e 856b
00134f 857c      	__GETD1S 9
001350 940e 3ff8 	CALL __CPD10
001352 f461      	BRNE _0x133
                 ;    1305 						_FF_n_temp = n;
001353 2fe3
001354 2ff4      	__GETW1R 19,20
001355 2766      	CLR  R22
001356 2777      	CLR  R23
001357 93e0 0750 	STS  __FF_n_temp,R30
001359 93f0 0751 	STS  __FF_n_temp+1,R31
00135b 9360 0752 	STS  __FF_n_temp+2,R22
00135d 9370 0753 	STS  __FF_n_temp+3,R23
                 ;    1306 					return(calc_temp);
                 _0x133:
00135f 2fe1
001360 2ff2      	__GETW1R 17,18
001361 c0ae      	RJMP _0x513
                 ;    1307 				}
                 ;    1308 				else if (calc_temp > DataClusTot)
                 _0x132:
001362 91e0 0741 	LDS  R30,_DataClusTot
001364 91f0 0742 	LDS  R31,_DataClusTot+1
001366 9160 0743 	LDS  R22,_DataClusTot+2
001368 9170 0744 	LDS  R23,_DataClusTot+3
00136a 2fa1
00136b 2fb2      	__GETW2R 17,18
00136c 2788      	CLR  R24
00136d 2799      	CLR  R25
00136e 940e 400a 	CALL __CPD12
001370 f418      	BRSH _0x135
                 ;    1309 				{
                 ;    1310 					_FF_error = DISK_FULL;
001371 940e 357c 	CALL SUBOPT_0x46
                 ;    1311 					return (0);
001373 c09c      	RJMP _0x513
                 ;    1312 				}
                 ;    1313 			}
                 _0x135:
001374 5f3f
001375 4f4f      	__ADDWRN 19,20,1
001376 cf94      	RJMP _0x130
                 _0x131:
                 ;    1314 			addr_temp += 0x200;
001377 940e 3582 	CALL SUBOPT_0x47
                 ;    1315 			c++;
001379 940e 358f 	CALL SUBOPT_0x48
                 ;    1316 		}
                 ;    1317 		#ifdef _FAT12_ON_
                 ;    1318 		else if (BPB_FATType == 0x32)	// if FAT12
00137b c091      	RJMP _0x136
                 _0x12A:
00137c e3e2      	LDI  R30,LOW(50)
00137d 15ee      	CP   R30,R14
00137e f011      	BREQ PC+3
00137f 940c 140a 	JMP _0x137
                 ;    1319 		{
                 ;    1320 			if (read_flag)
001381 3000      	CPI  R16,0
001382 f059      	BREQ _0x138
                 ;    1321 			{
                 ;    1322 				if (_FF_read(addr_temp)==0)
001383 81ed
001384 81fe
001385 816f
001386 8578      	__GETD1S 5
001387 940e 337d 	CALL SUBOPT_0xC
001389 f419      	BRNE _0x139
                 ;    1323 					return (0);	// if the read fails return 0
00138a e0e0      	LDI  R30,LOW(0)
00138b e0f0      	LDI  R31,HIGH(0)
00138c c083      	RJMP _0x513
                 ;    1324 				read_flag = 0;
                 _0x139:
00138d e000      	LDI  R16,LOW(0)
                 ;    1325 			}
                 ;    1326 			calc_temp = ((unsigned long) c * 3) / 2;
                 _0x138:
00138e 85ef      	LDD  R30,Y+15
00138f 89f8      	LDD  R31,Y+15+1
001390 2766      	CLR  R22
001391 2777      	CLR  R23
001392 e0a3
001393 e0b0
001394 e080
001395 e090      	__GETD2N 0x3
001396 940e 3d92 	CALL __MULD12U
001398 940e 3d6b 	CALL __LSRD1
00139a 2f1e
00139b 2f2f      	__PUTW1R 17,18
                 ;    1327 			calc_temp %= BPB_BytsPerSec;
00139c 01f3      	MOVW R30,R6
00139d 2fa1
00139e 2fb2      	__GETW2R 17,18
00139f 940e 3e19 	CALL __MODW21U
0013a1 2f1e
0013a2 2f2f      	__PUTW1R 17,18
                 ;    1328 			calc_clus = _FF_buff[calc_temp++];
0013a3 2fe1
0013a4 2ff2      	__GETW1R 17,18
0013a5 5f1f
0013a6 4f2f      	__ADDWRN 17,18,1
0013a7 940e 33df 	CALL SUBOPT_0x1A
0013a9 87e9
0013aa 87fa
0013ab 876b
0013ac 877c      	__PUTD1S 9
                 ;    1329 			if (calc_temp == BPB_BytsPerSec)
0013ad 1661
0013ae 0672      	__CPWRR 6,7,17,18
0013af f499      	BRNE _0x13A
                 ;    1330 			{	// Is the FAT12 record accross a sector?
                 ;    1331 				addr_temp += 0x200;
0013b0 940e 3582 	CALL SUBOPT_0x47
                 ;    1332 				if (_FF_read(addr_temp)==0)
0013b2 81ed
0013b3 81fe
0013b4 816f
0013b5 8578      	__GETD1S 5
0013b6 940e 337d 	CALL SUBOPT_0xC
0013b8 f419      	BRNE _0x13B
                 ;    1333 					return (0);
0013b9 e0e0      	LDI  R30,LOW(0)
0013ba e0f0      	LDI  R31,HIGH(0)
0013bb c054      	RJMP _0x513
                 ;    1334 				calc_clus |= ((unsigned int) _FF_buff[0] << 8);
                 _0x13B:
0013bc 91f0 0504 	LDS  R31,__FF_buff
0013be 940e 3595 	CALL SUBOPT_0x49
                 ;    1335 				calc_temp = 0;
0013c0 e010
0013c1 e020      	__GETWRN 17,18,0
                 ;    1336 			}
                 ;    1337 			else
0013c2 c009      	RJMP _0x13C
                 _0x13A:
                 ;    1338 				calc_clus |= ((unsigned int) _FF_buff[calc_temp++] << 8);
0013c3 2fe1
0013c4 2ff2      	__GETW1R 17,18
0013c5 5f1f
0013c6 4f2f      	__ADDWRN 17,18,1
0013c7 5fec      	SUBI R30,LOW(-__FF_buff)
0013c8 4ffa      	SBCI R31,HIGH(-__FF_buff)
0013c9 81f0      	LD   R31,Z
0013ca 940e 3595 	CALL SUBOPT_0x49
                 ;    1339                           	
                 ;    1340 			if (c % 2)
                 _0x13C:
0013cc 85ef      	LDD  R30,Y+15
0013cd 89f8      	LDD  R31,Y+15+1
0013ce 70e1      	ANDI R30,LOW(0x1)
0013cf f041      	BREQ _0x13D
                 ;    1341 				calc_clus >>= 4;
0013d0 85a9
0013d1 85ba
0013d2 858b
0013d3 859c      	__GETD2S 9
0013d4 e0e4      	LDI  R30,LOW(4)
0013d5 940e 3d4d 	CALL __LSRD12
0013d7 c008      	RJMP _0x527
                 ;    1342 			else
                 _0x13D:
                 ;    1343 				calc_clus &= 0x0FFF;
0013d8 85e9
0013d9 85fa
0013da 856b
0013db 857c      	__GETD1S 9
0013dc 7fef
0013dd 70ff
0013de 7060
0013df 7070      	__ANDD1N 0xFFF
                 _0x527:
0013e0 87e9
0013e1 87fa
0013e2 876b
0013e3 877c      	__PUTD1S 9
                 ;    1344 			
                 ;    1345 			if (calc_clus == clus_no)
0013e4 940e 3571 	CALL SUBOPT_0x45
0013e6 f419      	BRNE _0x13F
                 ;    1346 				return (c);
0013e7 85ef      	LDD  R30,Y+15
0013e8 89f8      	LDD  R31,Y+15+1
0013e9 c026      	RJMP _0x513
                 ;    1347 			else if (c > DataClusTot)
                 _0x13F:
0013ea 91e0 0741 	LDS  R30,_DataClusTot
0013ec 91f0 0742 	LDS  R31,_DataClusTot+1
0013ee 9160 0743 	LDS  R22,_DataClusTot+2
0013f0 9170 0744 	LDS  R23,_DataClusTot+3
0013f2 85af      	LDD  R26,Y+15
0013f3 89b8      	LDD  R27,Y+15+1
0013f4 2788      	CLR  R24
0013f5 2799      	CLR  R25
0013f6 940e 400a 	CALL __CPD12
0013f8 f418      	BRSH _0x141
                 ;    1348 			{
                 ;    1349 				_FF_error = DISK_FULL;
0013f9 940e 357c 	CALL SUBOPT_0x46
                 ;    1350 				return (0);
0013fb c014      	RJMP _0x513
                 ;    1351 			}
                 ;    1352 			if ((calc_temp == BPB_BytsPerSec) && (c % 2))
                 _0x141:
0013fc 1661
0013fd 0672      	__CPWRR 6,7,17,18
0013fe f421      	BRNE _0x143
0013ff 85ef      	LDD  R30,Y+15
001400 89f8      	LDD  R31,Y+15+1
001401 70e1      	ANDI R30,LOW(0x1)
001402 f409      	BRNE _0x144
                 _0x143:
001403 c003      	RJMP _0x142
                 _0x144:
                 ;    1353 			{
                 ;    1354 				addr_temp += 0x200;
001404 940e 3582 	CALL SUBOPT_0x47
                 ;    1355 				read_flag = 1;
001406 e001      	LDI  R16,LOW(1)
                 ;    1356 			}                                                           
                 ;    1357 			
                 ;    1358 			c++;			
                 _0x142:
001407 940e 358f 	CALL SUBOPT_0x48
                 ;    1359 		}
                 ;    1360 		#endif
                 ;    1361 		else
001409 c003      	RJMP _0x145
                 _0x137:
                 ;    1362 			return (0);
00140a e0e0      	LDI  R30,LOW(0)
00140b e0f0      	LDI  R31,HIGH(0)
00140c c003      	RJMP _0x513
                 ;    1363 	}
                 _0x145:
                 _0x136:
00140d cea7      	RJMP _0x127
                 _0x129:
                 ;    1364 	_FF_error = DISK_FULL;
00140e 940e 357c 	CALL SUBOPT_0x46
                 ;    1365 	return (0);
                 _0x513:
001410 940e 401c 	CALL __LOADLOCR5
001412 9663      	ADIW R28,19
001413 9508      	RET
                 ;    1366 }
                 ;    1367 
                 ;    1368 #ifndef _READ_ONLY_
                 ;    1369 // Update cluster table to point to new cluster
                 ;    1370 unsigned char write_clus_table(unsigned int current_cluster, unsigned int next_value, unsigned char mode)
                 ;    1371 {
                 _write_clus_table:
                 ;    1372 	unsigned long addr_temp;
                 ;    1373 	unsigned int calc_sec, calc_offset, calc_temp, calc_remainder;
                 ;    1374 	unsigned char nibble[3];
                 ;    1375 	
                 ;    1376 	if (current_cluster <=1)		// Should never be writing to cluster 0 or 1
001414 9729      	SBIW R28,9
001415 940e 4014 	CALL __SAVELOCR6
                 ;	current_cluster -> Y+18
                 ;	next_value -> Y+16
                 ;	mode -> Y+15
                 ;	addr_temp -> Y+11
                 ;	calc_sec -> R16,R17
                 ;	calc_offset -> R18,R19
                 ;	calc_temp -> R20,R21
                 ;	calc_remainder -> Y+9
                 ;	nibble -> Y+6
001417 89aa      	LDD  R26,Y+18
001418 89bb      	LDD  R27,Y+18+1
001419 9712      	SBIW R26,2
00141a f410      	BRSH _0x146
                 ;    1377 	{
                 ;    1378 		return (0);
00141b e0e0      	LDI  R30,LOW(0)
00141c c16e      	RJMP _0x512
                 ;    1379 	}
                 ;    1380 	if (BPB_FATType == 0x36)		// if FAT16
                 _0x146:
00141d e3e6      	LDI  R30,LOW(54)
00141e 15ee      	CP   R30,R14
00141f f011      	BREQ PC+3
001420 940c 1486 	JMP _0x147
                 ;    1381 	{
                 ;    1382 		calc_sec = current_cluster / (BPB_BytsPerSec / 2) + BPB_RsvdSecCnt;
001422 940e 35a3 	CALL SUBOPT_0x4A
001424 940e 34cf 	CALL SUBOPT_0x36
                 ;    1383 		calc_offset = 2 * (current_cluster % (BPB_BytsPerSec / 2));
001426 940e 35a3 	CALL SUBOPT_0x4A
001428 940e 34d5 	CALL SUBOPT_0x37
                 ;    1384 		addr_temp = _FF_PART_ADDR + ((long) calc_sec*0x200);
00142a 2766      	CLR  R22
00142b 2777      	CLR  R23
00142c e0a0
00142d e0b2
00142e e080
00142f e090      	__GETD2N 0x200
001430 940e 34b4 	CALL SUBOPT_0x33
001432 940e 35a9 	CALL SUBOPT_0x4B
                 ;    1385 		if (mode==SINGLE)
001434 f451      	BRNE _0x148
                 ;    1386 		{	// Updating a single cluster (like writing or saving a file)
                 ;    1387 			if (_FF_read(addr_temp)==0)
001435 85eb
001436 85fc
001437 856d
001438 857e      	__GETD1S 11
001439 940e 337d 	CALL SUBOPT_0xC
00143b f411      	BRNE _0x149
                 ;    1388 				return(0);
00143c e0e0      	LDI  R30,LOW(0)
00143d c14d      	RJMP _0x512
                 ;    1389 		}
                 _0x149:
                 ;    1390 		else if ((mode==CHAIN) || (mode==END_CHAIN))
00143e c029      	RJMP _0x14A
                 _0x148:
00143f 85af      	LDD  R26,Y+15
001440 30a0      	CPI  R26,LOW(0x0)
001441 f011      	BREQ _0x14C
001442 30a2      	CPI  R26,LOW(0x2)
001443 f521      	BRNE _0x14B
                 _0x14C:
                 ;    1391 		{	// Multiple table access operation
                 ;    1392 			if (addr_temp!=_FF_buff_addr)
001444 940e 35b0 	CALL SUBOPT_0x4C
001446 f109      	BREQ _0x14E
                 ;    1393 			{	// if the desired address is already in the buffer => skip loading buffer
                 ;    1394 				if (_FF_buff_addr)	// if new table address, write buffered, and load new
001447 91e0 073d 	LDS  R30,__FF_buff_addr
001449 91f0 073e 	LDS  R31,__FF_buff_addr+1
00144b 9160 073f 	LDS  R22,__FF_buff_addr+2
00144d 9170 0740 	LDS  R23,__FF_buff_addr+3
00144f 940e 3ff8 	CALL __CPD10
001451 f069      	BREQ _0x14F
                 ;    1395 				{
                 ;    1396 					#ifdef _SECOND_FAT_ON_
                 ;    1397 						if (_FF_buff_addr < _FF_FAT2_ADDR)
001452 940e 3501 	CALL SUBOPT_0x3A
001454 f428      	BRSH _0x150
                 ;    1398 							if (_FF_write(_FF_buff_addr+(_FF_FAT2_ADDR-_FF_FAT1_ADDR))==0)
001455 940e 3514 	CALL SUBOPT_0x3B
001457 f411      	BRNE _0x151
                 ;    1399 								return(0);
001458 e0e0      	LDI  R30,LOW(0)
001459 c131      	RJMP _0x512
                 ;    1400 					#endif
                 ;    1401 					if (_FF_write(_FF_buff_addr)==0)
                 _0x151:
                 _0x150:
00145a 940e 3536 	CALL SUBOPT_0x3C
00145c f411      	BRNE _0x152
                 ;    1402 						return(0);
00145d e0e0      	LDI  R30,LOW(0)
00145e c12c      	RJMP _0x512
                 ;    1403 				}
                 _0x152:
                 ;    1404 				if (_FF_read(addr_temp)==0)
                 _0x14F:
00145f 85eb
001460 85fc
001461 856d
001462 857e      	__GETD1S 11
001463 940e 337d 	CALL SUBOPT_0xC
001465 f411      	BRNE _0x153
                 ;    1405 					return(0);
001466 e0e0      	LDI  R30,LOW(0)
001467 c123      	RJMP _0x512
                 ;    1406 			}
                 _0x153:
                 ;    1407 		}
                 _0x14E:
                 ;    1408 				
                 ;    1409 		_FF_buff[calc_offset+1] = (next_value >> 8); 
                 _0x14B:
                 _0x14A:
001468 01f9      	MOVW R30,R18
001469 5feb
00146a 4ffa      	__ADDW1MN __FF_buff,1
00146b 01df      	MOVW R26,R30
00146c 89e9      	LDD  R30,Y+17
00146d 70f0      	ANDI R31,HIGH(0x0)
00146e 93ec      	ST   X,R30
                 ;    1410 		_FF_buff[calc_offset] = (next_value & 0xFF);
00146f 01d9      	MOVW R26,R18
001470 5fac      	SUBI R26,LOW(-__FF_buff)
001471 4fba      	SBCI R27,HIGH(-__FF_buff)
001472 89e8      	LDD  R30,Y+16
001473 89f9      	LDD  R31,Y+16+1
001474 70f0      	ANDI R31,HIGH(0xFF)
001475 940e 35bf 	CALL SUBOPT_0x4D
                 ;    1411 		if ((mode==SINGLE) || (mode==END_CHAIN))
001477 f019      	BREQ _0x155
001478 85af      	LDD  R26,Y+15
001479 30a2      	CPI  R26,LOW(0x2)
00147a f451      	BRNE _0x154
                 _0x155:
                 ;    1412 		{
                 ;    1413 			#ifdef _SECOND_FAT_ON_
                 ;    1414 				if (_FF_write(addr_temp+(_FF_FAT2_ADDR-_FF_FAT1_ADDR))==0)
00147b 940e 35c3 	CALL SUBOPT_0x4E
00147d f411      	BRNE _0x157
                 ;    1415 					return(0);
00147e e0e0      	LDI  R30,LOW(0)
00147f c10b      	RJMP _0x512
                 ;    1416 			#endif
                 ;    1417 			if (_FF_write(addr_temp)==0)
                 _0x157:
001480 940e 35e1 	CALL SUBOPT_0x4F
001482 f411      	BRNE _0x158
                 ;    1418 			{
                 ;    1419 				return(0);
001483 e0e0      	LDI  R30,LOW(0)
001484 c106      	RJMP _0x512
                 ;    1420 			}
                 ;    1421 		}
                 _0x158:
                 ;    1422 	}
                 _0x154:
                 ;    1423 	#ifdef _FAT12_ON_
                 ;    1424 		else if (BPB_FATType == 0x32)		// if FAT12
001485 c104      	RJMP _0x159
                 _0x147:
001486 e3e2      	LDI  R30,LOW(50)
001487 15ee      	CP   R30,R14
001488 f011      	BREQ PC+3
001489 940c 1588 	JMP _0x15A
                 ;    1425 		{
                 ;    1426 			calc_offset = (current_cluster * 3) / 2;
00148b 940e 35eb 	CALL SUBOPT_0x50
00148d 95f6      	LSR  R31
00148e 95e7      	ROR  R30
00148f 019f      	MOVW R18,R30
                 ;    1427 			calc_remainder = (current_cluster * 3) % 2;
001490 940e 35eb 	CALL SUBOPT_0x50
001492 70e1      	ANDI R30,LOW(0x1)
001493 70f0      	ANDI R31,HIGH(0x1)
001494 87e9      	STD  Y+9,R30
001495 87fa      	STD  Y+9+1,R31
                 ;    1428 			calc_sec = calc_offset / BPB_BytsPerSec + BPB_RsvdSecCnt;
001496 940e 3551 	CALL SUBOPT_0x3F
                 ;    1429 			calc_offset %= BPB_BytsPerSec;
001498 940e 3554 	CALL SUBOPT_0x40
                 ;    1430 			addr_temp = _FF_PART_ADDR + ((long) calc_sec * (long) BPB_BytsPerSec);
00149a 01f8      	MOVW R30,R16
00149b 940e 338b 	CALL SUBOPT_0xE
00149d 91a0 071e 	LDS  R26,__FF_PART_ADDR
00149f 91b0 071f 	LDS  R27,__FF_PART_ADDR+1
0014a1 9180 0720 	LDS  R24,__FF_PART_ADDR+2
0014a3 9190 0721 	LDS  R25,__FF_PART_ADDR+3
0014a5 940e 3d12 	CALL __ADDD12
0014a7 940e 35a9 	CALL SUBOPT_0x4B
                 ;    1431 
                 ;    1432 			if (mode==SINGLE)
0014a9 f451      	BRNE _0x15B
                 ;    1433 			{
                 ;    1434 				if (_FF_read(addr_temp)==0)
0014aa 85eb
0014ab 85fc
0014ac 856d
0014ad 857e      	__GETD1S 11
0014ae 940e 337d 	CALL SUBOPT_0xC
0014b0 f411      	BRNE _0x15C
                 ;    1435 					return(0);
0014b1 e0e0      	LDI  R30,LOW(0)
0014b2 c0d8      	RJMP _0x512
                 ;    1436  			}
                 _0x15C:
                 ;    1437  			else if ((mode==CHAIN) || (mode==END_CHAIN))
0014b3 c029      	RJMP _0x15D
                 _0x15B:
0014b4 85af      	LDD  R26,Y+15
0014b5 30a0      	CPI  R26,LOW(0x0)
0014b6 f011      	BREQ _0x15F
0014b7 30a2      	CPI  R26,LOW(0x2)
0014b8 f521      	BRNE _0x15E
                 _0x15F:
                 ;    1438   			{
                 ;    1439 				if (addr_temp!=_FF_buff_addr)
0014b9 940e 35b0 	CALL SUBOPT_0x4C
0014bb f109      	BREQ _0x161
                 ;    1440 				{
                 ;    1441 					if (_FF_buff_addr)
0014bc 91e0 073d 	LDS  R30,__FF_buff_addr
0014be 91f0 073e 	LDS  R31,__FF_buff_addr+1
0014c0 9160 073f 	LDS  R22,__FF_buff_addr+2
0014c2 9170 0740 	LDS  R23,__FF_buff_addr+3
0014c4 940e 3ff8 	CALL __CPD10
0014c6 f069      	BREQ _0x162
                 ;    1442 					{
                 ;    1443 					#ifdef _SECOND_FAT_ON_
                 ;    1444 						if (_FF_buff_addr < _FF_FAT2_ADDR)
0014c7 940e 3501 	CALL SUBOPT_0x3A
0014c9 f428      	BRSH _0x163
                 ;    1445 							if (_FF_write(_FF_buff_addr+(_FF_FAT2_ADDR-_FF_FAT1_ADDR))==0)
0014ca 940e 3514 	CALL SUBOPT_0x3B
0014cc f411      	BRNE _0x164
                 ;    1446 								return(0);
0014cd e0e0      	LDI  R30,LOW(0)
0014ce c0bc      	RJMP _0x512
                 ;    1447 					#endif
                 ;    1448 						if (_FF_write(_FF_buff_addr)==0)
                 _0x164:
                 _0x163:
0014cf 940e 3536 	CALL SUBOPT_0x3C
0014d1 f411      	BRNE _0x165
                 ;    1449 							return(0);
0014d2 e0e0      	LDI  R30,LOW(0)
0014d3 c0b7      	RJMP _0x512
                 ;    1450 					}
                 _0x165:
                 ;    1451 					if (_FF_read(addr_temp)==0)
                 _0x162:
0014d4 85eb
0014d5 85fc
0014d6 856d
0014d7 857e      	__GETD1S 11
0014d8 940e 337d 	CALL SUBOPT_0xC
0014da f411      	BRNE _0x166
                 ;    1452 						return(0);
0014db e0e0      	LDI  R30,LOW(0)
0014dc c0ae      	RJMP _0x512
                 ;    1453 				}
                 _0x166:
                 ;    1454 			}
                 _0x161:
                 ;    1455 			nibble[0] = next_value & 0x00F;
                 _0x15E:
                 _0x15D:
0014dd 89e8      	LDD  R30,Y+16
0014de 89f9      	LDD  R31,Y+16+1
0014df 70ef      	ANDI R30,LOW(0xF)
0014e0 70f0      	ANDI R31,HIGH(0xF)
0014e1 83ee      	STD  Y+6,R30
                 ;    1456 			nibble[1] = (next_value >> 4) & 0x00F;
0014e2 89e8      	LDD  R30,Y+16
0014e3 89f9      	LDD  R31,Y+16+1
0014e4 940e 3d62 	CALL __LSRW4
0014e6 70ef      	ANDI R30,LOW(0xF)
0014e7 70f0      	ANDI R31,HIGH(0xF)
0014e8 83ef      	STD  Y+7,R30
                 ;    1457 			nibble[2] = (next_value >> 8) & 0x00F;
0014e9 89e9      	LDD  R30,Y+17
0014ea 70f0      	ANDI R31,HIGH(0x0)
0014eb 70ef      	ANDI R30,LOW(0xF)
0014ec 70f0      	ANDI R31,HIGH(0xF)
0014ed 87e8      	STD  Y+8,R30
                 ;    1458     	
                 ;    1459 			if (calc_offset == (BPB_BytsPerSec-1))
0014ee 940e 355a 	CALL SUBOPT_0x41
0014f0 f011      	BREQ PC+3
0014f1 940c 1546 	JMP _0x167
                 ;    1460 			{	// Is the FAT12 record accross a sector?
                 ;    1461 				if (calc_remainder)
0014f3 85e9      	LDD  R30,Y+9
0014f4 85fa      	LDD  R31,Y+9+1
0014f5 9730      	SBIW R30,0
0014f6 f131      	BREQ _0x168
                 ;    1462 				{	// Record table uses 1 nibble of last byte
                 ;    1463 					calc_temp = _FF_buff[calc_offset] & 0x0F;	// Mask to add new value
0014f7 940e 3544 	CALL SUBOPT_0x3D
0014f9 940e 35f2 	CALL SUBOPT_0x51
                 ;    1464 					_FF_buff[calc_offset] = calc_temp | (nibble[0] << 4);	// store nibble in correct location
                 ;    1465 					#ifdef _SECOND_FAT_ON_
                 ;    1466 						if (_FF_write(addr_temp+(_FF_FAT2_ADDR-_FF_FAT1_ADDR))==0)
0014fb 940e 35c3 	CALL SUBOPT_0x4E
0014fd f411      	BRNE _0x169
                 ;    1467 							return(0);
0014fe e0e0      	LDI  R30,LOW(0)
0014ff c08b      	RJMP _0x512
                 ;    1468 					#endif
                 ;    1469 					if (_FF_write(addr_temp)==0)
                 _0x169:
001500 940e 35e1 	CALL SUBOPT_0x4F
001502 f411      	BRNE _0x16A
                 ;    1470 						return(0);
001503 e0e0      	LDI  R30,LOW(0)
001504 c086      	RJMP _0x512
                 ;    1471 					addr_temp += BPB_BytsPerSec;
                 _0x16A:
001505 940e 3603 	CALL SUBOPT_0x52
                 ;    1472 					if (_FF_read(addr_temp)==0)
001507 f411      	BRNE _0x16B
                 ;    1473 						return(0);	// if the read fails return 0
001508 e0e0      	LDI  R30,LOW(0)
001509 c081      	RJMP _0x512
                 ;    1474 					_FF_buff[0] = (nibble[2] << 4) | nibble[1];
                 _0x16B:
00150a 940e 3611 	CALL SUBOPT_0x53
00150c 940e 3617 	CALL SUBOPT_0x54
                 ;    1475 					if ((mode==SINGLE) || (mode==END_CHAIN))
00150e f019      	BREQ _0x16D
00150f 85af      	LDD  R26,Y+15
001510 30a2      	CPI  R26,LOW(0x2)
001511 f451      	BRNE _0x16C
                 _0x16D:
                 ;    1476 					{
                 ;    1477 						#ifdef _SECOND_FAT_ON_
                 ;    1478 							if (_FF_write(addr_temp+(_FF_FAT2_ADDR-_FF_FAT1_ADDR))==0)
001512 940e 35c3 	CALL SUBOPT_0x4E
001514 f411      	BRNE _0x16F
                 ;    1479 								return(0);
001515 e0e0      	LDI  R30,LOW(0)
001516 c074      	RJMP _0x512
                 ;    1480 						#endif
                 ;    1481 						if (_FF_write(addr_temp)==0)
                 _0x16F:
001517 940e 35e1 	CALL SUBOPT_0x4F
001519 f411      	BRNE _0x170
                 ;    1482 							return(0);
00151a e0e0      	LDI  R30,LOW(0)
00151b c06f      	RJMP _0x512
                 ;    1483 					}
                 _0x170:
                 ;    1484 				}
                 _0x16C:
                 ;    1485 				else
00151c c028      	RJMP _0x171
                 _0x168:
                 ;    1486 				{	// Record table uses whole last byte
                 ;    1487 					_FF_buff[calc_offset] = (nibble[1] << 4) | nibble[0];
00151d 940e 361c 	CALL SUBOPT_0x55
                 ;    1488 					#ifdef _SECOND_FAT_ON_
                 ;    1489 						if (_FF_write(addr_temp+(_FF_FAT2_ADDR-_FF_FAT1_ADDR))==0)
00151f 940e 35c3 	CALL SUBOPT_0x4E
001521 f411      	BRNE _0x172
                 ;    1490 							return(0);
001522 e0e0      	LDI  R30,LOW(0)
001523 c067      	RJMP _0x512
                 ;    1491 					#endif
                 ;    1492 					if (_FF_write(addr_temp)==0)
                 _0x172:
001524 940e 35e1 	CALL SUBOPT_0x4F
001526 f411      	BRNE _0x173
                 ;    1493 						return(0);
001527 e0e0      	LDI  R30,LOW(0)
001528 c062      	RJMP _0x512
                 ;    1494 					addr_temp += BPB_BytsPerSec;
                 _0x173:
001529 940e 3603 	CALL SUBOPT_0x52
                 ;    1495 					if (_FF_read(addr_temp)==0)
00152b f411      	BRNE _0x174
                 ;    1496 						return(0);	// if the read fails return 0
00152c e0e0      	LDI  R30,LOW(0)
00152d c05d      	RJMP _0x512
                 ;    1497 					calc_temp = _FF_buff[0] & 0xF0;		// Mask to add new value
                 _0x174:
00152e 91e0 0504 	LDS  R30,__FF_buff
001530 940e 3628 	CALL SUBOPT_0x56
                 ;    1498 					_FF_buff[0] = calc_temp | nibble[2];	// store nibble in correct location
001532 940e 362c 	CALL SUBOPT_0x57
001534 2bea      	OR   R30,R26
001535 940e 3617 	CALL SUBOPT_0x54
                 ;    1499 					if ((mode==SINGLE) || (mode==END_CHAIN))
001537 f019      	BREQ _0x176
001538 85af      	LDD  R26,Y+15
001539 30a2      	CPI  R26,LOW(0x2)
00153a f451      	BRNE _0x175
                 _0x176:
                 ;    1500 					{
                 ;    1501 						#ifdef _SECOND_FAT_ON_
                 ;    1502 							if (_FF_write(addr_temp+(_FF_FAT2_ADDR-_FF_FAT1_ADDR))==0)
00153b 940e 35c3 	CALL SUBOPT_0x4E
00153d f411      	BRNE _0x178
                 ;    1503 								return(0);
00153e e0e0      	LDI  R30,LOW(0)
00153f c04b      	RJMP _0x512
                 ;    1504 						#endif
                 ;    1505 						if (_FF_write(addr_temp)==0)
                 _0x178:
001540 940e 35e1 	CALL SUBOPT_0x4F
001542 f411      	BRNE _0x179
                 ;    1506 							return(0);
001543 e0e0      	LDI  R30,LOW(0)
001544 c046      	RJMP _0x512
                 ;    1507 					}
                 _0x179:
                 ;    1508 				}
                 _0x175:
                 _0x171:
                 ;    1509 			}
                 ;    1510 			else
001545 c041      	RJMP _0x17A
                 _0x167:
                 ;    1511 			{
                 ;    1512 				if (calc_remainder)
001546 85e9      	LDD  R30,Y+9
001547 85fa      	LDD  R31,Y+9+1
001548 9730      	SBIW R30,0
001549 f0e1      	BREQ _0x17B
                 ;    1513 				{	// Record table uses 1 nibble of current byte
                 ;    1514 					calc_temp = _FF_buff[calc_offset] & 0x0F;	// Mask to add new value
00154a 940e 3544 	CALL SUBOPT_0x3D
00154c 940e 35f2 	CALL SUBOPT_0x51
                 ;    1515 					_FF_buff[calc_offset] = calc_temp | (nibble[0] << 4);	// store nibble in correct location
                 ;    1516 					_FF_buff[calc_offset+1] = (nibble[2] << 4) | nibble[1];
00154e 01f9      	MOVW R30,R18
00154f 5feb
001550 4ffa      	__ADDW1MN __FF_buff,1
001551 010f      	MOVW R0,R30
001552 940e 3611 	CALL SUBOPT_0x53
001554 01d0      	MOVW R26,R0
001555 940e 35bf 	CALL SUBOPT_0x4D
                 ;    1517 					if ((mode==SINGLE) || (mode==END_CHAIN))
001557 f019      	BREQ _0x17D
001558 85af      	LDD  R26,Y+15
001559 30a2      	CPI  R26,LOW(0x2)
00155a f451      	BRNE _0x17C
                 _0x17D:
                 ;    1518 					{
                 ;    1519 						#ifdef _SECOND_FAT_ON_
                 ;    1520 							if (_FF_write(addr_temp+(_FF_FAT2_ADDR-_FF_FAT1_ADDR))==0)
00155b 940e 35c3 	CALL SUBOPT_0x4E
00155d f411      	BRNE _0x17F
                 ;    1521 								return(0);
00155e e0e0      	LDI  R30,LOW(0)
00155f c02b      	RJMP _0x512
                 ;    1522 						#endif
                 ;    1523 						if (_FF_write(addr_temp)==0)
                 _0x17F:
001560 940e 35e1 	CALL SUBOPT_0x4F
001562 f411      	BRNE _0x180
                 ;    1524 							return(0);
001563 e0e0      	LDI  R30,LOW(0)
001564 c026      	RJMP _0x512
                 ;    1525 					}
                 _0x180:
                 ;    1526 				}
                 _0x17C:
                 ;    1527 				else
001565 c021      	RJMP _0x181
                 _0x17B:
                 ;    1528 				{	// Record table uses whole current byte
                 ;    1529 					_FF_buff[calc_offset] = (nibble[1] << 4) | nibble[0];
001566 940e 361c 	CALL SUBOPT_0x55
                 ;    1530 					calc_temp = _FF_buff[calc_offset+1] & 0xF0;		// Mask to add new value
001568 01f9      	MOVW R30,R18
001569 5feb
00156a 4ffa      	__ADDW1MN __FF_buff,1
00156b 81e0      	LD   R30,Z
00156c 940e 3628 	CALL SUBOPT_0x56
                 ;    1531 					_FF_buff[calc_offset+1] = calc_temp | nibble[2];	// store nibble in correct location
00156e 01f9      	MOVW R30,R18
00156f 5feb
001570 4ffa      	__ADDW1MN __FF_buff,1
001571 010f      	MOVW R0,R30
001572 940e 362c 	CALL SUBOPT_0x57
001574 2bea      	OR   R30,R26
001575 2bfb      	OR   R31,R27
001576 01d0      	MOVW R26,R0
001577 940e 35bf 	CALL SUBOPT_0x4D
                 ;    1532 					if ((mode==SINGLE) || (mode==END_CHAIN))
001579 f019      	BREQ _0x183
00157a 85af      	LDD  R26,Y+15
00157b 30a2      	CPI  R26,LOW(0x2)
00157c f451      	BRNE _0x182
                 _0x183:
                 ;    1533 					{
                 ;    1534 						#ifdef _SECOND_FAT_ON_
                 ;    1535 							if (_FF_write(addr_temp+(_FF_FAT2_ADDR-_FF_FAT1_ADDR))==0)
00157d 940e 35c3 	CALL SUBOPT_0x4E
00157f f411      	BRNE _0x185
                 ;    1536 								return(0);
001580 e0e0      	LDI  R30,LOW(0)
001581 c009      	RJMP _0x512
                 ;    1537 						#endif
                 ;    1538 						if (_FF_write(addr_temp)==0)
                 _0x185:
001582 940e 35e1 	CALL SUBOPT_0x4F
001584 f411      	BRNE _0x186
                 ;    1539 							return(0);
001585 e0e0      	LDI  R30,LOW(0)
001586 c004      	RJMP _0x512
                 ;    1540 					}
                 _0x186:
                 ;    1541 				}
                 _0x182:
                 _0x181:
                 ;    1542 			}
                 _0x17A:
                 ;    1543 		}
                 ;    1544 	#endif
                 ;    1545 	else		// not FAT12 or FAT16, return 0
001587 c002      	RJMP _0x187
                 _0x15A:
                 ;    1546 		return (0);
001588 e0e0      	LDI  R30,LOW(0)
001589 c001      	RJMP _0x512
                 ;    1547 		
                 ;    1548 	return(1);	
                 _0x187:
                 _0x159:
00158a e0e1      	LDI  R30,LOW(1)
                 _0x512:
00158b 940e 401b 	CALL __LOADLOCR6
00158d 9664      	ADIW R28,20
00158e 9508      	RET
                 ;    1549 }
                 ;    1550 #endif
                 ;    1551 
                 ;    1552 #ifndef _READ_ONLY_
                 ;    1553 // Save new entry data to FAT entry
                 ;    1554 unsigned char append_toc(FILE *rp)
                 ;    1555 {
                 _append_toc:
                 ;    1556 	unsigned long file_data;
                 ;    1557 	unsigned char n;
                 ;    1558 	unsigned char *fp;
                 ;    1559 	unsigned int calc_temp, calc_date;
                 ;    1560 	
                 ;    1561 	if (rp==NULL)
00158f 9726      	SBIW R28,6
001590 940e 4015 	CALL __SAVELOCR5
                 ;	*rp -> Y+11
                 ;	file_data -> Y+7
                 ;	n -> R16
                 ;	*fp -> R17,R18
                 ;	calc_temp -> R19,R20
                 ;	calc_date -> Y+5
001592 85eb      	LDD  R30,Y+11
001593 85fc      	LDD  R31,Y+11+1
001594 9730      	SBIW R30,0
001595 f411      	BRNE _0x188
                 ;    1562 		return (0);
001596 e0e0      	LDI  R30,LOW(0)
001597 c081      	RJMP _0x511
                 ;    1563 
                 ;    1564 	file_data = rp->length;
                 _0x188:
001598 85ab      	LDD  R26,Y+11
001599 85bc      	LDD  R27,Y+11+1
00159a 5ea4      	SUBI R26,LOW(-540)
00159b 4fbd      	SBCI R27,HIGH(-540)
00159c 940e 3e51 	CALL __GETD1P
00159e 83ef
00159f 87f8
0015a0 8769
0015a1 877a      	__PUTD1S 7
                 ;    1565 	if (_FF_read(rp->entry_sec_addr)==0)
0015a2 940e 3630 	CALL SUBOPT_0x58
0015a4 940e 0c33 	CALL __FF_read
0015a6 30e0      	CPI  R30,0
0015a7 f411      	BRNE _0x189
                 ;    1566 		return (0);
0015a8 e0e0      	LDI  R30,LOW(0)
0015a9 c06f      	RJMP _0x511
                 ;    1567 	
                 ;    1568 	// Update Starting Cluster 
                 ;    1569 	fp = &_FF_buff[rp->entry_offset+0x1a];
                 _0x189:
0015aa 940e 3639 	CALL SUBOPT_0x59
0015ac 5ee2
0015ad 4ffa      	__ADDW1MN __FF_buff,26
0015ae 2f1e
0015af 2f2f      	__PUTW1R 17,18
                 ;    1570 	*fp++ = rp->clus_start & 0xFF;
0015b0 932f      	PUSH R18
0015b1 931f      	PUSH R17
0015b2 5f1f
0015b3 4f2f      	__ADDWRN 17,18,1
0015b4 940e 363f 	CALL SUBOPT_0x5A
0015b6 70f0      	ANDI R31,HIGH(0xFF)
0015b7 91af      	POP  R26
0015b8 91bf      	POP  R27
0015b9 93ec      	ST   X,R30
                 ;    1571 	*fp++ = rp->clus_start >> 8;
0015ba 932f      	PUSH R18
0015bb 931f      	PUSH R17
0015bc 5f1f
0015bd 4f2f      	__ADDWRN 17,18,1
0015be 940e 363f 	CALL SUBOPT_0x5A
0015c0 2fef      	MOV  R30,R31
0015c1 e0f0      	LDI  R31,0
0015c2 91af      	POP  R26
0015c3 91bf      	POP  R27
0015c4 93ec      	ST   X,R30
                 ;    1572 	
                 ;    1573 	// Update the File Size
                 ;    1574 	for (n=0; n<4; n++)
0015c5 e000      	LDI  R16,LOW(0)
                 _0x18B:
0015c6 3004      	CPI  R16,4
0015c7 f430      	BRSH _0x18C
                 ;    1575 	{
                 ;    1576 		*fp = file_data & 0xFF;
0015c8 940e 3645 	CALL SUBOPT_0x5B
                 ;    1577 		file_data >>= 8;
                 ;    1578 		fp++;
0015ca 5f1f
0015cb 4f2f      	__ADDWRN 17,18,1
                 ;    1579 	}
0015cc 5f0f      	SUBI R16,-1
0015cd cff8      	RJMP _0x18B
                 _0x18C:
                 ;    1580 	
                 ;    1581 	
                 ;    1582 	fp = &_FF_buff[rp->entry_offset+0x16];
0015ce 940e 3639 	CALL SUBOPT_0x59
0015d0 5ee6
0015d1 4ffa      	__ADDW1MN __FF_buff,22
0015d2 2f1e
0015d3 2f2f      	__PUTW1R 17,18
                 ;    1583 	#ifdef _RTC_ON_ 	// Date/Time Stamp file w/ RTC
                 ;    1584 		rtc_get_timeNdate(&rtc_hour, &rtc_min, &rtc_sec, &rtc_date, &rtc_month, (int *)&rtc_year);	    			
                 ;    1585 		calc_temp = ((int)rtc_sec&0x1F) | (((int)rtc_min&0x3F)<<5) | (((int)rtc_hour&0x1F)<<11);
                 ;    1586 		*fp++ = calc_temp&0x00FF;	// File create Time 
                 ;    1587 		*fp++ = (calc_temp&0xFF00) >> 8;
                 ;    1588 		calc_date = ((int)rtc_date&0x1F) | (((int)rtc_month&0x0F)<<5) | (((rtc_year-1980)&0x7F)<<9);
                 ;    1589 		*fp++ = calc_date&0x00FF;	// File create Date
                 ;    1590 		*fp++ = (calc_date&0xFF00) >> 8;
                 ;    1591 	#else		// Increment Date Code, no RTC used 
                 ;    1592 		file_data = 0;
0015d4 e0e0
0015d5 83ef
0015d6 87e8
0015d7 87e9
0015d8 87ea      	__CLRD1S 7
                 ;    1593 		for (n=0; n<4; n++)
0015d9 e000      	LDI  R16,LOW(0)
                 _0x18E:
0015da 3004      	CPI  R16,4
0015db f4f8      	BRSH _0x18F
                 ;    1594 		{
                 ;    1595 			file_data <<= 8;
0015dc 81af
0015dd 85b8
0015de 8589
0015df 859a      	__GETD2S 7
0015e0 e0e8      	LDI  R30,LOW(8)
0015e1 940e 3d41 	CALL __LSLD12
0015e3 83ef
0015e4 87f8
0015e5 8769
0015e6 877a      	__PUTD1S 7
                 ;    1596 			file_data |= *fp;
0015e7 2fa1
0015e8 2fb2      	__GETW2R 17,18
0015e9 91ec      	LD   R30,X
0015ea 81af
0015eb 85b8
0015ec 8589
0015ed 859a      	__GETD2S 7
0015ee 27ff      	CLR  R31
0015ef 2766      	CLR  R22
0015f0 2777      	CLR  R23
0015f1 940e 3d26 	CALL __ORD12
0015f3 83ef
0015f4 87f8
0015f5 8769
0015f6 877a      	__PUTD1S 7
                 ;    1597 			fp--;
0015f7 5011
0015f8 4020      	__SUBWRN 17,18,1
                 ;    1598 		}
0015f9 5f0f      	SUBI R16,-1
0015fa cfdf      	RJMP _0x18E
                 _0x18F:
                 ;    1599 		file_data++;
0015fb 81ef
0015fc 85f8
0015fd 8569
0015fe 857a      	__GETD1S 7
0015ff 5fef
001600 4fff
001601 4f6f
001602 4f7f      	__SUBD1N -1
001603 83ef
001604 87f8
001605 8769
001606 877a      	__PUTD1S 7
                 ;    1600 		for (n=0; n<4; n++)
001607 e000      	LDI  R16,LOW(0)
                 _0x191:
001608 3004      	CPI  R16,4
001609 f430      	BRSH _0x192
                 ;    1601 		{
                 ;    1602 			fp++;
00160a 5f1f
00160b 4f2f      	__ADDWRN 17,18,1
                 ;    1603 			*fp = file_data & 0xFF;
00160c 940e 3645 	CALL SUBOPT_0x5B
                 ;    1604 			file_data >>=8;
                 ;    1605 		}
00160e 5f0f      	SUBI R16,-1
00160f cff8      	RJMP _0x191
                 _0x192:
                 ;    1606 	#endif
                 ;    1607 	if (_FF_write(rp->entry_sec_addr)==0)
001610 940e 3630 	CALL SUBOPT_0x58
001612 940e 0ca1 	CALL __FF_write
001614 30e0      	CPI  R30,0
001615 f411      	BRNE _0x193
                 ;    1608 		return(0);
001616 e0e0      	LDI  R30,LOW(0)
001617 c001      	RJMP _0x511
                 ;    1609 	
                 ;    1610 	return(1);
                 _0x193:
001618 e0e1      	LDI  R30,LOW(1)
                 _0x511:
001619 940e 401c 	CALL __LOADLOCR5
00161b 962d      	ADIW R28,13
00161c 9508      	RET
                 ;    1611 }
                 ;    1612 #endif
                 ;    1613 
                 ;    1614 #ifndef _READ_ONLY_
                 ;    1615 // Erase a chain of clusters (set table entries to 0 for clusters in chain)
                 ;    1616 unsigned char erase_clus_chain(unsigned int start_clus)
                 ;    1617 {
                 _erase_clus_chain:
                 ;    1618 	unsigned int clus_temp, clus_use;
                 ;    1619 	
                 ;    1620 	if (start_clus==0)
00161d 940e 365c 	CALL SUBOPT_0x5C
                 ;	start_clus -> Y+4
                 ;	clus_temp -> R16,R17
                 ;	clus_use -> R18,R19
00161f f411      	BRNE _0x194
                 ;    1621 		return (0);
001620 e0e0      	LDI  R30,LOW(0)
001621 c03b      	RJMP _0x510
                 ;    1622 	clus_use = start_clus;
                 _0x194:
001622 812c
001623 813d      	__GETWRS 18,19,4
                 ;    1623 	_FF_buff_addr = 0;
001624 e0e0      	LDI  R30,0
001625 93e0 073d 	STS  __FF_buff_addr,R30
001627 93e0 073e 	STS  __FF_buff_addr+1,R30
001629 93e0 073f 	STS  __FF_buff_addr+2,R30
00162b 93e0 0740 	STS  __FF_buff_addr+3,R30
                 ;    1624 	while(clus_use <= 0xFFF8)
                 _0x195:
00162d 3f29
00162e efef
00162f 073e      	__CPWRN 18,19,65529
001630 f4b0      	BRSH _0x197
                 ;    1625 	{
                 ;    1626 		clus_temp = next_cluster(clus_use, CHAIN);
001631 940e 3662 	CALL SUBOPT_0x5D
001633 018f      	MOVW R16,R30
                 ;    1627 		if ((clus_temp >= 0xFFF8) || (clus_temp == 0))
001634 3f08
001635 efef
001636 071e      	__CPWRN 16,17,65528
001637 f420      	BRSH _0x199
001638 2400      	CLR  R0
001639 1600      	CP   R0,R16
00163a 0601      	CPC  R0,R17
00163b f409      	BRNE _0x198
                 _0x199:
                 ;    1628 			break;
00163c c00a      	RJMP _0x197
                 ;    1629 		if (write_clus_table(clus_use, 0, CHAIN) == 0)
                 _0x198:
00163d 940e 3668 	CALL SUBOPT_0x5E
00163f 940e 366f 	CALL SUBOPT_0x5F
001641 f411      	BRNE _0x19B
                 ;    1630 			return (0);
001642 e0e0      	LDI  R30,LOW(0)
001643 c019      	RJMP _0x510
                 ;    1631 		clus_use = clus_temp;
                 _0x19B:
001644 2f20
001645 2f31      	__MOVEWRR 18,19,16,17
                 ;    1632 	}
001646 cfe6      	RJMP _0x195
                 _0x197:
                 ;    1633 	if (write_clus_table(clus_use, 0, END_CHAIN) == 0)
001647 940e 3668 	CALL SUBOPT_0x5E
001649 940e 3675 	CALL SUBOPT_0x60
00164b f411      	BRNE _0x19C
                 ;    1634 		return (0);
00164c e0e0      	LDI  R30,LOW(0)
00164d c00f      	RJMP _0x510
                 ;    1635 	clus_0_addr = 0;
                 _0x19C:
00164e e0e0      	LDI  R30,0
00164f 93e0 074c 	STS  _clus_0_addr,R30
001651 93e0 074d 	STS  _clus_0_addr+1,R30
001653 93e0 074e 	STS  _clus_0_addr+2,R30
001655 93e0 074f 	STS  _clus_0_addr+3,R30
                 ;    1636 	c_counter = 0;
001657 e0e0      	LDI  R30,0
001658 93e0 0754 	STS  _c_counter,R30
00165a 93e0 0755 	STS  _c_counter+1,R30
                 ;    1637 	
                 ;    1638 	return (1);	
00165c e0e1      	LDI  R30,LOW(1)
                 _0x510:
00165d 940e 401d 	CALL __LOADLOCR4
00165f 9626      	ADIW R28,6
001660 9508      	RET
                 ;    1639 }
                 ;    1640 
                 ;    1641 // Quickformat of a card (erase cluster table and root directory
                 ;    1642 int fquickformat(void)
                 ;    1643 {
                 _fquickformat:
                 ;    1644 	long c;
                 ;    1645 	
                 ;    1646 	for (c=0; c<BPB_BytsPerSec; c++)
001661 9724      	SBIW R28,4
                 ;	c -> Y+0
001662 e0e0
001663 83e8
001664 83e9
001665 83ea
001666 83eb      	__CLRD1S 0
                 _0x19E:
001667 940e 34c1 	CALL SUBOPT_0x34
001669 940e 400f 	CALL __CPD21
00166b f4ac      	BRGE _0x19F
                 ;    1647 		_FF_buff[c] = 0;
00166c 81e8
00166d 81f9
00166e 816a
00166f 817b      	__GETD1S 0
001670 5fec      	SUBI R30,LOW(-__FF_buff)
001671 4ffa      	SBCI R31,HIGH(-__FF_buff)
001672 940e 367b 	CALL SUBOPT_0x61
                 ;    1648 	
                 ;    1649 	c = _FF_FAT1_ADDR + 0x200;
001674 81e8
001675 81f9
001676 816a
001677 817b      	__GETD1S 0
001678 5fef
001679 4fff
00167a 4f6f
00167b 4f7f      	__SUBD1N -1
00167c 83e8
00167d 83f9
00167e 836a
00167f 837b      	__PUTD1S 0
001680 cfe6      	RJMP _0x19E
                 _0x19F:
001681 91e0 072a 	LDS  R30,__FF_FAT1_ADDR
001683 91f0 072b 	LDS  R31,__FF_FAT1_ADDR+1
001685 9160 072c 	LDS  R22,__FF_FAT1_ADDR+2
001687 9170 072d 	LDS  R23,__FF_FAT1_ADDR+3
001689 50e0
00168a 4ffe
00168b 4f6f
00168c 4f7f      	__ADDD1N 512
00168d 83e8
00168e 83f9
00168f 836a
001690 837b      	__PUTD1S 0
                 ;    1650 	while (c < (_FF_ROOT_ADDR + (0x400 * BPB_SecPerClus)))
                 _0x1A0:
001691 2de8      	MOV  R30,R8
001692 e0a0      	LDI  R26,LOW(1024)
001693 e0b4      	LDI  R27,HIGH(1024)
001694 e0f0      	LDI  R31,0
001695 940e 3db2 	CALL __MULW12
001697 91a0 0722 	LDS  R26,__FF_ROOT_ADDR
001699 91b0 0723 	LDS  R27,__FF_ROOT_ADDR+1
00169b 9180 0724 	LDS  R24,__FF_ROOT_ADDR+2
00169d 9190 0725 	LDS  R25,__FF_ROOT_ADDR+3
00169f 940e 3d80 	CALL __CWD1
0016a1 940e 3d12 	CALL __ADDD12
0016a3 81a8
0016a4 81b9
0016a5 818a
0016a6 819b      	__GETD2S 0
0016a7 940e 400f 	CALL __CPD21
0016a9 f4b8      	BRSH _0x1A2
                 ;    1651 	{
                 ;    1652 		if (_FF_write(c)==0)
0016aa 81e8
0016ab 81f9
0016ac 816a
0016ad 817b      	__GETD1S 0
0016ae 940e 367f 	CALL SUBOPT_0x62
0016b0 f419      	BRNE _0x1A3
                 ;    1653 		{
                 ;    1654 			_FF_error = WRITE_ERR;
0016b1 940e 3685 	CALL SUBOPT_0x63
                 ;    1655 			return (EOF);
0016b3 c036      	RJMP _0x50F
                 ;    1656 		}
                 ;    1657 		c += 0x200;
                 _0x1A3:
0016b4 81e8
0016b5 81f9
0016b6 816a
0016b7 817b      	__GETD1S 0
0016b8 50e0
0016b9 4ffe
0016ba 4f6f
0016bb 4f7f      	__ADDD1N 512
0016bc 83e8
0016bd 83f9
0016be 836a
0016bf 837b      	__PUTD1S 0
                 ;    1658 	}	
0016c0 cfd0      	RJMP _0x1A0
                 _0x1A2:
                 ;    1659 	_FF_buff[0] = 0xF8;
0016c1 efe8      	LDI  R30,LOW(248)
0016c2 93e0 0504 	STS  __FF_buff,R30
                 ;    1660 	_FF_buff[1] = 0xFF;
0016c4 efef      	LDI  R30,LOW(255)
0016c5 93e0 0505 	__PUTB1MN __FF_buff,1
                 ;    1661 	_FF_buff[2] = 0xFF;
0016c7 93e0 0506 	__PUTB1MN __FF_buff,2
                 ;    1662 	if (BPB_FATType == 0x36)
0016c9 e3e6      	LDI  R30,LOW(54)
0016ca 15ee      	CP   R30,R14
0016cb f419      	BRNE _0x1A4
                 ;    1663 		_FF_buff[3] = 0xFF;
0016cc efef      	LDI  R30,LOW(255)
0016cd 93e0 0507 	__PUTB1MN __FF_buff,3
                 ;    1664 	if ((_FF_write(_FF_FAT1_ADDR)==0) || (_FF_write(_FF_FAT2_ADDR)==0))
                 _0x1A4:
0016cf 91e0 072a 	LDS  R30,__FF_FAT1_ADDR
0016d1 91f0 072b 	LDS  R31,__FF_FAT1_ADDR+1
0016d3 9160 072c 	LDS  R22,__FF_FAT1_ADDR+2
0016d5 9170 072d 	LDS  R23,__FF_FAT1_ADDR+3
0016d7 940e 367f 	CALL SUBOPT_0x62
0016d9 f059      	BREQ _0x1A6
0016da 91e0 072e 	LDS  R30,__FF_FAT2_ADDR
0016dc 91f0 072f 	LDS  R31,__FF_FAT2_ADDR+1
0016de 9160 0730 	LDS  R22,__FF_FAT2_ADDR+2
0016e0 9170 0731 	LDS  R23,__FF_FAT2_ADDR+3
0016e2 940e 367f 	CALL SUBOPT_0x62
0016e4 f419      	BRNE _0x1A5
                 _0x1A6:
                 ;    1665 	{
                 ;    1666 		_FF_error = WRITE_ERR;
0016e5 940e 3685 	CALL SUBOPT_0x63
                 ;    1667 		return (EOF);
0016e7 c002      	RJMP _0x50F
                 ;    1668 	}
                 ;    1669 	return (0);
                 _0x1A5:
0016e8 e0e0      	LDI  R30,LOW(0)
0016e9 e0f0      	LDI  R31,HIGH(0)
                 _0x50F:
0016ea 9624      	ADIW R28,4
0016eb 9508      	RET
                 ;    1670 }
                 ;    1671 #endif
                 ;    1672 
                 ;    1673 // function that checks for directory changes then gets into a working form
                 ;    1674 int _FF_checkdir(char *F_PATH, unsigned long *SAVE_ADDR, char *path_temp)
                 ;    1675 {
                 __FF_checkdir:
                 ;    1676 	unsigned char *sp, *qp;
                 ;    1677     
                 ;    1678     *SAVE_ADDR = _FF_DIR_ADDR;	// save local dir addr
0016ec 940e 4016 	CALL __SAVELOCR4
                 ;	*F_PATH -> Y+8
                 ;	*SAVE_ADDR -> Y+6
                 ;	*path_temp -> Y+4
                 ;	*sp -> R16,R17
                 ;	*qp -> R18,R19
0016ee 91e0 0726 	LDS  R30,__FF_DIR_ADDR
0016f0 91f0 0727 	LDS  R31,__FF_DIR_ADDR+1
0016f2 9160 0728 	LDS  R22,__FF_DIR_ADDR+2
0016f4 9170 0729 	LDS  R23,__FF_DIR_ADDR+3
0016f6 81ae      	LDD  R26,Y+6
0016f7 81bf      	LDD  R27,Y+6+1
0016f8 940e 3e57 	CALL __PUTDP1
                 ;    1679     
                 ;    1680     qp = F_PATH;
0016fa 8528
0016fb 8539      	__GETWRS 18,19,8
                 ;    1681     if (*qp=='\\')
0016fc 940e 368b 	CALL SUBOPT_0x64
0016fe f491      	BRNE _0x1A8
                 ;    1682     {
                 ;    1683     	_FF_DIR_ADDR = _FF_ROOT_ADDR;
0016ff 91e0 0722 	LDS  R30,__FF_ROOT_ADDR
001701 91f0 0723 	LDS  R31,__FF_ROOT_ADDR+1
001703 9160 0724 	LDS  R22,__FF_ROOT_ADDR+2
001705 9170 0725 	LDS  R23,__FF_ROOT_ADDR+3
001707 93e0 0726 	STS  __FF_DIR_ADDR,R30
001709 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
00170b 9360 0728 	STS  __FF_DIR_ADDR+2,R22
00170d 9370 0729 	STS  __FF_DIR_ADDR+3,R23
                 ;    1684 		qp++;
00170f 5f2f
001710 4f3f      	__ADDWRN 18,19,1
                 ;    1685 	}
                 ;    1686 
                 ;    1687 	sp = path_temp;
                 _0x1A8:
001711 810c
001712 811d      	__GETWRS 16,17,4
                 ;    1688 	while(*qp)
                 _0x1A9:
001713 940e 368f 	CALL SUBOPT_0x65
001715 f151      	BREQ _0x1AB
                 ;    1689 	{
                 ;    1690 		if ((valid_file_char(*qp)==0) || (*qp=='.'))
001716 01d9      	MOVW R26,R18
001717 940e 33f7 	CALL SUBOPT_0x1D
001719 f019      	BREQ _0x1AD
00171a 940e 3693 	CALL SUBOPT_0x66
00171c f469      	BRNE _0x1AC
                 _0x1AD:
                 ;    1691 			*sp++ = toupper(*qp++);
00171d 931f      	PUSH R17
00171e 930f      	PUSH R16
00171f 5f0f
001720 4f1f      	__ADDWRN 16,17,1
001721 01d9      	MOVW R26,R18
001722 5f2f
001723 4f3f      	__ADDWRN 18,19,1
001724 940e 3566 	CALL SUBOPT_0x43
001726 91af      	POP  R26
001727 91bf      	POP  R27
001728 93ec      	ST   X,R30
                 ;    1692 		else if (*qp=='\\')
001729 c015      	RJMP _0x1AF
                 _0x1AC:
00172a 940e 368b 	CALL SUBOPT_0x64
00172c f479      	BRNE _0x1B0
                 ;    1693 		{
                 ;    1694 			*sp = 0;	// terminate string
00172d 940e 3697 	CALL SUBOPT_0x67
                 ;    1695 			if (_FF_chdir(path_temp))
00172f 81ec      	LDD  R30,Y+4
001730 81fd      	LDD  R31,Y+4+1
001731 940e 369b 	CALL SUBOPT_0x68
001733 f019      	BREQ _0x1B1
                 ;    1696 			{
                 ;    1697 				return (EOF);
001734 efef      	LDI  R30,LOW(65535)
001735 efff      	LDI  R31,HIGH(65535)
001736 c00d      	RJMP _0x50E
                 ;    1698 			}
                 ;    1699 			sp = path_temp;
                 _0x1B1:
001737 810c
001738 811d      	__GETWRS 16,17,4
                 ;    1700 			qp++;
001739 5f2f
00173a 4f3f      	__ADDWRN 18,19,1
                 ;    1701 		}
                 ;    1702 		else
00173b c003      	RJMP _0x1B2
                 _0x1B0:
                 ;    1703 			return (EOF);
00173c efef      	LDI  R30,LOW(65535)
00173d efff      	LDI  R31,HIGH(65535)
00173e c005      	RJMP _0x50E
                 ;    1704 	}
                 _0x1B2:
                 _0x1AF:
00173f cfd3      	RJMP _0x1A9
                 _0x1AB:
                 ;    1705 	
                 ;    1706 	*sp = 0;		// terminate string
001740 940e 3697 	CALL SUBOPT_0x67
                 ;    1707 	return (0);
001742 e0e0      	LDI  R30,LOW(0)
001743 e0f0      	LDI  R31,HIGH(0)
                 _0x50E:
001744 940e 401d 	CALL __LOADLOCR4
001746 962a      	ADIW R28,10
001747 9508      	RET
                 ;    1708 }
                 ;    1709 
                 ;    1710 #ifndef _READ_ONLY_
                 ;    1711 int mkdir(char *F_PATH)
                 ;    1712 {
                 _mkdir:
                 ;    1713 	unsigned char *sp, *qp;
                 ;    1714 	unsigned char fpath[14];
                 ;    1715 	unsigned int c, calc_temp, clus_temp, calc_time, calc_date;
                 ;    1716 	int s;
                 ;    1717 	unsigned long addr_temp, path_addr_temp;
                 ;    1718     
                 ;    1719     addr_temp = 0;	// save local dir addr
001748 97a0      	SBIW R28,32
001749 940e 4014 	CALL __SAVELOCR6
                 ;	*F_PATH -> Y+38
                 ;	*sp -> R16,R17
                 ;	*qp -> R18,R19
                 ;	fpath -> Y+24
                 ;	c -> R20,R21
                 ;	calc_temp -> Y+22
                 ;	clus_temp -> Y+20
                 ;	calc_time -> Y+18
                 ;	calc_date -> Y+16
                 ;	s -> Y+14
                 ;	addr_temp -> Y+10
                 ;	path_addr_temp -> Y+6
00174b e0e0
00174c 87ea
00174d 87eb
00174e 87ec
00174f 87ed      	__CLRD1S 10
                 ;    1720     
                 ;    1721     if (_FF_checkdir(F_PATH, &addr_temp, fpath))
001750 a1ee      	LDD  R30,Y+38
001751 a1ff      	LDD  R31,Y+38+1
001752 940e 36a1 	CALL SUBOPT_0x69
001754 01fe      	MOVW R30,R28
001755 967c      	ADIW R30,28
001756 940e 36a8 	CALL SUBOPT_0x6A
001758 f019      	BREQ _0x1B3
                 ;    1722 	{
                 ;    1723 		_FF_DIR_ADDR = addr_temp;
001759 940e 36ae 	CALL SUBOPT_0x6B
                 ;    1724 		return (EOF);
00175b c18a      	RJMP _0x50D
                 ;    1725 	}
                 ;    1726     
                 ;    1727 	path_addr_temp = _FF_DIR_ADDR;
                 _0x1B3:
00175c 91e0 0726 	LDS  R30,__FF_DIR_ADDR
00175e 91f0 0727 	LDS  R31,__FF_DIR_ADDR+1
001760 9160 0728 	LDS  R22,__FF_DIR_ADDR+2
001762 9170 0729 	LDS  R23,__FF_DIR_ADDR+3
001764 83ee
001765 83ff
001766 8768
001767 8779      	__PUTD1S 6
                 ;    1728 	s = scan_directory(&path_addr_temp, fpath);
001768 01fe      	MOVW R30,R28
001769 9636      	ADIW R30,6
00176a 93fa      	ST   -Y,R31
00176b 93ea      	ST   -Y,R30
00176c 01fe      	MOVW R30,R28
00176d 967a      	ADIW R30,26
00176e 940e 36bd 	CALL SUBOPT_0x6C
                 ;    1729 	if ((s) || (path_addr_temp==0))
001770 85ee      	LDD  R30,Y+14
001771 85ff      	LDD  R31,Y+14+1
001772 9730      	SBIW R30,0
001773 f439      	BRNE _0x1B5
001774 81ae
001775 81bf
001776 8588
001777 8599      	__GETD2S 6
001778 940e 4004 	CALL __CPD02
00177a f419      	BRNE _0x1B4
                 _0x1B5:
                 ;    1730 	{
                 ;    1731 		_FF_DIR_ADDR = addr_temp;
00177b 940e 36ae 	CALL SUBOPT_0x6B
                 ;    1732 		return (EOF);
00177d c168      	RJMP _0x50D
                 ;    1733 	}
                 ;    1734 	clus_temp = prev_cluster(0);				
                 _0x1B4:
00177e 940e 36c4 	CALL SUBOPT_0x6D
001780 8bec      	STD  Y+20,R30
001781 8bfd      	STD  Y+20+1,R31
                 ;    1735 	calc_temp = path_addr_temp % BPB_BytsPerSec;
001782 940e 36ca 	CALL SUBOPT_0x6E
001784 8bee      	STD  Y+22,R30
001785 8bff      	STD  Y+22+1,R31
                 ;    1736 	path_addr_temp -= calc_temp;
001786 940e 36d4 	CALL SUBOPT_0x6F
                 ;    1737 	if (_FF_read(path_addr_temp)==0)	
001788 f419      	BRNE _0x1B7
                 ;    1738 	{
                 ;    1739 		_FF_DIR_ADDR = addr_temp;
001789 940e 36ae 	CALL SUBOPT_0x6B
                 ;    1740 		return (EOF);
00178b c15a      	RJMP _0x50D
                 ;    1741 	}
                 ;    1742 	
                 ;    1743 	sp = &_FF_buff[calc_temp];
                 _0x1B7:
00178c 89ee      	LDD  R30,Y+22
00178d 89ff      	LDD  R31,Y+22+1
00178e 5fec      	SUBI R30,LOW(-__FF_buff)
00178f 4ffa      	SBCI R31,HIGH(-__FF_buff)
001790 018f      	MOVW R16,R30
                 ;    1744 	qp = fpath;
001791 01fe      	MOVW R30,R28
001792 9678      	ADIW R30,24
001793 019f      	MOVW R18,R30
                 ;    1745 
                 ;    1746 	for (c=0; c<11; c++)	// Write Folder name
001794 e040
001795 e050      	__GETWRN 20,21,0
                 _0x1B9:
001796 304b
001797 e0e0
001798 075e      	__CPWRN 20,21,11
001799 f4b0      	BRSH _0x1BA
                 ;    1747 	{
                 ;    1748 	 	if (*qp)
00179a 940e 368f 	CALL SUBOPT_0x65
00179c f059      	BREQ _0x1BB
                 ;    1749 		 	*sp++ = *qp++;
00179d 931f      	PUSH R17
00179e 930f      	PUSH R16
00179f 5f0f
0017a0 4f1f      	__ADDWRN 16,17,1
0017a1 01d9      	MOVW R26,R18
0017a2 5f2f
0017a3 4f3f      	__ADDWRN 18,19,1
0017a4 91ec      	LD   R30,X
0017a5 91af      	POP  R26
0017a6 91bf      	POP  R27
0017a7 c004      	RJMP _0x528
                 ;    1750 		else 
                 _0x1BB:
                 ;    1751 			*sp++ = 0x20;	// '0' pad
0017a8 01d8      	MOVW R26,R16
0017a9 5f0f
0017aa 4f1f      	__ADDWRN 16,17,1
0017ab e2e0      	LDI  R30,LOW(32)
                 _0x528:
0017ac 93ec      	ST   X,R30
                 ;    1752 	}
0017ad 5f4f
0017ae 4f5f      	__ADDWRN 20,21,1
0017af cfe6      	RJMP _0x1B9
                 _0x1BA:
                 ;    1753 	*sp++ = 0x10;				// Attribute bit auto set to "Directory"
0017b0 01d8      	MOVW R26,R16
0017b1 5f0f
0017b2 4f1f      	__ADDWRN 16,17,1
0017b3 e1e0      	LDI  R30,LOW(16)
0017b4 93ec      	ST   X,R30
                 ;    1754 	*sp++ = 0;					// Reserved for WinNT
0017b5 01d8      	MOVW R26,R16
0017b6 5f0f
0017b7 4f1f      	__ADDWRN 16,17,1
0017b8 940e 36e5 	CALL SUBOPT_0x70
                 ;    1755 	*sp++ = 0;					// Mili-second stamp for create
0017ba 5f0f
0017bb 4f1f      	__ADDWRN 16,17,1
0017bc e0e0      	LDI  R30,LOW(0)
0017bd 93ec      	ST   X,R30
                 ;    1756 	for (c=0; c<4; c++)			// set create and modify time to '0'
0017be e040
0017bf e050      	__GETWRN 20,21,0
                 _0x1BE:
0017c0 3044
0017c1 e0e0
0017c2 075e      	__CPWRN 20,21,4
0017c3 f440      	BRSH _0x1BF
                 ;    1757 		*sp++ = 0;
0017c4 01d8      	MOVW R26,R16
0017c5 5f0f
0017c6 4f1f      	__ADDWRN 16,17,1
0017c7 e0e0      	LDI  R30,LOW(0)
0017c8 93ec      	ST   X,R30
                 ;    1758 	*sp++ = 0;					// File access date (2 bytes)
0017c9 5f4f
0017ca 4f5f      	__ADDWRN 20,21,1
0017cb cff4      	RJMP _0x1BE
                 _0x1BF:
0017cc 01d8      	MOVW R26,R16
0017cd 5f0f
0017ce 4f1f      	__ADDWRN 16,17,1
0017cf 940e 36e5 	CALL SUBOPT_0x70
                 ;    1759 	*sp++ = 0;
0017d1 5f0f
0017d2 4f1f      	__ADDWRN 16,17,1
0017d3 940e 36e5 	CALL SUBOPT_0x70
                 ;    1760 	*sp++ = 0;					// 0 for FAT12/16 (2 bytes)
0017d5 5f0f
0017d6 4f1f      	__ADDWRN 16,17,1
0017d7 940e 36e5 	CALL SUBOPT_0x70
                 ;    1761 	*sp++ = 0;
0017d9 5f0f
0017da 4f1f      	__ADDWRN 16,17,1
0017db e0e0      	LDI  R30,LOW(0)
0017dc 93ec      	ST   X,R30
                 ;    1762 	#ifdef _RTC_ON_
                 ;    1763 		rtc_get_timeNdate(&rtc_hour, &rtc_min, &rtc_sec, &rtc_date, &rtc_month, (int *)&rtc_year);	    			
                 ;    1764 		calc_time = ((int)rtc_sec&0x1F) | (((int)rtc_min&0x3F)<<5) | (((int)rtc_hour&0x1F)<<11);
                 ;    1765 		*sp++ = calc_time&0x00FF;	// File modify Time 
                 ;    1766 		*sp++ = (calc_time&0xFF00) >> 8;
                 ;    1767 		calc_date = ((int)rtc_date&0x1F) | (((int)rtc_month&0x0F)<<5) | (((rtc_year-1980)&0x7F)<<9);
                 ;    1768 		*sp++ = calc_date&0x00FF;	// File modify Date
                 ;    1769 		*sp++ = (calc_date&0xFF00) >> 8;
                 ;    1770 	#else
                 ;    1771 		for (c=0; c<4; c++)			// set file create and modify time to '0'
0017dd e040
0017de e050      	__GETWRN 20,21,0
                 _0x1C1:
0017df 3044
0017e0 e0e0
0017e1 075e      	__CPWRN 20,21,4
0017e2 f440      	BRSH _0x1C2
                 ;    1772 			*sp++ = 0;
0017e3 01d8      	MOVW R26,R16
0017e4 5f0f
0017e5 4f1f      	__ADDWRN 16,17,1
0017e6 e0e0      	LDI  R30,LOW(0)
0017e7 93ec      	ST   X,R30
                 ;    1773 	#endif
                 ;    1774 	
                 ;    1775 	*sp++ = clus_temp & 0xFF;				// Starting cluster (2 bytes)
0017e8 5f4f
0017e9 4f5f      	__ADDWRN 20,21,1
0017ea cff4      	RJMP _0x1C1
                 _0x1C2:
0017eb 931f      	PUSH R17
0017ec 930f      	PUSH R16
0017ed 5f0f
0017ee 4f1f      	__ADDWRN 16,17,1
0017ef 89ec      	LDD  R30,Y+20
0017f0 89fd      	LDD  R31,Y+20+1
0017f1 70f0      	ANDI R31,HIGH(0xFF)
0017f2 91af      	POP  R26
0017f3 91bf      	POP  R27
0017f4 93ec      	ST   X,R30
                 ;    1776 	*sp++ = (clus_temp >> 8) & 0xFF;
0017f5 931f      	PUSH R17
0017f6 930f      	PUSH R16
0017f7 5f0f
0017f8 4f1f      	__ADDWRN 16,17,1
0017f9 89ed      	LDD  R30,Y+21
0017fa 70f0      	ANDI R31,HIGH(0x0)
0017fb 91af      	POP  R26
0017fc 91bf      	POP  R27
0017fd 93ec      	ST   X,R30
                 ;    1777 	for (c=0; c<4; c++)
0017fe e040
0017ff e050      	__GETWRN 20,21,0
                 _0x1C4:
001800 3044
001801 e0e0
001802 075e      	__CPWRN 20,21,4
001803 f440      	BRSH _0x1C5
                 ;    1778 		*sp++ = 0;			// File length (0 for folder)
001804 01d8      	MOVW R26,R16
001805 5f0f
001806 4f1f      	__ADDWRN 16,17,1
001807 e0e0      	LDI  R30,LOW(0)
001808 93ec      	ST   X,R30
                 ;    1779 
                 ;    1780 	
                 ;    1781 	if (_FF_write(path_addr_temp)==0)	// write entry to card
001809 5f4f
00180a 4f5f      	__ADDWRN 20,21,1
00180b cff4      	RJMP _0x1C4
                 _0x1C5:
00180c 81ee
00180d 81ff
00180e 8568
00180f 8579      	__GETD1S 6
001810 940e 367f 	CALL SUBOPT_0x62
001812 f419      	BRNE _0x1C6
                 ;    1782 	{
                 ;    1783 		_FF_DIR_ADDR = addr_temp;
001813 940e 36ae 	CALL SUBOPT_0x6B
                 ;    1784 		return (EOF);
001815 c0d0      	RJMP _0x50D
                 ;    1785 	}
                 ;    1786 	if (write_clus_table(clus_temp, 0xFFFF, SINGLE)==0)
                 _0x1C6:
001816 89ec      	LDD  R30,Y+20
001817 89fd      	LDD  R31,Y+20+1
001818 93fa      	ST   -Y,R31
001819 93ea      	ST   -Y,R30
00181a efef      	LDI  R30,LOW(65535)
00181b efff      	LDI  R31,HIGH(65535)
00181c 940e 36e9 	CALL SUBOPT_0x71
00181e 940e 1414 	CALL _write_clus_table
001820 30e0      	CPI  R30,0
001821 f419      	BRNE _0x1C7
                 ;    1787 	{
                 ;    1788 		_FF_DIR_ADDR = addr_temp;
001822 940e 36ae 	CALL SUBOPT_0x6B
                 ;    1789 		return (EOF);
001824 c0c1      	RJMP _0x50D
                 ;    1790 	}
                 ;    1791 	if (_FF_read(_FF_DIR_ADDR)==0)	
                 _0x1C7:
001825 91e0 0726 	LDS  R30,__FF_DIR_ADDR
001827 91f0 0727 	LDS  R31,__FF_DIR_ADDR+1
001829 9160 0728 	LDS  R22,__FF_DIR_ADDR+2
00182b 9170 0729 	LDS  R23,__FF_DIR_ADDR+3
00182d 940e 337d 	CALL SUBOPT_0xC
00182f f419      	BRNE _0x1C8
                 ;    1792 	{
                 ;    1793 		_FF_DIR_ADDR = addr_temp;
001830 940e 36ae 	CALL SUBOPT_0x6B
                 ;    1794 		return (EOF);
001832 c0b3      	RJMP _0x50D
                 ;    1795 	}
                 ;    1796 	if (_FF_DIR_ADDR != _FF_ROOT_ADDR)
                 _0x1C8:
001833 940e 345f 	CALL SUBOPT_0x28
001835 f139      	BREQ _0x1C9
                 ;    1797 	{
                 ;    1798 		sp = &_FF_buff[0];
001836 e004
001837 e015      	__POINTWRM 16,17,__FF_buff
                 ;    1799 		qp = &_FF_buff[0x20];
001838 e224
001839 e035      	__POINTWRMN 18,19,__FF_buff,32
                 ;    1800 		for (c=0; c<0x20; c++)
00183a e040
00183b e050      	__GETWRN 20,21,0
                 _0x1CB:
00183c 3240
00183d e0e0
00183e 075e      	__CPWRN 20,21,32
00183f f470      	BRSH _0x1CC
                 ;    1801 			*qp++ = *sp++;
001840 933f      	PUSH R19
001841 932f      	PUSH R18
001842 5f2f
001843 4f3f      	__ADDWRN 18,19,1
001844 01d8      	MOVW R26,R16
001845 5f0f
001846 4f1f      	__ADDWRN 16,17,1
001847 91ec      	LD   R30,X
001848 91af      	POP  R26
001849 91bf      	POP  R27
00184a 93ec      	ST   X,R30
                 ;    1802 		_FF_buff[1] = ' ';
00184b 5f4f
00184c 4f5f      	__ADDWRN 20,21,1
00184d cfee      	RJMP _0x1CB
                 _0x1CC:
00184e e2e0      	LDI  R30,LOW(32)
00184f 93e0 0505 	__PUTB1MN __FF_buff,1
                 ;    1803 		for (c=0x3C; c<0x40; c++)
001851 e34c
001852 e050      	__GETWRN 20,21,60
                 _0x1CE:
001853 3440
001854 e0e0
001855 075e      	__CPWRN 20,21,64
001856 f428      	BRSH _0x1CF
                 ;    1804 			_FF_buff[c] = 0;
001857 940e 36ee 	CALL SUBOPT_0x72
                 ;    1805 	}
001859 5f4f
00185a 4f5f      	__ADDWRN 20,21,1
00185b cff7      	RJMP _0x1CE
                 _0x1CF:
                 ;    1806 	else
00185c c027      	RJMP _0x1D0
                 _0x1C9:
                 ;    1807 	{
                 ;    1808 		for (c=0x01; c<0x0B; c++)
00185d e041
00185e e050      	__GETWRN 20,21,1
                 _0x1D2:
00185f 304b
001860 e0e0
001861 075e      	__CPWRN 20,21,11
001862 f428      	BRSH _0x1D3
                 ;    1809 			_FF_buff[c] = 0x20;
001863 940e 36f5 	CALL SUBOPT_0x73
                 ;    1810 		for (c=0x0C; c<0x20; c++)
001865 5f4f
001866 4f5f      	__ADDWRN 20,21,1
001867 cff7      	RJMP _0x1D2
                 _0x1D3:
001868 e04c
001869 e050      	__GETWRN 20,21,12
                 _0x1D5:
00186a 3240
00186b e0e0
00186c 075e      	__CPWRN 20,21,32
00186d f428      	BRSH _0x1D6
                 ;    1811 			_FF_buff[c] = 0;
00186e 940e 36ee 	CALL SUBOPT_0x72
                 ;    1812 		_FF_buff[0] = '.';
001870 5f4f
001871 4f5f      	__ADDWRN 20,21,1
001872 cff7      	RJMP _0x1D5
                 _0x1D6:
001873 e2ee      	LDI  R30,LOW(46)
001874 93e0 0504 	STS  __FF_buff,R30
                 ;    1813 		_FF_buff[0x0B] = 0x10;
001876 e1e0      	LDI  R30,LOW(16)
001877 93e0 050f 	__PUTB1MN __FF_buff,11
                 ;    1814 		#ifdef _RTC_ON_
                 ;    1815 			_FF_buff[0x0E] = calc_time&0x00FF;	// File modify Time 
                 ;    1816 			_FF_buff[0x0F] = (calc_time&0xFF00) >> 8;
                 ;    1817 			_FF_buff[0x10] = calc_date&0x00FF;	// File modify Date
                 ;    1818 			_FF_buff[0x11] = (calc_date&0xFF00) >> 8;
                 ;    1819 			_FF_buff[0x16] = calc_time&0x00FF;	// File modify Time 
                 ;    1820 			_FF_buff[0x17] = (calc_time&0xFF00) >> 8;
                 ;    1821 			_FF_buff[0x18] = calc_date&0x00FF;	// File modify Date
                 ;    1822 			_FF_buff[0x19] = (calc_date&0xFF00) >> 8;
                 ;    1823 		#endif
                 ;    1824 		for (c=0x3A; c<0x40; c++)
001879 e34a
00187a e050      	__GETWRN 20,21,58
                 _0x1D8:
00187b 3440
00187c e0e0
00187d 075e      	__CPWRN 20,21,64
00187e f428      	BRSH _0x1D9
                 ;    1825 			_FF_buff[c] = 0;
00187f 940e 36ee 	CALL SUBOPT_0x72
                 ;    1826 	}
001881 5f4f
001882 4f5f      	__ADDWRN 20,21,1
001883 cff7      	RJMP _0x1D8
                 _0x1D9:
                 _0x1D0:
                 ;    1827 	for (c=0x22; c<0x2B; c++)
001884 e242
001885 e050      	__GETWRN 20,21,34
                 _0x1DB:
001886 324b
001887 e0e0
001888 075e      	__CPWRN 20,21,43
001889 f428      	BRSH _0x1DC
                 ;    1828 		_FF_buff[c] = 0x20;
00188a 940e 36f5 	CALL SUBOPT_0x73
                 ;    1829 	#ifdef _RTC_ON_
                 ;    1830 		_FF_buff[0x2E] = calc_time&0x00FF;	// File modify Time 
                 ;    1831 		_FF_buff[0x2F] = (calc_time&0xFF00) >> 8;
                 ;    1832 		_FF_buff[0x30] = calc_date&0x00FF;	// File modify Date
                 ;    1833 		_FF_buff[0x31] = (calc_date&0xFF00) >> 8;
                 ;    1834 		_FF_buff[0x36] = calc_time&0x00FF;	// File modify Time 
                 ;    1835 		_FF_buff[0x37] = (calc_time&0xFF00) >> 8;
                 ;    1836 		_FF_buff[0x38] = calc_date&0x00FF;	// File modify Date
                 ;    1837 		_FF_buff[0x39] = (calc_date&0xFF00) >> 8;
                 ;    1838 	#endif
                 ;    1839 	_FF_buff[0x20] = '.';
00188c 5f4f
00188d 4f5f      	__ADDWRN 20,21,1
00188e cff7      	RJMP _0x1DB
                 _0x1DC:
00188f e2ee      	LDI  R30,LOW(46)
001890 93e0 0524 	__PUTB1MN __FF_buff,32
                 ;    1840 	_FF_buff[0x21] = '.';
001892 93e0 0525 	__PUTB1MN __FF_buff,33
                 ;    1841 	_FF_buff[0x2B] = 0x10;
001894 e1e0      	LDI  R30,LOW(16)
001895 93e0 052f 	__PUTB1MN __FF_buff,43
                 ;    1842 
                 ;    1843 	_FF_buff[0x1A] = clus_temp & 0xFF;				// Starting cluster (2 bytes)
001897 89ec      	LDD  R30,Y+20
001898 93e0 051e 	__PUTB1MN __FF_buff,26
                 ;    1844 	_FF_buff[0x1B] = (clus_temp >> 8) & 0xFF;
00189a 89ed      	LDD  R30,Y+21
00189b 93e0 051f 	__PUTB1MN __FF_buff,27
                 ;    1845 	for (c=0x40; c<BPB_BytsPerSec; c++)
00189d e440
00189e e050      	__GETWRN 20,21,64
                 _0x1DE:
00189f 1546
0018a0 0557      	__CPWRR 20,21,6,7
0018a1 f428      	BRSH _0x1DF
                 ;    1846 		_FF_buff[c] = 0;
0018a2 940e 36ee 	CALL SUBOPT_0x72
                 ;    1847 	path_addr_temp = clust_to_addr(clus_temp);
0018a4 5f4f
0018a5 4f5f      	__ADDWRN 20,21,1
0018a6 cff8      	RJMP _0x1DE
                 _0x1DF:
0018a7 940e 34a9 	CALL SUBOPT_0x32
                 ;    1848 
                 ;    1849 	_FF_DIR_ADDR = addr_temp;	// reset dir addr
0018a9 85ea
0018aa 85fb
0018ab 856c
0018ac 857d      	__GETD1S 10
0018ad 93e0 0726 	STS  __FF_DIR_ADDR,R30
0018af 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
0018b1 9360 0728 	STS  __FF_DIR_ADDR+2,R22
0018b3 9370 0729 	STS  __FF_DIR_ADDR+3,R23
                 ;    1850 	if (_FF_write(path_addr_temp)==0)	
0018b5 81ee
0018b6 81ff
0018b7 8568
0018b8 8579      	__GETD1S 6
0018b9 940e 367f 	CALL SUBOPT_0x62
0018bb f419      	BRNE _0x1E0
                 ;    1851 		return (EOF);
0018bc efef      	LDI  R30,LOW(65535)
0018bd efff      	LDI  R31,HIGH(65535)
0018be c027      	RJMP _0x50D
                 ;    1852 	for (c=0; c<0x40; c++)
                 _0x1E0:
0018bf e040
0018c0 e050      	__GETWRN 20,21,0
                 _0x1E2:
0018c1 3440
0018c2 e0e0
0018c3 075e      	__CPWRN 20,21,64
0018c4 f428      	BRSH _0x1E3
                 ;    1853 		_FF_buff[c] = 0;
0018c5 940e 36ee 	CALL SUBOPT_0x72
                 ;    1854 	for (c=1; c<BPB_SecPerClus; c++)
0018c7 5f4f
0018c8 4f5f      	__ADDWRN 20,21,1
0018c9 cff7      	RJMP _0x1E2
                 _0x1E3:
0018ca e041
0018cb e050      	__GETWRN 20,21,1
                 _0x1E5:
0018cc 2de8      	MOV  R30,R8
0018cd 01da      	MOVW R26,R20
0018ce e0f0      	LDI  R31,0
0018cf 17ae      	CP   R26,R30
0018d0 07bf      	CPC  R27,R31
0018d1 f490      	BRSH _0x1E6
                 ;    1855 	{
                 ;    1856 		if (_FF_write(path_addr_temp+((long)c*0x200))==0)	
0018d2 01fa      	MOVW R30,R20
0018d3 940e 36fc 	CALL SUBOPT_0x74
0018d5 81ae
0018d6 81bf
0018d7 8588
0018d8 8599      	__GETD2S 6
0018d9 940e 3d12 	CALL __ADDD12
0018db 940e 367f 	CALL SUBOPT_0x62
0018dd f419      	BRNE _0x1E7
                 ;    1857 			return (EOF);
0018de efef      	LDI  R30,LOW(65535)
0018df efff      	LDI  R31,HIGH(65535)
0018e0 c005      	RJMP _0x50D
                 ;    1858 	}
                 _0x1E7:
0018e1 5f4f
0018e2 4f5f      	__ADDWRN 20,21,1
0018e3 cfe8      	RJMP _0x1E5
                 _0x1E6:
                 ;    1859 	return (0);		
0018e4 e0e0      	LDI  R30,LOW(0)
0018e5 e0f0      	LDI  R31,HIGH(0)
                 _0x50D:
0018e6 940e 401b 	CALL __LOADLOCR6
0018e8 96a8      	ADIW R28,40
0018e9 9508      	RET
                 ;    1860 }
                 ;    1861 
                 ;    1862 int rmdir(char *F_PATH)
                 ;    1863 {
                 _rmdir:
                 ;    1864 	unsigned char *sp;
                 ;    1865 	unsigned char fpath[14];
                 ;    1866 	unsigned int c, n, calc_temp, clus_temp;
                 ;    1867 	int s;
                 ;    1868 	unsigned long addr_temp, path_addr_temp;
                 ;    1869 	
                 ;    1870 	addr_temp = 0;	// save local dir addr
0018ea 976c      	SBIW R28,28
0018eb 940e 4014 	CALL __SAVELOCR6
                 ;	*F_PATH -> Y+34
                 ;	*sp -> R16,R17
                 ;	fpath -> Y+20
                 ;	c -> R18,R19
                 ;	n -> R20,R21
                 ;	calc_temp -> Y+18
                 ;	clus_temp -> Y+16
                 ;	s -> Y+14
                 ;	addr_temp -> Y+10
                 ;	path_addr_temp -> Y+6
0018ed e0e0
0018ee 87ea
0018ef 87eb
0018f0 87ec
0018f1 87ed      	__CLRD1S 10
                 ;    1871     
                 ;    1872     if (_FF_checkdir(F_PATH, &addr_temp, fpath))
0018f2 a1ea      	LDD  R30,Y+34
0018f3 a1fb      	LDD  R31,Y+34+1
0018f4 940e 36a1 	CALL SUBOPT_0x69
0018f6 01fe      	MOVW R30,R28
0018f7 9678      	ADIW R30,24
0018f8 940e 36a8 	CALL SUBOPT_0x6A
0018fa f019      	BREQ _0x1E8
                 ;    1873 	{
                 ;    1874 		_FF_DIR_ADDR = addr_temp;
0018fb 940e 36ae 	CALL SUBOPT_0x6B
                 ;    1875 		return (EOF);
0018fd c0e5      	RJMP _0x50C
                 ;    1876 	}
                 ;    1877 	if (fpath[0]==0)
                 _0x1E8:
0018fe 89ec      	LDD  R30,Y+20
0018ff 30e0      	CPI  R30,0
001900 f419      	BRNE _0x1E9
                 ;    1878 	{
                 ;    1879 		_FF_DIR_ADDR = addr_temp;
001901 940e 36ae 	CALL SUBOPT_0x6B
                 ;    1880 		return (EOF);
001903 c0df      	RJMP _0x50C
                 ;    1881 	}
                 ;    1882 
                 ;    1883     path_addr_temp = _FF_DIR_ADDR;	// save addr for later
                 _0x1E9:
001904 91e0 0726 	LDS  R30,__FF_DIR_ADDR
001906 91f0 0727 	LDS  R31,__FF_DIR_ADDR+1
001908 9160 0728 	LDS  R22,__FF_DIR_ADDR+2
00190a 9170 0729 	LDS  R23,__FF_DIR_ADDR+3
00190c 83ee
00190d 83ff
00190e 8768
00190f 8779      	__PUTD1S 6
                 ;    1884 	
                 ;    1885 	if (_FF_chdir(fpath))	// Change directory to dir to be deleted
001910 01fe      	MOVW R30,R28
001911 9674      	ADIW R30,20
001912 940e 369b 	CALL SUBOPT_0x68
001914 f019      	BREQ _0x1EA
                 ;    1886 	{	
                 ;    1887 		_FF_DIR_ADDR = addr_temp;
001915 940e 36ae 	CALL SUBOPT_0x6B
                 ;    1888 		return (EOF);
001917 c0cb      	RJMP _0x50C
                 ;    1889 	}
                 ;    1890 	if ((_FF_DIR_ADDR==_FF_ROOT_ADDR)||(_FF_DIR_ADDR==addr_temp))
                 _0x1EA:
001918 940e 345f 	CALL SUBOPT_0x28
00191a f079      	BREQ _0x1EC
00191b 85ea
00191c 85fb
00191d 856c
00191e 857d      	__GETD1S 10
00191f 91a0 0726 	LDS  R26,__FF_DIR_ADDR
001921 91b0 0727 	LDS  R27,__FF_DIR_ADDR+1
001923 9180 0728 	LDS  R24,__FF_DIR_ADDR+2
001925 9190 0729 	LDS  R25,__FF_DIR_ADDR+3
001927 940e 400a 	CALL __CPD12
001929 f419      	BRNE _0x1EB
                 _0x1EC:
                 ;    1891 	{	// if trying to delete root, or current dir error
                 ;    1892 		_FF_DIR_ADDR = addr_temp;
00192a 940e 36ae 	CALL SUBOPT_0x6B
                 ;    1893 		return (EOF);
00192c c0b6      	RJMP _0x50C
                 ;    1894 	}
                 ;    1895 	
                 ;    1896 	for (c=0; c<BPB_SecPerClus; c++)
                 _0x1EB:
00192d e020
00192e e030      	__GETWRN 18,19,0
                 _0x1EF:
00192f 2de8      	MOV  R30,R8
001930 01d9      	MOVW R26,R18
001931 e0f0      	LDI  R31,0
001932 17ae      	CP   R26,R30
001933 07bf      	CPC  R27,R31
001934 f010      	BRLO PC+3
001935 940c 197d 	JMP _0x1F0
                 ;    1897 	{	// scan through dir to see if it is empty
                 ;    1898 		if (_FF_read(_FF_DIR_ADDR+((long)c*0x200))==0)
001937 01f9      	MOVW R30,R18
001938 940e 36fc 	CALL SUBOPT_0x74
00193a 91a0 0726 	LDS  R26,__FF_DIR_ADDR
00193c 91b0 0727 	LDS  R27,__FF_DIR_ADDR+1
00193e 9180 0728 	LDS  R24,__FF_DIR_ADDR+2
001940 9190 0729 	LDS  R25,__FF_DIR_ADDR+3
001942 940e 3d12 	CALL __ADDD12
001944 940e 337d 	CALL SUBOPT_0xC
001946 f419      	BRNE _0x1F1
                 ;    1899 		{	// read sectors 	
                 ;    1900 			_FF_DIR_ADDR = addr_temp;
001947 940e 36ae 	CALL SUBOPT_0x6B
                 ;    1901 			return (EOF);
001949 c099      	RJMP _0x50C
                 ;    1902 		}
                 ;    1903 		for (n=0; n<0x10; n++)
                 _0x1F1:
00194a e040
00194b e050      	__GETWRN 20,21,0
                 _0x1F3:
00194c 3140
00194d e0e0
00194e 075e      	__CPWRN 20,21,16
00194f f550      	BRSH _0x1F4
                 ;    1904 		{
                 ;    1905 			if ((c==0)&&(n==0))	// skip first 2 entries 
001950 2400      	CLR  R0
001951 1602      	CP   R0,R18
001952 0603      	CPC  R0,R19
001953 f421      	BRNE _0x1F6
001954 2400      	CLR  R0
001955 1604      	CP   R0,R20
001956 0605      	CPC  R0,R21
001957 f009      	BREQ _0x1F7
                 _0x1F6:
001958 c002      	RJMP _0x1F5
                 _0x1F7:
                 ;    1906 				n=2;
001959 e042
00195a e050      	__GETWRN 20,21,2
                 ;    1907 			sp = &_FF_buff[n*0x20];
                 _0x1F5:
00195b 940e 3433 	CALL SUBOPT_0x23
00195d 5fec      	SUBI R30,LOW(-__FF_buff)
00195e 4ffa      	SBCI R31,HIGH(-__FF_buff)
00195f 018f      	MOVW R16,R30
                 ;    1908 			if (*sp==0)
001960 940e 3705 	CALL SUBOPT_0x75
001962 f419      	BRNE _0x1F8
                 ;    1909 			{	// 
                 ;    1910 				c = BPB_SecPerClus;
001963 2d28      	MOV  R18,R8
001964 2733      	CLR  R19
                 ;    1911 				break;
001965 c014      	RJMP _0x1F4
                 ;    1912 			}
                 ;    1913 			while (valid_file_char(*sp)==0)
                 _0x1F8:
                 _0x1F9:
001966 01d8      	MOVW R26,R16
001967 940e 33f7 	CALL SUBOPT_0x1D
001969 f469      	BRNE _0x1FB
                 ;    1914 			{
                 ;    1915 				sp++;
00196a 5f0f
00196b 4f1f      	__ADDWRN 16,17,1
                 ;    1916 				if (sp == &_FF_buff[(n*0x20)+0x0A])
00196c 940e 3433 	CALL SUBOPT_0x23
00196e 5fe2
00196f 4ffa      	__ADDW1MN __FF_buff,10
001970 17e0      	CP   R30,R16
001971 07f1      	CPC  R31,R17
001972 f419      	BRNE _0x1FC
                 ;    1917 				{	// a valid file or folder found
                 ;    1918 					_FF_DIR_ADDR = addr_temp;
001973 940e 36ae 	CALL SUBOPT_0x6B
                 ;    1919 					return (EOF);
001975 c06d      	RJMP _0x50C
                 ;    1920 				}
                 ;    1921 			}
                 _0x1FC:
001976 cfef      	RJMP _0x1F9
                 _0x1FB:
                 ;    1922 		}
001977 5f4f
001978 4f5f      	__ADDWRN 20,21,1
001979 cfd2      	RJMP _0x1F3
                 _0x1F4:
                 ;    1923 	}
00197a 5f2f
00197b 4f3f      	__ADDWRN 18,19,1
00197c cfb2      	RJMP _0x1EF
                 _0x1F0:
                 ;    1924 	// directory empty, delete dir
                 ;    1925 	_FF_DIR_ADDR = path_addr_temp;	// go back to previous directory 
00197d 81ee
00197e 81ff
00197f 8568
001980 8579      	__GETD1S 6
001981 93e0 0726 	STS  __FF_DIR_ADDR,R30
001983 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
001985 9360 0728 	STS  __FF_DIR_ADDR+2,R22
001987 9370 0729 	STS  __FF_DIR_ADDR+3,R23
                 ;    1926 
                 ;    1927 	s = scan_directory(&path_addr_temp, fpath);
001989 01fe      	MOVW R30,R28
00198a 9636      	ADIW R30,6
00198b 93fa      	ST   -Y,R31
00198c 93ea      	ST   -Y,R30
00198d 01fe      	MOVW R30,R28
00198e 9676      	ADIW R30,22
00198f 940e 36bd 	CALL SUBOPT_0x6C
                 ;    1928 
                 ;    1929 	_FF_DIR_ADDR = addr_temp;	// reset address
001991 85ea
001992 85fb
001993 856c
001994 857d      	__GETD1S 10
001995 93e0 0726 	STS  __FF_DIR_ADDR,R30
001997 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
001999 9360 0728 	STS  __FF_DIR_ADDR+2,R22
00199b 9370 0729 	STS  __FF_DIR_ADDR+3,R23
                 ;    1930 
                 ;    1931 	if (s == 0)
00199d 85ee      	LDD  R30,Y+14
00199e 85ff      	LDD  R31,Y+14+1
00199f 9730      	SBIW R30,0
0019a0 f419      	BRNE _0x1FD
                 ;    1932 		return (EOF);
0019a1 efef      	LDI  R30,LOW(65535)
0019a2 efff      	LDI  R31,HIGH(65535)
0019a3 c03f      	RJMP _0x50C
                 ;    1933 	
                 ;    1934 	calc_temp = path_addr_temp % BPB_BytsPerSec;
                 _0x1FD:
0019a4 940e 36ca 	CALL SUBOPT_0x6E
0019a6 8bea      	STD  Y+18,R30
0019a7 8bfb      	STD  Y+18+1,R31
                 ;    1935 	path_addr_temp -= calc_temp;
0019a8 940e 36d4 	CALL SUBOPT_0x6F
                 ;    1936 
                 ;    1937 	if (_FF_read(path_addr_temp)==0)	
0019aa f419      	BRNE _0x1FE
                 ;    1938 		return (EOF);
0019ab efef      	LDI  R30,LOW(65535)
0019ac efff      	LDI  R31,HIGH(65535)
0019ad c035      	RJMP _0x50C
                 ;    1939     
                 ;    1940 	clus_temp = ((int) _FF_buff[calc_temp+0x1B] << 8) | _FF_buff[calc_temp+0x1A];
                 _0x1FE:
0019ae 89ea      	LDD  R30,Y+18
0019af 89fb      	LDD  R31,Y+18+1
0019b0 5ee1
0019b1 4ffa      	__ADDW1MN __FF_buff,27
0019b2 940e 34a0 	CALL SUBOPT_0x30
0019b4 89ea      	LDD  R30,Y+18
0019b5 89fb      	LDD  R31,Y+18+1
0019b6 5ee2
0019b7 4ffa      	__ADDW1MN __FF_buff,26
0019b8 940e 34a4 	CALL SUBOPT_0x31
0019ba 8be8      	STD  Y+16,R30
0019bb 8bf9      	STD  Y+16+1,R31
                 ;    1941 	_FF_buff[calc_temp] = 0xE5;
0019bc 89aa      	LDD  R26,Y+18
0019bd 89bb      	LDD  R27,Y+18+1
0019be 5fac      	SUBI R26,LOW(-__FF_buff)
0019bf 4fba      	SBCI R27,HIGH(-__FF_buff)
0019c0 eee5      	LDI  R30,LOW(229)
0019c1 93ec      	ST   X,R30
                 ;    1942 	
                 ;    1943 	if (_FF_buff[calc_temp+0x0B]&0x02)
0019c2 89ea      	LDD  R30,Y+18
0019c3 89fb      	LDD  R31,Y+18+1
0019c4 5fe1
0019c5 4ffa      	__ADDW1MN __FF_buff,11
0019c6 81e0      	LD   R30,Z
0019c7 70e2      	ANDI R30,LOW(0x2)
0019c8 f019      	BREQ _0x1FF
                 ;    1944 		return (EOF);
0019c9 efef      	LDI  R30,LOW(65535)
0019ca efff      	LDI  R31,HIGH(65535)
0019cb c017      	RJMP _0x50C
                 ;    1945 	if (_FF_write(path_addr_temp)==0) 
                 _0x1FF:
0019cc 81ee
0019cd 81ff
0019ce 8568
0019cf 8579      	__GETD1S 6
0019d0 940e 367f 	CALL SUBOPT_0x62
0019d2 f419      	BRNE _0x200
                 ;    1946 		return (EOF);
0019d3 efef      	LDI  R30,LOW(65535)
0019d4 efff      	LDI  R31,HIGH(65535)
0019d5 c00d      	RJMP _0x50C
                 ;    1947 	if (erase_clus_chain(clus_temp)==0)
                 _0x200:
0019d6 89e8      	LDD  R30,Y+16
0019d7 89f9      	LDD  R31,Y+16+1
0019d8 93fa      	ST   -Y,R31
0019d9 93ea      	ST   -Y,R30
0019da 940e 161d 	CALL _erase_clus_chain
0019dc 30e0      	CPI  R30,0
0019dd f419      	BRNE _0x201
                 ;    1948 		return (EOF);
0019de efef      	LDI  R30,LOW(65535)
0019df efff      	LDI  R31,HIGH(65535)
0019e0 c002      	RJMP _0x50C
                 ;    1949 	
                 ;    1950     return (0);
                 _0x201:
0019e1 e0e0      	LDI  R30,LOW(0)
0019e2 e0f0      	LDI  R31,HIGH(0)
                 _0x50C:
0019e3 940e 401b 	CALL __LOADLOCR6
0019e5 96a4      	ADIW R28,36
0019e6 9508      	RET
                 ;    1951 }
                 ;    1952 #endif
                 ;    1953 
                 ;    1954 int chdirc(char flash *F_PATH)
                 ;    1955 {
                 ;    1956 	unsigned char fpath[_FF_PATH_LENGTH];
                 ;    1957 	int c;
                 ;    1958 	
                 ;    1959 	for (c=0; c<_FF_PATH_LENGTH; c++)
                 ;	*F_PATH -> Y+102
                 ;	fpath -> Y+2
                 ;	c -> R16,R17
                 ;    1960 	{
                 ;    1961 		fpath[c] = F_PATH[c];
                 ;    1962 		if (F_PATH[c]==0)
                 ;    1963 			break;
                 ;    1964 	}
                 ;    1965 	return (chdir(fpath));
                 ;    1966 }
                 ;    1967 
                 ;    1968 int chdir(char *F_PATH)
                 ;    1969 {
                 _chdir:
                 ;    1970 	unsigned char *qp, *sp, fpath[14], valid_flag;
                 ;    1971 	unsigned int m, n, c, d, calc;
                 ;    1972 	unsigned long addr_temp;
                 ;    1973 
                 ;    1974     
                 ;    1975     addr_temp = 0;	// save local dir addr
0019e7 976c      	SBIW R28,28
0019e8 940e 4015 	CALL __SAVELOCR5
                 ;	*F_PATH -> Y+33
                 ;	*qp -> R16,R17
                 ;	*sp -> R18,R19
                 ;	fpath -> Y+19
                 ;	valid_flag -> R20
                 ;	m -> Y+17
                 ;	n -> Y+15
                 ;	c -> Y+13
                 ;	d -> Y+11
                 ;	calc -> Y+9
                 ;	addr_temp -> Y+5
0019ea e0e0
0019eb 83ed
0019ec 83ee
0019ed 83ef
0019ee 87e8      	__CLRD1S 5
                 ;    1976     
                 ;    1977 	if ((F_PATH[0]=='\\') && (F_PATH[1]==0))
0019ef a1a9      	LDD  R26,Y+33
0019f0 a1ba      	LDD  R27,Y+33+1
0019f1 91ac      	LD   R26,X
0019f2 35ac      	CPI  R26,LOW(0x5C)
0019f3 f431      	BRNE _0x207
0019f4 a1a9      	LDD  R26,Y+33
0019f5 a1ba      	LDD  R27,Y+33+1
0019f6 9611      	ADIW R26,1
0019f7 91ac      	LD   R26,X
0019f8 30a0      	CPI  R26,LOW(0x0)
0019f9 f009      	BREQ _0x208
                 _0x207:
0019fa c016      	RJMP _0x206
                 _0x208:
                 ;    1978 	{
                 ;    1979 		_FF_DIR_ADDR = _FF_ROOT_ADDR;
0019fb 91e0 0722 	LDS  R30,__FF_ROOT_ADDR
0019fd 91f0 0723 	LDS  R31,__FF_ROOT_ADDR+1
0019ff 9160 0724 	LDS  R22,__FF_ROOT_ADDR+2
001a01 9170 0725 	LDS  R23,__FF_ROOT_ADDR+3
001a03 93e0 0726 	STS  __FF_DIR_ADDR,R30
001a05 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
001a07 9360 0728 	STS  __FF_DIR_ADDR+2,R22
001a09 9370 0729 	STS  __FF_DIR_ADDR+3,R23
                 ;    1980 		_FF_FULL_PATH[1] = 0;
001a0b e0e0      	LDI  R30,LOW(0)
001a0c 93e0 0757 	__PUTB1MN __FF_FULL_PATH,1
                 ;    1981 		return (0);
001a0e e0e0      	LDI  R30,LOW(0)
001a0f e0f0      	LDI  R31,HIGH(0)
001a10 c160      	RJMP _0x50B
                 ;    1982 	}
                 ;    1983 	
                 ;    1984     if (_FF_checkdir(F_PATH, &addr_temp, fpath))
                 _0x206:
001a11 a1e9      	LDD  R30,Y+33
001a12 a1fa      	LDD  R31,Y+33+1
001a13 940e 3709 	CALL SUBOPT_0x76
001a15 01fe      	MOVW R30,R28
001a16 9677      	ADIW R30,23
001a17 940e 36a8 	CALL SUBOPT_0x6A
001a19 f019      	BREQ _0x209
                 ;    1985 	{
                 ;    1986 		_FF_DIR_ADDR = addr_temp;
001a1a 940e 3710 	CALL SUBOPT_0x77
                 ;    1987 		return (EOF);
001a1c c154      	RJMP _0x50B
                 ;    1988 	}
                 ;    1989 	if (fpath[0]==0)
                 _0x209:
001a1d 89eb      	LDD  R30,Y+19
001a1e 30e0      	CPI  R30,0
001a1f f419      	BRNE _0x20A
                 ;    1990 		return (EOF);
001a20 efef      	LDI  R30,LOW(65535)
001a21 efff      	LDI  R31,HIGH(65535)
001a22 c14e      	RJMP _0x50B
                 ;    1991 
                 ;    1992 	if ((fpath[0]=='.') && (fpath[1]=='.') && (fpath[2]==0))
                 _0x20A:
001a23 89ab      	LDD  R26,Y+19
001a24 32ae      	CPI  R26,LOW(0x2E)
001a25 f431      	BRNE _0x20C
001a26 89ac      	LDD  R26,Y+20
001a27 32ae      	CPI  R26,LOW(0x2E)
001a28 f419      	BRNE _0x20C
001a29 89ad      	LDD  R26,Y+21
001a2a 30a0      	CPI  R26,LOW(0x0)
001a2b f009      	BREQ _0x20D
                 _0x20C:
001a2c c069      	RJMP _0x20B
                 _0x20D:
                 ;    1993 	{	// trying to get back to prev dir
                 ;    1994 		if (_FF_DIR_ADDR == _FF_ROOT_ADDR)		// already as far back as can go
001a2d 940e 345f 	CALL SUBOPT_0x28
001a2f f419      	BRNE _0x20E
                 ;    1995 			return (EOF);
001a30 efef      	LDI  R30,LOW(65535)
001a31 efff      	LDI  R31,HIGH(65535)
001a32 c13e      	RJMP _0x50B
                 ;    1996 		if (_FF_read(_FF_DIR_ADDR)==0)
                 _0x20E:
001a33 91e0 0726 	LDS  R30,__FF_DIR_ADDR
001a35 91f0 0727 	LDS  R31,__FF_DIR_ADDR+1
001a37 9160 0728 	LDS  R22,__FF_DIR_ADDR+2
001a39 9170 0729 	LDS  R23,__FF_DIR_ADDR+3
001a3b 940e 337d 	CALL SUBOPT_0xC
001a3d f419      	BRNE _0x20F
                 ;    1997 			return (EOF);
001a3e efef      	LDI  R30,LOW(65535)
001a3f efff      	LDI  R31,HIGH(65535)
001a40 c130      	RJMP _0x50B
                 ;    1998 		m = ((unsigned int) _FF_buff[0x3B] << 8) | (unsigned int) _FF_buff[0x3A];
                 _0x20F:
001a41 91b0 053f 	__GETBRMN 27,__FF_buff,59
001a43 e0a0      	LDI  R26,LOW(0)
001a44 91e0 053e 	__GETB1MN __FF_buff,58
001a46 e0f0      	LDI  R31,0
001a47 2bea      	OR   R30,R26
001a48 2bfb      	OR   R31,R27
001a49 8be9      	STD  Y+17,R30
001a4a 8bfa      	STD  Y+17+1,R31
                 ;    1999 		if (m)
001a4b 9730      	SBIW R30,0
001a4c f029      	BREQ _0x210
                 ;    2000 			_FF_DIR_ADDR = clust_to_addr(m);
001a4d 93fa      	ST   -Y,R31
001a4e 93ea      	ST   -Y,R30
001a4f 940e 1065 	CALL _clust_to_addr
001a51 c008      	RJMP _0x529
                 ;    2001 		else
                 _0x210:
                 ;    2002 			_FF_DIR_ADDR = _FF_ROOT_ADDR;
001a52 91e0 0722 	LDS  R30,__FF_ROOT_ADDR
001a54 91f0 0723 	LDS  R31,__FF_ROOT_ADDR+1
001a56 9160 0724 	LDS  R22,__FF_ROOT_ADDR+2
001a58 9170 0725 	LDS  R23,__FF_ROOT_ADDR+3
                 _0x529:
001a5a 93e0 0726 	STS  __FF_DIR_ADDR,R30
001a5c 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
001a5e 9360 0728 	STS  __FF_DIR_ADDR+2,R22
001a60 9370 0729 	STS  __FF_DIR_ADDR+3,R23
                 ;    2003 		
                 ;    2004 					sp = F_PATH;
001a62 a129
001a63 a13a      	__GETWRS 18,19,33
                 ;    2005 					qp = _FF_FULL_PATH + strlen(_FF_FULL_PATH);
001a64 940e 371f 	CALL SUBOPT_0x78
                 ;    2006 					while (*sp)
                 _0x212:
001a66 940e 368f 	CALL SUBOPT_0x65
001a68 f129      	BREQ _0x214
                 ;    2007 					{
                 ;    2008 						if ((*sp=='.')&&(*(sp+1)=='.'))
001a69 940e 3693 	CALL SUBOPT_0x66
001a6b f419      	BRNE _0x216
001a6c 940e 3729 	CALL SUBOPT_0x79
001a6e f009      	BREQ _0x217
                 _0x216:
001a6f c011      	RJMP _0x215
                 _0x217:
                 ;    2009 						{
                 ;    2010 							#ifdef _ICCAVR_
                 ;    2011 								qp = strrchr(_FF_FULL_PATH, '\\');
                 ;    2012 								if (qp==0)
                 ;    2013 								   return (EOF);
                 ;    2014 								*qp = 0;
                 ;    2015 								qp = strrchr(_FF_FULL_PATH, '\\');
                 ;    2016 								if (qp==0)
                 ;    2017 								   return (EOF);
                 ;    2018 								qp++;
                 ;    2019 							#endif
                 ;    2020 							#ifdef _CVAVR_
                 ;    2021 								_FF_FULL_PATH[strrpos(_FF_FULL_PATH, '\\')] = 0;
001a70 940e 372d 	CALL SUBOPT_0x7A
001a72 940e 3735 	CALL SUBOPT_0x7B
                 ;    2022 							    c = strrpos(_FF_FULL_PATH, '\\');
001a74 940e 372d 	CALL SUBOPT_0x7A
001a76 940e 3739 	CALL SUBOPT_0x7C
                 ;    2023 								if (c==EOF)
001a78 f419      	BRNE _0x218
                 ;    2024 									return (EOF);
001a79 efef      	LDI  R30,LOW(65535)
001a7a efff      	LDI  R31,HIGH(65535)
001a7b c0f5      	RJMP _0x50B
                 ;    2025 								qp = _FF_FULL_PATH + c;
                 _0x218:
001a7c 940e 3744 	CALL SUBOPT_0x7D
                 ;    2026 							#endif
                 ;    2027 							*qp = 0;
                 ;    2028 							sp += 2;
001a7e 5f2e
001a7f 4f3f      	__ADDWRN 18,19,2
                 ;    2029 						}
                 ;    2030 						else 
001a80 c00c      	RJMP _0x219
                 _0x215:
                 ;    2031 							*qp++ = toupper(*sp++);
001a81 931f      	PUSH R17
001a82 930f      	PUSH R16
001a83 5f0f
001a84 4f1f      	__ADDWRN 16,17,1
001a85 01d9      	MOVW R26,R18
001a86 5f2f
001a87 4f3f      	__ADDWRN 18,19,1
001a88 940e 3566 	CALL SUBOPT_0x43
001a8a 91af      	POP  R26
001a8b 91bf      	POP  R27
001a8c 93ec      	ST   X,R30
                 ;    2032 					}
                 _0x219:
001a8d cfd8      	RJMP _0x212
                 _0x214:
                 ;    2033 					*qp++ = '\\';
001a8e 01d8      	MOVW R26,R16
001a8f 5f0f
001a90 4f1f      	__ADDWRN 16,17,1
001a91 940e 374a 	CALL SUBOPT_0x7E
                 ;    2034 					*qp = 0;
                 ;    2035 
                 ;    2036 		return (0);
001a93 e0e0      	LDI  R30,LOW(0)
001a94 e0f0      	LDI  R31,HIGH(0)
001a95 c0db      	RJMP _0x50B
                 ;    2037 	}
                 ;    2038 		
                 ;    2039 	qp = fpath;
                 _0x20B:
001a96 01fe      	MOVW R30,R28
001a97 9673      	ADIW R30,19
001a98 018f      	MOVW R16,R30
                 ;    2040 	sp = fpath;
001a99 01fe      	MOVW R30,R28
001a9a 9673      	ADIW R30,19
001a9b 019f      	MOVW R18,R30
                 ;    2041 	while(sp < (fpath+11))
                 _0x21A:
001a9c 01fe      	MOVW R30,R28
001a9d 967e      	ADIW R30,30
001a9e 172e      	CP   R18,R30
001a9f 073f      	CPC  R19,R31
001aa0 f4a8      	BRSH _0x21C
                 ;    2042 	{
                 ;    2043 		if (*qp)
001aa1 940e 3705 	CALL SUBOPT_0x75
001aa3 f061      	BREQ _0x21D
                 ;    2044 			*sp++ = toupper(*qp++);
001aa4 933f      	PUSH R19
001aa5 932f      	PUSH R18
001aa6 5f2f
001aa7 4f3f      	__ADDWRN 18,19,1
001aa8 01d8      	MOVW R26,R16
001aa9 5f0f
001aaa 4f1f      	__ADDWRN 16,17,1
001aab 940e 3566 	CALL SUBOPT_0x43
001aad 91af      	POP  R26
001aae 91bf      	POP  R27
001aaf c004      	RJMP _0x52A
                 ;    2045 		else	// (*qp==0)
                 _0x21D:
                 ;    2046 			*sp++ = 0x20;
001ab0 01d9      	MOVW R26,R18
001ab1 5f2f
001ab2 4f3f      	__ADDWRN 18,19,1
001ab3 e2e0      	LDI  R30,LOW(32)
                 _0x52A:
001ab4 93ec      	ST   X,R30
                 ;    2047 	}     
001ab5 cfe6      	RJMP _0x21A
                 _0x21C:
                 ;    2048 	*sp = 0;
001ab6 940e 374d 	CALL SUBOPT_0x7F
                 ;    2049 
                 ;    2050 	qp = fpath;
001ab8 01fe      	MOVW R30,R28
001ab9 9673      	ADIW R30,19
001aba 018f      	MOVW R16,R30
                 ;    2051 	m = 0;
001abb e0e0      	LDI  R30,0
001abc 8be9      	STD  Y+17,R30
001abd 8bea      	STD  Y+17+1,R30
                 ;    2052 	d = 0;
001abe e0e0      	LDI  R30,0
001abf 87eb      	STD  Y+11,R30
001ac0 87ec      	STD  Y+11+1,R30
                 ;    2053 	valid_flag = 0;
001ac1 e040      	LDI  R20,LOW(0)
                 ;    2054 	while (d<BPB_RootEntCnt)
                 _0x21F:
001ac2 85ab      	LDD  R26,Y+11
001ac3 85bc      	LDD  R27,Y+11+1
001ac4 15ac      	CP   R26,R12
001ac5 05bd      	CPC  R27,R13
001ac6 f010      	BRLO PC+3
001ac7 940c 1b6f 	JMP _0x221
                 ;    2055 	{
                 ;    2056     	_FF_read(_FF_DIR_ADDR+(m*0x200));
001ac9 89e9      	LDD  R30,Y+17
001aca 89fa      	LDD  R31,Y+17+1
001acb 940e 3751 	CALL SUBOPT_0x80
                 ;    2057 		for (n=0; n<16; n++)
001acd e0e0      	LDI  R30,0
001ace 87ef      	STD  Y+15,R30
001acf 8be8      	STD  Y+15+1,R30
                 _0x223:
001ad0 85af      	LDD  R26,Y+15
001ad1 89b8      	LDD  R27,Y+15+1
001ad2 9750      	SBIW R26,16
001ad3 f010      	BRLO PC+3
001ad4 940c 1b69 	JMP _0x224
                 ;    2058 		{
                 ;    2059 			if (_FF_buff[n*0x20] == 0)	// no more entries in dir
001ad6 940e 3765 	CALL SUBOPT_0x81
001ad8 940e 347e 	CALL SUBOPT_0x2B
001ada f419      	BRNE _0x225
                 ;    2060 			{
                 ;    2061 				_FF_DIR_ADDR = addr_temp;
001adb 940e 3710 	CALL SUBOPT_0x77
                 ;    2062 				return (EOF);
001add c093      	RJMP _0x50B
                 ;    2063 			}
                 ;    2064 			calc = (n*0x20);
                 _0x225:
001ade 940e 3765 	CALL SUBOPT_0x81
001ae0 87e9      	STD  Y+9,R30
001ae1 87fa      	STD  Y+9+1,R31
                 ;    2065 			for (c=0; c<11; c++)
001ae2 e0e0      	LDI  R30,0
001ae3 87ed      	STD  Y+13,R30
001ae4 87ee      	STD  Y+13+1,R30
                 _0x227:
001ae5 85ad      	LDD  R26,Y+13
001ae6 85be      	LDD  R27,Y+13+1
001ae7 971b      	SBIW R26,11
001ae8 f4c0      	BRSH _0x228
                 ;    2066 			{	// check for name match
                 ;    2067 				if (fpath[c] == _FF_buff[calc+c])
001ae9 940e 376c 	CALL SUBOPT_0x82
001aeb 900c      	LD   R0,X
001aec 940e 3773 	CALL SUBOPT_0x83
001aee 15e0      	CP   R30,R0
001aef f411      	BRNE _0x229
                 ;    2068 					valid_flag = 1;
001af0 e041      	LDI  R20,LOW(1)
                 ;    2069 				else if (fpath[c] == 0)
001af1 c00c      	RJMP _0x22A
                 _0x229:
001af2 940e 376c 	CALL SUBOPT_0x82
001af4 91ec      	LD   R30,X
001af5 30e0      	CPI  R30,0
001af6 f429      	BRNE _0x22B
                 ;    2070 				{
                 ;    2071 					if (_FF_buff[calc+c]==0x20)
001af7 940e 3773 	CALL SUBOPT_0x83
001af9 32e0      	CPI  R30,LOW(0x20)
001afa f031      	BREQ _0x228
                 ;    2072 						break;
                 ;    2073 				}
                 ;    2074 				else
001afb c002      	RJMP _0x22D
                 _0x22B:
                 ;    2075 				{
                 ;    2076 					valid_flag = 0;	
001afc e040      	LDI  R20,LOW(0)
                 ;    2077 					break;
001afd c003      	RJMP _0x228
                 ;    2078 				}
                 _0x22D:
                 _0x22A:
                 ;    2079 		    }   
001afe 940e 377d 	CALL SUBOPT_0x84
001b00 cfe4      	RJMP _0x227
                 _0x228:
                 ;    2080 		    if (valid_flag)
001b01 3040      	CPI  R20,0
001b02 f411      	BRNE PC+3
001b03 940c 1b64 	JMP _0x22E
                 ;    2081 	  		{
                 ;    2082 	  			if (_FF_buff[calc+0xB] != 0x10)	// not a directory
001b05 85e9      	LDD  R30,Y+9
001b06 85fa      	LDD  R31,Y+9+1
001b07 5fe1
001b08 4ffa      	__ADDW1MN __FF_buff,11
001b09 81e0      	LD   R30,Z
001b0a 31e0      	CPI  R30,LOW(0x10)
001b0b f011      	BREQ _0x22F
                 ;    2083 	  				valid_flag = 0;
001b0c e040      	LDI  R20,LOW(0)
                 ;    2084 	  			else
001b0d c056      	RJMP _0x230
                 _0x22F:
                 ;    2085 	  			{
                 ;    2086 	  				c = ((int) _FF_buff[calc+0x1B] << 8) | ((int) _FF_buff[calc+0x1A]);
001b0e 85e9      	LDD  R30,Y+9
001b0f 85fa      	LDD  R31,Y+9+1
001b10 5ee1
001b11 4ffa      	__ADDW1MN __FF_buff,27
001b12 940e 34a0 	CALL SUBOPT_0x30
001b14 85e9      	LDD  R30,Y+9
001b15 85fa      	LDD  R31,Y+9+1
001b16 5ee2
001b17 4ffa      	__ADDW1MN __FF_buff,26
001b18 940e 34a4 	CALL SUBOPT_0x31
001b1a 87ed      	STD  Y+13,R30
001b1b 87fe      	STD  Y+13+1,R31
                 ;    2087 					_FF_DIR_ADDR = clust_to_addr(c);
001b1c 940e 3783 	CALL SUBOPT_0x85
001b1e 93e0 0726 	STS  __FF_DIR_ADDR,R30
001b20 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
001b22 9360 0728 	STS  __FF_DIR_ADDR+2,R22
001b24 9370 0729 	STS  __FF_DIR_ADDR+3,R23
                 ;    2088 					sp = F_PATH;
001b26 a129
001b27 a13a      	__GETWRS 18,19,33
                 ;    2089 					if (*sp=='\\')
001b28 940e 368b 	CALL SUBOPT_0x64
001b2a f439      	BRNE _0x231
                 ;    2090 					{	// Restart String @root
                 ;    2091 						qp = _FF_FULL_PATH + 1;
001b2b e507
001b2c e017      	__POINTWRMN 16,17,__FF_FULL_PATH,1
                 ;    2092 						*qp = 0;
001b2d 940e 3697 	CALL SUBOPT_0x67
                 ;    2093 						sp++;
001b2f 5f2f
001b30 4f3f      	__ADDWRN 18,19,1
                 ;    2094 					}
                 ;    2095 					else
001b31 c002      	RJMP _0x232
                 _0x231:
                 ;    2096 						qp = _FF_FULL_PATH + strlen(_FF_FULL_PATH);
001b32 940e 371f 	CALL SUBOPT_0x78
                 ;    2097 					while (*sp)
                 _0x232:
                 _0x233:
001b34 940e 368f 	CALL SUBOPT_0x65
001b36 f129      	BREQ _0x235
                 ;    2098 					{
                 ;    2099 						if ((*sp=='.')&&(*(sp+1)=='.'))
001b37 940e 3693 	CALL SUBOPT_0x66
001b39 f419      	BRNE _0x237
001b3a 940e 3729 	CALL SUBOPT_0x79
001b3c f009      	BREQ _0x238
                 _0x237:
001b3d c011      	RJMP _0x236
                 _0x238:
                 ;    2100 						{
                 ;    2101 							#ifdef _ICCAVR_
                 ;    2102 								qp = strrchr(_FF_FULL_PATH, '\\');
                 ;    2103 								if (qp==0)
                 ;    2104 								   return (EOF);
                 ;    2105 								*qp = 0;
                 ;    2106 								qp = strrchr(_FF_FULL_PATH, '\\');
                 ;    2107 								if (qp==0)
                 ;    2108 								   return (EOF);
                 ;    2109 								qp++;
                 ;    2110 							#endif
                 ;    2111 							#ifdef _CVAVR_
                 ;    2112 								_FF_FULL_PATH[strrpos(_FF_FULL_PATH, '\\')] = 0;
001b3e 940e 372d 	CALL SUBOPT_0x7A
001b40 940e 3735 	CALL SUBOPT_0x7B
                 ;    2113 								c = strrpos(_FF_FULL_PATH, '\\');
001b42 940e 372d 	CALL SUBOPT_0x7A
001b44 940e 3739 	CALL SUBOPT_0x7C
                 ;    2114 								if (c==EOF)
001b46 f419      	BRNE _0x239
                 ;    2115 								   return (EOF);
001b47 efef      	LDI  R30,LOW(65535)
001b48 efff      	LDI  R31,HIGH(65535)
001b49 c027      	RJMP _0x50B
                 ;    2116 								qp = _FF_FULL_PATH + c;
                 _0x239:
001b4a 940e 3744 	CALL SUBOPT_0x7D
                 ;    2117 							#endif
                 ;    2118 							*qp = 0;
                 ;    2119 							sp += 2;
001b4c 5f2e
001b4d 4f3f      	__ADDWRN 18,19,2
                 ;    2120 						}
                 ;    2121 						else 
001b4e c00c      	RJMP _0x23A
                 _0x236:
                 ;    2122 							*qp++ = toupper(*sp++);
001b4f 931f      	PUSH R17
001b50 930f      	PUSH R16
001b51 5f0f
001b52 4f1f      	__ADDWRN 16,17,1
001b53 01d9      	MOVW R26,R18
001b54 5f2f
001b55 4f3f      	__ADDWRN 18,19,1
001b56 940e 3566 	CALL SUBOPT_0x43
001b58 91af      	POP  R26
001b59 91bf      	POP  R27
001b5a 93ec      	ST   X,R30
                 ;    2123 					}
                 _0x23A:
001b5b cfd8      	RJMP _0x233
                 _0x235:
                 ;    2124 					*qp++ = '\\';
001b5c 01d8      	MOVW R26,R16
001b5d 5f0f
001b5e 4f1f      	__ADDWRN 16,17,1
001b5f 940e 374a 	CALL SUBOPT_0x7E
                 ;    2125 					*qp = 0;
                 ;    2126 					return (0);
001b61 e0e0      	LDI  R30,LOW(0)
001b62 e0f0      	LDI  R31,HIGH(0)
001b63 c00d      	RJMP _0x50B
                 ;    2127 				}
                 _0x230:
                 ;    2128 			}
                 ;    2129 		  	d++;		  		
                 _0x22E:
001b64 940e 3789 	CALL SUBOPT_0x86
                 ;    2130 		}
001b66 940e 358f 	CALL SUBOPT_0x48
001b68 cf67      	RJMP _0x223
                 _0x224:
                 ;    2131 		m++;
001b69 89e9      	LDD  R30,Y+17
001b6a 89fa      	LDD  R31,Y+17+1
001b6b 9631      	ADIW R30,1
001b6c 8be9      	STD  Y+17,R30
001b6d 8bfa      	STD  Y+17+1,R31
                 ;    2132 	}
001b6e cf53      	RJMP _0x21F
                 _0x221:
                 ;    2133 	_FF_DIR_ADDR = addr_temp;
001b6f 940e 3710 	CALL SUBOPT_0x77
                 ;    2134 	return (EOF);
                 _0x50B:
001b71 940e 401c 	CALL __LOADLOCR5
001b73 96a3      	ADIW R28,35
001b74 9508      	RET
                 ;    2135 }
                 ;    2136 
                 ;    2137 // Function to change directories one at a time, not effecting the working dir string
                 ;    2138 int _FF_chdir(char *F_PATH)
                 ;    2139 {
                 __FF_chdir:
                 ;    2140 	unsigned char *qp, *sp, valid_flag, fpath[14];
                 ;    2141 	unsigned int m, n, c, d, calc;
                 ;    2142     
                 ;    2143 	if ((F_PATH[0]=='.') && (F_PATH[1]=='.') && (F_PATH[2]==0))
001b75 9768      	SBIW R28,24
001b76 940e 4015 	CALL __SAVELOCR5
                 ;	*F_PATH -> Y+29
                 ;	*qp -> R16,R17
                 ;	*sp -> R18,R19
                 ;	valid_flag -> R20
                 ;	fpath -> Y+15
                 ;	m -> Y+13
                 ;	n -> Y+11
                 ;	c -> Y+9
                 ;	d -> Y+7
                 ;	calc -> Y+5
001b78 8dad      	LDD  R26,Y+29
001b79 8dbe      	LDD  R27,Y+29+1
001b7a 91ac      	LD   R26,X
001b7b 32ae      	CPI  R26,LOW(0x2E)
001b7c f461      	BRNE _0x23C
001b7d 8dad      	LDD  R26,Y+29
001b7e 8dbe      	LDD  R27,Y+29+1
001b7f 9611      	ADIW R26,1
001b80 91ac      	LD   R26,X
001b81 32ae      	CPI  R26,LOW(0x2E)
001b82 f431      	BRNE _0x23C
001b83 8dad      	LDD  R26,Y+29
001b84 8dbe      	LDD  R27,Y+29+1
001b85 9612      	ADIW R26,2
001b86 91ac      	LD   R26,X
001b87 30a0      	CPI  R26,LOW(0x0)
001b88 f009      	BREQ _0x23D
                 _0x23C:
001b89 c036      	RJMP _0x23B
                 _0x23D:
                 ;    2144 	{	// trying to get back to prev dir
                 ;    2145 		if (_FF_DIR_ADDR == _FF_ROOT_ADDR)		// already as far back as can go
001b8a 940e 345f 	CALL SUBOPT_0x28
001b8c f419      	BRNE _0x23E
                 ;    2146 			return (EOF);
001b8d efef      	LDI  R30,LOW(65535)
001b8e efff      	LDI  R31,HIGH(65535)
001b8f c0d9      	RJMP _0x50A
                 ;    2147 		if (_FF_read(_FF_DIR_ADDR)==0)
                 _0x23E:
001b90 91e0 0726 	LDS  R30,__FF_DIR_ADDR
001b92 91f0 0727 	LDS  R31,__FF_DIR_ADDR+1
001b94 9160 0728 	LDS  R22,__FF_DIR_ADDR+2
001b96 9170 0729 	LDS  R23,__FF_DIR_ADDR+3
001b98 940e 337d 	CALL SUBOPT_0xC
001b9a f419      	BRNE _0x23F
                 ;    2148 			return (EOF);
001b9b efef      	LDI  R30,LOW(65535)
001b9c efff      	LDI  R31,HIGH(65535)
001b9d c0cb      	RJMP _0x50A
                 ;    2149 		m = ((unsigned int) _FF_buff[0x3B] << 8) | (unsigned int) _FF_buff[0x3A];
                 _0x23F:
001b9e 91b0 053f 	__GETBRMN 27,__FF_buff,59
001ba0 e0a0      	LDI  R26,LOW(0)
001ba1 91e0 053e 	__GETB1MN __FF_buff,58
001ba3 e0f0      	LDI  R31,0
001ba4 2bea      	OR   R30,R26
001ba5 2bfb      	OR   R31,R27
001ba6 87ed      	STD  Y+13,R30
001ba7 87fe      	STD  Y+13+1,R31
                 ;    2150 		if (m)
001ba8 9730      	SBIW R30,0
001ba9 f019      	BREQ _0x240
                 ;    2151 			_FF_DIR_ADDR = clust_to_addr(m);
001baa 940e 3783 	CALL SUBOPT_0x85
001bac c008      	RJMP _0x52B
                 ;    2152 		else
                 _0x240:
                 ;    2153 			_FF_DIR_ADDR = _FF_ROOT_ADDR;
001bad 91e0 0722 	LDS  R30,__FF_ROOT_ADDR
001baf 91f0 0723 	LDS  R31,__FF_ROOT_ADDR+1
001bb1 9160 0724 	LDS  R22,__FF_ROOT_ADDR+2
001bb3 9170 0725 	LDS  R23,__FF_ROOT_ADDR+3
                 _0x52B:
001bb5 93e0 0726 	STS  __FF_DIR_ADDR,R30
001bb7 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
001bb9 9360 0728 	STS  __FF_DIR_ADDR+2,R22
001bbb 9370 0729 	STS  __FF_DIR_ADDR+3,R23
                 ;    2154 		return (0);
001bbd e0e0      	LDI  R30,LOW(0)
001bbe e0f0      	LDI  R31,HIGH(0)
001bbf c0a9      	RJMP _0x50A
                 ;    2155 	}
                 ;    2156 		
                 ;    2157 	qp = F_PATH;
                 _0x23B:
001bc0 8d0d
001bc1 8d1e      	__GETWRS 16,17,29
                 ;    2158 	sp = fpath;
001bc2 01fe      	MOVW R30,R28
001bc3 963f      	ADIW R30,15
001bc4 019f      	MOVW R18,R30
                 ;    2159 	while(sp < (fpath+11))
                 _0x242:
001bc5 01fe      	MOVW R30,R28
001bc6 967a      	ADIW R30,26
001bc7 172e      	CP   R18,R30
001bc8 073f      	CPC  R19,R31
001bc9 f4f0      	BRSH _0x244
                 ;    2160 	{
                 ;    2161 		if (valid_file_char(*qp)==0)
001bca 01d8      	MOVW R26,R16
001bcb 940e 33f7 	CALL SUBOPT_0x1D
001bcd f469      	BRNE _0x245
                 ;    2162 			*sp++ = toupper(*qp++);
001bce 933f      	PUSH R19
001bcf 932f      	PUSH R18
001bd0 5f2f
001bd1 4f3f      	__ADDWRN 18,19,1
001bd2 01d8      	MOVW R26,R16
001bd3 5f0f
001bd4 4f1f      	__ADDWRN 16,17,1
001bd5 940e 3566 	CALL SUBOPT_0x43
001bd7 91af      	POP  R26
001bd8 91bf      	POP  R27
001bd9 93ec      	ST   X,R30
                 ;    2163 		else if (*qp==0)
001bda c00c      	RJMP _0x246
                 _0x245:
001bdb 940e 3705 	CALL SUBOPT_0x75
001bdd f431      	BRNE _0x247
                 ;    2164 			*sp++ = 0x20;
001bde 01d9      	MOVW R26,R18
001bdf 5f2f
001be0 4f3f      	__ADDWRN 18,19,1
001be1 e2e0      	LDI  R30,LOW(32)
001be2 93ec      	ST   X,R30
                 ;    2165 		else
001be3 c003      	RJMP _0x248
                 _0x247:
                 ;    2166 			return (EOF);
001be4 efef      	LDI  R30,LOW(65535)
001be5 efff      	LDI  R31,HIGH(65535)
001be6 c082      	RJMP _0x50A
                 ;    2167 	}     
                 _0x248:
                 _0x246:
001be7 cfdd      	RJMP _0x242
                 _0x244:
                 ;    2168 	*sp = 0;
001be8 940e 374d 	CALL SUBOPT_0x7F
                 ;    2169 	m = 0;
001bea e0e0      	LDI  R30,0
001beb 87ed      	STD  Y+13,R30
001bec 87ee      	STD  Y+13+1,R30
                 ;    2170 	d = 0;
001bed e0e0      	LDI  R30,0
001bee 83ef      	STD  Y+7,R30
001bef 87e8      	STD  Y+7+1,R30
                 ;    2171 	valid_flag = 0;
001bf0 e040      	LDI  R20,LOW(0)
                 ;    2172 	while (d<BPB_RootEntCnt)
                 _0x249:
001bf1 81af      	LDD  R26,Y+7
001bf2 85b8      	LDD  R27,Y+7+1
001bf3 15ac      	CP   R26,R12
001bf4 05bd      	CPC  R27,R13
001bf5 f010      	BRLO PC+3
001bf6 940c 1c67 	JMP _0x24B
                 ;    2173 	{
                 ;    2174     	_FF_read(_FF_DIR_ADDR+(m*0x200));
001bf8 85ed      	LDD  R30,Y+13
001bf9 85fe      	LDD  R31,Y+13+1
001bfa 940e 3751 	CALL SUBOPT_0x80
                 ;    2175 		for (n=0; n<16; n++)
001bfc e0e0      	LDI  R30,0
001bfd 87eb      	STD  Y+11,R30
001bfe 87ec      	STD  Y+11+1,R30
                 _0x24D:
001bff 85ab      	LDD  R26,Y+11
001c00 85bc      	LDD  R27,Y+11+1
001c01 9750      	SBIW R26,16
001c02 f010      	BRLO PC+3
001c03 940c 1c64 	JMP _0x24E
                 ;    2176 		{
                 ;    2177 			calc = (n*0x20);
001c05 85eb      	LDD  R30,Y+11
001c06 85fc      	LDD  R31,Y+11+1
001c07 0fee      	LSL  R30
001c08 1fff      	ROL  R31
001c09 940e 3d59 	CALL __LSLW4
001c0b 83ed      	STD  Y+5,R30
001c0c 83fe      	STD  Y+5+1,R31
                 ;    2178 			if (_FF_buff[calc] == 0)	// no more entries in dir
001c0d 940e 347e 	CALL SUBOPT_0x2B
001c0f f419      	BRNE _0x24F
                 ;    2179 				return (EOF);
001c10 efef      	LDI  R30,LOW(65535)
001c11 efff      	LDI  R31,HIGH(65535)
001c12 c056      	RJMP _0x50A
                 ;    2180 			for (c=0; c<11; c++)
                 _0x24F:
001c13 e0e0      	LDI  R30,0
001c14 87e9      	STD  Y+9,R30
001c15 87ea      	STD  Y+9+1,R30
                 _0x251:
001c16 85a9      	LDD  R26,Y+9
001c17 85ba      	LDD  R27,Y+9+1
001c18 971b      	SBIW R26,11
001c19 f4e8      	BRSH _0x252
                 ;    2181 			{	// check for name match
                 ;    2182 				if (fpath[c] == _FF_buff[calc+c])
001c1a 85e9      	LDD  R30,Y+9
001c1b 85fa      	LDD  R31,Y+9+1
001c1c 01de      	MOVW R26,R28
001c1d 961f      	ADIW R26,15
001c1e 0fae      	ADD  R26,R30
001c1f 1fbf      	ADC  R27,R31
001c20 900c      	LD   R0,X
001c21 81ad      	LDD  R26,Y+5
001c22 81be      	LDD  R27,Y+5+1
001c23 0fea      	ADD  R30,R26
001c24 1ffb      	ADC  R31,R27
001c25 5fec      	SUBI R30,LOW(-__FF_buff)
001c26 4ffa      	SBCI R31,HIGH(-__FF_buff)
001c27 81e0      	LD   R30,Z
001c28 15e0      	CP   R30,R0
001c29 f411      	BRNE _0x253
                 ;    2183 					valid_flag = 1;
001c2a e041      	LDI  R20,LOW(1)
                 ;    2184 				else
001c2b c005      	RJMP _0x254
                 _0x253:
                 ;    2185 				{
                 ;    2186 					valid_flag = 0;	
001c2c e040      	LDI  R20,LOW(0)
                 ;    2187 					c = 11;
001c2d e0eb      	LDI  R30,LOW(11)
001c2e e0f0      	LDI  R31,HIGH(11)
001c2f 87e9      	STD  Y+9,R30
001c30 87fa      	STD  Y+9+1,R31
                 ;    2188 				}
                 _0x254:
                 ;    2189 		    }   
001c31 85e9      	LDD  R30,Y+9
001c32 85fa      	LDD  R31,Y+9+1
001c33 9631      	ADIW R30,1
001c34 87e9      	STD  Y+9,R30
001c35 87fa      	STD  Y+9+1,R31
001c36 cfdf      	RJMP _0x251
                 _0x252:
                 ;    2190 		    if (valid_flag)
001c37 3040      	CPI  R20,0
001c38 f131      	BREQ _0x255
                 ;    2191 	  		{
                 ;    2192 	  			if (_FF_buff[calc+0xB] != 0x10)	// not a directory
001c39 81ed      	LDD  R30,Y+5
001c3a 81fe      	LDD  R31,Y+5+1
001c3b 5fe1
001c3c 4ffa      	__ADDW1MN __FF_buff,11
001c3d 81e0      	LD   R30,Z
001c3e 31e0      	CPI  R30,LOW(0x10)
001c3f f011      	BREQ _0x256
                 ;    2193 	  				valid_flag = 0;
001c40 e040      	LDI  R20,LOW(0)
                 ;    2194 	  			else
001c41 c01d      	RJMP _0x257
                 _0x256:
                 ;    2195 	  			{
                 ;    2196 	  				c = ((int) _FF_buff[calc+0x1B] << 8) | ((int) _FF_buff[calc+0x1A]);
001c42 81ed      	LDD  R30,Y+5
001c43 81fe      	LDD  R31,Y+5+1
001c44 5ee1
001c45 4ffa      	__ADDW1MN __FF_buff,27
001c46 940e 34a0 	CALL SUBOPT_0x30
001c48 81ed      	LDD  R30,Y+5
001c49 81fe      	LDD  R31,Y+5+1
001c4a 5ee2
001c4b 4ffa      	__ADDW1MN __FF_buff,26
001c4c 940e 34a4 	CALL SUBOPT_0x31
001c4e 87e9      	STD  Y+9,R30
001c4f 87fa      	STD  Y+9+1,R31
                 ;    2197 					_FF_DIR_ADDR = clust_to_addr(c);
001c50 93fa      	ST   -Y,R31
001c51 93ea      	ST   -Y,R30
001c52 940e 1065 	CALL _clust_to_addr
001c54 93e0 0726 	STS  __FF_DIR_ADDR,R30
001c56 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
001c58 9360 0728 	STS  __FF_DIR_ADDR+2,R22
001c5a 9370 0729 	STS  __FF_DIR_ADDR+3,R23
                 ;    2198 					return (0);
001c5c e0e0      	LDI  R30,LOW(0)
001c5d e0f0      	LDI  R31,HIGH(0)
001c5e c00a      	RJMP _0x50A
                 ;    2199 				}
                 _0x257:
                 ;    2200 			}
                 ;    2201 		  	d++;		  		
                 _0x255:
001c5f 940e 378f 	CALL SUBOPT_0x87
                 ;    2202 		}
001c61 940e 3789 	CALL SUBOPT_0x86
001c63 cf9b      	RJMP _0x24D
                 _0x24E:
                 ;    2203 		m++;
001c64 940e 377d 	CALL SUBOPT_0x84
                 ;    2204 	}
001c66 cf8a      	RJMP _0x249
                 _0x24B:
                 ;    2205 	return (EOF);
001c67 efef      	LDI  R30,LOW(65535)
001c68 efff      	LDI  R31,HIGH(65535)
                 _0x50A:
001c69 940e 401c 	CALL __LOADLOCR5
001c6b 966f      	ADIW R28,31
001c6c 9508      	RET
                 ;    2206 }
                 ;    2207 
                 ;    2208 #ifndef _SECOND_FAT_ON_
                 ;    2209 // Function that clears the secondary FAT table
                 ;    2210 int clear_second_FAT(void)
                 ;    2211 {
                 ;    2212 	unsigned int c, d;
                 ;    2213 	unsigned long n;
                 ;    2214 	
                 ;    2215 	for (n=1; n<BPB_FATSz16; n++)
                 ;    2216 	{
                 ;    2217 		if (_FF_read(_FF_FAT2_ADDR+(n*0x200))==0)
                 ;    2218 			return (EOF);
                 ;    2219 		for (c=0; c<BPB_BytsPerSec; c++)
                 ;    2220 		{
                 ;    2221 			if (_FF_buff[c] != 0)
                 ;    2222 			{
                 ;    2223 				for (d=0; d<BPB_BytsPerSec; d++)
                 ;    2224 					_FF_buff[d] = 0;
                 ;    2225 				if (_FF_write(_FF_FAT2_ADDR+(n*0x200))==0)
                 ;    2226 					return (EOF);
                 ;    2227 				break;
                 ;    2228 			}
                 ;    2229 		}
                 ;    2230 	}
                 ;    2231 	for (d=2; d<BPB_BytsPerSec; d++)
                 ;    2232 		_FF_buff[d] = 0;
                 ;    2233 	_FF_buff[0] = 0xF8;
                 ;    2234 	_FF_buff[1] = 0xFF;
                 ;    2235 	_FF_buff[2] = 0xFF;
                 ;    2236 	if (BPB_FATType == 0x36)
                 ;    2237 		_FF_buff[3] = 0xFF;
                 ;    2238 	if (_FF_write(_FF_FAT2_ADDR)==0)
                 ;    2239 		return (EOF);
                 ;    2240 	
                 ;    2241 	return (1);
                 ;    2242 }
                 ;    2243 #endif
                 ;    2244  
                 ;    2245 // Open a file, name stored in string fileopen
                 ;    2246 FILE *fopenc(unsigned char flash *NAMEC, unsigned char MODEC)
                 ;    2247 {
                 ;    2248 	unsigned char c, temp_data[12];
                 ;    2249 	FILE *tp;
                 ;    2250 	
                 ;    2251 	for (c=0; c<12; c++)
                 ;	*NAMEC -> Y+16
                 ;	MODEC -> Y+15
                 ;	c -> R16
                 ;	temp_data -> Y+3
                 ;	*tp -> R17,R18
                 ;    2252 		temp_data[c] = NAMEC[c];
                 ;    2253 	
                 ;    2254 	tp = fopen(temp_data, MODEC);
                 ;    2255 	return(tp);
                 ;    2256 }
                 ;    2257 
                 ;    2258 FILE *fopen(unsigned char *NAME, unsigned char MODE)
                 ;    2259 {
                 _fopen:
                 ;    2260 	unsigned char fpath[14];
                 ;    2261 	unsigned int c, s, calc_temp;
                 ;    2262 	unsigned char *sp, *qp;
                 ;    2263 	unsigned long addr_temp, path_addr_temp;
                 ;    2264 	FILE *rp;
                 ;    2265 	
                 ;    2266 	#ifdef _READ_ONLY_
                 ;    2267 		if (MODE!=READ)
                 ;    2268 			return (0);
                 ;    2269 	#endif
                 ;    2270 	
                 ;    2271     addr_temp = 0;	// save local dir addr
001c6d 940e 3795 	CALL SUBOPT_0x88
                 ;	*NAME -> Y+35
                 ;	MODE -> Y+34
                 ;	fpath -> Y+20
                 ;	c -> R16,R17
                 ;	s -> R18,R19
                 ;	calc_temp -> R20,R21
                 ;	*sp -> Y+18
                 ;	*qp -> Y+16
                 ;	addr_temp -> Y+12
                 ;	path_addr_temp -> Y+8
                 ;	*rp -> Y+6
                 ;    2272     
                 ;    2273     if (_FF_checkdir(NAME, &addr_temp, fpath))
001c6f f019      	BREQ _0x25B
                 ;    2274 	{
                 ;    2275 		_FF_DIR_ADDR = addr_temp;
001c70 940e 37a8 	CALL SUBOPT_0x89
                 ;    2276 		return (0);
001c72 c256      	RJMP _0x509
                 ;    2277 	}
                 ;    2278 	if (fpath[0]==0)
                 _0x25B:
001c73 89ec      	LDD  R30,Y+20
001c74 30e0      	CPI  R30,0
001c75 f419      	BRNE _0x25C
                 ;    2279 	{
                 ;    2280 		_FF_DIR_ADDR = addr_temp;
001c76 940e 37a8 	CALL SUBOPT_0x89
                 ;    2281 		return (0);
001c78 c250      	RJMP _0x509
                 ;    2282 	}
                 ;    2283     
                 ;    2284 	path_addr_temp = _FF_DIR_ADDR;
                 _0x25C:
001c79 940e 37b7 	CALL SUBOPT_0x8A
                 ;    2285 	s = scan_directory(&path_addr_temp, fpath);
                 ;    2286 	if ((path_addr_temp==0) || (s==0))
001c7b 85a8
001c7c 85b9
001c7d 858a
001c7e 859b      	__GETD2S 8
001c7f 940e 4004 	CALL __CPD02
001c81 f021      	BREQ _0x25E
001c82 2400      	CLR  R0
001c83 1602      	CP   R0,R18
001c84 0603      	CPC  R0,R19
001c85 f419      	BRNE _0x25D
                 _0x25E:
                 ;    2287 	{
                 ;    2288 		_FF_DIR_ADDR = addr_temp;
001c86 940e 37a8 	CALL SUBOPT_0x89
                 ;    2289 		return (0);
001c88 c240      	RJMP _0x509
                 ;    2290 	}
                 ;    2291 
                 ;    2292 	rp = 0;
                 _0x25D:
001c89 e0e0      	LDI  R30,0
001c8a 83ee      	STD  Y+6,R30
001c8b 83ef      	STD  Y+6+1,R30
                 ;    2293 	rp = malloc(sizeof(FILE));
001c8c e2e9      	LDI  R30,LOW(553)
001c8d e0f2      	LDI  R31,HIGH(553)
001c8e 93fa      	ST   -Y,R31
001c8f 93ea      	ST   -Y,R30
001c90 940e 32f6 	CALL _malloc
001c92 940e 37cf 	CALL SUBOPT_0x8B
                 ;    2294 	if (rp == 0)
001c94 f431      	BRNE _0x260
                 ;    2295 	{	// Could not allocate requested memory
                 ;    2296 		_FF_error = ALLOC_ERR;
001c95 e0e9      	LDI  R30,LOW(9)
001c96 93e0 073c 	STS  __FF_error,R30
                 ;    2297 		_FF_DIR_ADDR = addr_temp;
001c98 940e 37a8 	CALL SUBOPT_0x89
                 ;    2298 		return (0);
001c9a c22e      	RJMP _0x509
                 ;    2299 	}
                 ;    2300 	rp->length = 0x46344456;
                 _0x260:
001c9b 81ae      	LDD  R26,Y+6
001c9c 81bf      	LDD  R27,Y+6+1
001c9d 5ea4      	SUBI R26,LOW(-540)
001c9e 4fbd      	SBCI R27,HIGH(-540)
001c9f e5e6
001ca0 e4f4
001ca1 e364
001ca2 e476      	__GETD1N 0x46344456
001ca3 940e 3e57 	CALL __PUTDP1
                 ;    2301 	rp->clus_start = 0xe4;
001ca5 81ae      	LDD  R26,Y+6
001ca6 81bf      	LDD  R27,Y+6+1
001ca7 961c      	ADIW R26,12
001ca8 eee4      	LDI  R30,LOW(228)
001ca9 e0f0      	LDI  R31,HIGH(228)
001caa 93ed      	ST   X+,R30
001cab 93fc      	ST   X,R31
                 ;    2302 	rp->position = 0x45664446;
001cac 81ae      	LDD  R26,Y+6
001cad 81bf      	LDD  R27,Y+6+1
001cae 5ea0      	SUBI R26,LOW(-544)
001caf 4fbd      	SBCI R27,HIGH(-544)
001cb0 e4e6
001cb1 e4f4
001cb2 e666
001cb3 e475      	__GETD1N 0x45664446
001cb4 940e 3e57 	CALL __PUTDP1
                 ;    2303 
                 ;    2304 	calc_temp = path_addr_temp % BPB_BytsPerSec;
001cb6 940e 37d3 	CALL SUBOPT_0x8C
                 ;    2305 	path_addr_temp -= calc_temp;
                 ;    2306 	if (_FF_read(path_addr_temp)==0)	
001cb8 f419      	BRNE _0x261
                 ;    2307 	{
                 ;    2308 		_FF_DIR_ADDR = addr_temp;
001cb9 940e 37a8 	CALL SUBOPT_0x89
                 ;    2309 		return (0);
001cbb c20d      	RJMP _0x509
                 ;    2310 	}
                 ;    2311 	
                 ;    2312 	// Get the filename into a form we can use to compare
                 ;    2313 	qp = file_name_conversion(fpath);
                 _0x261:
001cbc 940e 37ef 	CALL SUBOPT_0x8D
                 ;    2314 	if (qp==0)
001cbe f419      	BRNE _0x262
                 ;    2315 	{	// If File name entered is NOT valid, return 0
                 ;    2316 		free(rp);
001cbf 940e 37f9 	CALL SUBOPT_0x8E
                 ;    2317 		_FF_DIR_ADDR = addr_temp;
                 ;    2318 		return (0);
001cc1 c207      	RJMP _0x509
                 ;    2319 	}
                 ;    2320 	
                 ;    2321 	sp = &_FF_buff[calc_temp];
                 _0x262:
001cc2 940e 3800 	CALL SUBOPT_0x8F
                 ;    2322 
                 ;    2323 	if (s)
001cc4 f411      	BRNE PC+3
001cc5 940c 1de8 	JMP _0x263
                 ;    2324 	{	// File exists, open 
                 ;    2325 		if (((MODE==WRITE) || (MODE==APPEND)) && (_FF_buff[calc_temp+0x0B]&0x01))
001cc7 a1aa      	LDD  R26,Y+34
001cc8 30a2      	CPI  R26,LOW(0x2)
001cc9 f011      	BREQ _0x265
001cca 30a3      	CPI  R26,LOW(0x3)
001ccb f431      	BRNE _0x267
                 _0x265:
001ccc 01fa      	MOVW R30,R20
001ccd 5fe1
001cce 4ffa      	__ADDW1MN __FF_buff,11
001ccf 81e0      	LD   R30,Z
001cd0 70e1      	ANDI R30,LOW(0x1)
001cd1 f409      	BRNE _0x268
                 _0x267:
001cd2 c003      	RJMP _0x264
                 _0x268:
                 ;    2326 		{	// if writing to file verify it is not "READ ONLY"
                 ;    2327 			_FF_error = MODE_ERR;
001cd3 940e 3808 	CALL SUBOPT_0x90
                 ;    2328 			free(rp);
                 ;    2329 			_FF_DIR_ADDR = addr_temp;
                 ;    2330 			return (0);
001cd5 c1f3      	RJMP _0x509
                 ;    2331 		}
                 ;    2332 		for (c=0; c<12; c++)	// Save Filename to Buffer
                 _0x264:
001cd6 e000
001cd7 e010      	__GETWRN 16,17,0
                 _0x26A:
001cd8 300c
001cd9 e0e0
001cda 071e      	__CPWRN 16,17,12
001cdb f468      	BRSH _0x26B
                 ;    2333 			rp->name[c] = FILENAME[c];
001cdc 01f8      	MOVW R30,R16
001cdd 81ae      	LDD  R26,Y+6
001cde 81bf      	LDD  R27,Y+6+1
001cdf 0fea      	ADD  R30,R26
001ce0 1ffb      	ADC  R31,R27
001ce1 010f      	MOVW R0,R30
001ce2 ebaa      	LDI  R26,LOW(_FILENAME)
001ce3 e0b7      	LDI  R27,HIGH(_FILENAME)
001ce4 940e 380c 	CALL SUBOPT_0x91
                 ;    2334 		// Save Starting Cluster
                 ;    2335 		rp->clus_start = ((int) _FF_buff[calc_temp+0x1B] << 8) | (int) _FF_buff[calc_temp+0x1A];
001ce6 5f0f
001ce7 4f1f      	__ADDWRN 16,17,1
001ce8 cfef      	RJMP _0x26A
                 _0x26B:
001ce9 01fa      	MOVW R30,R20
001cea 5ee1
001ceb 4ffa      	__ADDW1MN __FF_buff,27
001cec 940e 34a0 	CALL SUBOPT_0x30
001cee 01fa      	MOVW R30,R20
001cef 5ee2
001cf0 4ffa      	__ADDW1MN __FF_buff,26
001cf1 940e 34a4 	CALL SUBOPT_0x31
001cf3 81ae
001cf4 81bf
001cf5 961c
001cf6 93ed
001cf7 93fc      	__PUTW1SNS 6,12
                 ;    2336 		// Set Current Cluster
                 ;    2337 		rp->clus_current = rp->clus_start;
001cf8 940e 3812 	CALL SUBOPT_0x92
001cfa 81ae
001cfb 81bf
001cfc 961e
001cfd 93ed
001cfe 93fc      	__PUTW1SNS 6,14
                 ;    2338 		// Set Previous Cluster to 0 (indicating @start)
                 ;    2339 		rp->clus_prev = 0;
001cff 940e 3818 	CALL SUBOPT_0x93
                 ;    2340 		// Save file length
                 ;    2341 		rp->length = 0;
001d01 940e 3820 	CALL SUBOPT_0x94
                 ;    2342 		sp = _FF_buff + calc_temp + 0x1F;
001d03 940e 382b 	CALL SUBOPT_0x95
                 ;    2343 		for (c=0; c<4; c++)
001d05 e000
001d06 e010      	__GETWRN 16,17,0
                 _0x26D:
001d07 3004
001d08 e0e0
001d09 071e      	__CPWRN 16,17,4
001d0a f580      	BRSH _0x26E
                 ;    2344 		{
                 ;    2345 			rp->length <<= 8;
001d0b 81ee      	LDD  R30,Y+6
001d0c 81ff      	LDD  R31,Y+6+1
001d0d 5ee4      	SUBI R30,LOW(-540)
001d0e 4ffd      	SBCI R31,HIGH(-540)
001d0f 93ff      	PUSH R31
001d10 93ef      	PUSH R30
001d11 01df      	MOVW R26,R30
001d12 940e 3e51 	CALL __GETD1P
001d14 01df      	MOVW R26,R30
001d15 01cb      	MOVW R24,R22
001d16 e0e8      	LDI  R30,LOW(8)
001d17 940e 3d41 	CALL __LSLD12
001d19 91af      	POP  R26
001d1a 91bf      	POP  R27
001d1b 940e 3e57 	CALL __PUTDP1
                 ;    2346 			rp->length |= *sp--;
001d1d 81ee      	LDD  R30,Y+6
001d1e 81ff      	LDD  R31,Y+6+1
001d1f 5ee4      	SUBI R30,LOW(-540)
001d20 4ffd      	SBCI R31,HIGH(-540)
001d21 010f      	MOVW R0,R30
001d22 01df      	MOVW R26,R30
001d23 940e 3e51 	CALL __GETD1P
001d25 937f      	PUSH R23
001d26 936f      	PUSH R22
001d27 93ff      	PUSH R31
001d28 93ef      	PUSH R30
001d29 940e 3832 	CALL SUBOPT_0x96
001d2b 91ec      	LD   R30,X
001d2c 91af      	POP  R26
001d2d 91bf      	POP  R27
001d2e 918f      	POP  R24
001d2f 919f      	POP  R25
001d30 27ff      	CLR  R31
001d31 2766      	CLR  R22
001d32 2777      	CLR  R23
001d33 940e 3d26 	CALL __ORD12
001d35 01d0      	MOVW R26,R0
001d36 940e 3e57 	CALL __PUTDP1
                 ;    2347 		}
001d38 5f0f
001d39 4f1f      	__ADDWRN 16,17,1
001d3a cfcc      	RJMP _0x26D
                 _0x26E:
                 ;    2348 		// Set Current Position to 0
                 ;    2349 		rp->position = 0;
001d3b 81ae      	LDD  R26,Y+6
001d3c 81bf      	LDD  R27,Y+6+1
001d3d 5ea0      	SUBI R26,LOW(-544)
001d3e 4fbd      	SBCI R27,HIGH(-544)
001d3f e0e0
001d40 e0f0
001d41 e060
001d42 e070      	__GETD1N 0x0
001d43 940e 3e57 	CALL __PUTDP1
                 ;    2350 		#ifndef _READ_ONLY_
                 ;    2351 			if (MODE==WRITE)
001d45 a1aa      	LDD  R26,Y+34
001d46 30a2      	CPI  R26,LOW(0x2)
001d47 f541      	BRNE _0x26F
                 ;    2352 			{	// Change file to blank
                 ;    2353 				sp = _FF_buff + calc_temp + 0x1F;
001d48 940e 382b 	CALL SUBOPT_0x95
                 ;    2354 				for (c=0; c<6; c++)
001d4a e000
001d4b e010      	__GETWRN 16,17,0
                 _0x271:
001d4c 3006
001d4d e0e0
001d4e 071e      	__CPWRN 16,17,6
001d4f f438      	BRSH _0x272
                 ;    2355 					*sp-- = 0;
001d50 940e 3832 	CALL SUBOPT_0x96
001d52 e0e0      	LDI  R30,LOW(0)
001d53 93ec      	ST   X,R30
                 ;    2356 				if (rp->length)
001d54 5f0f
001d55 4f1f      	__ADDWRN 16,17,1
001d56 cff5      	RJMP _0x271
                 _0x272:
001d57 940e 3839 	CALL SUBOPT_0x97
001d59 f0b1      	BREQ _0x273
                 ;    2357 				{
                 ;    2358 					if (_FF_write(_FF_DIR_ADDR + (0x200 * s))==0)
001d5a 01f9      	MOVW R30,R18
001d5b 940e 3842 	CALL SUBOPT_0x98
001d5d 940e 367f 	CALL SUBOPT_0x62
001d5f f419      	BRNE _0x274
                 ;    2359 					{
                 ;    2360 						free(rp);
001d60 940e 37f9 	CALL SUBOPT_0x8E
                 ;    2361 						_FF_DIR_ADDR = addr_temp;
                 ;    2362 						return (0);
001d62 c166      	RJMP _0x509
                 ;    2363 					}
                 ;    2364 					rp->length = 0;
                 _0x274:
001d63 940e 3820 	CALL SUBOPT_0x94
                 ;    2365 					erase_clus_chain(rp->clus_start);
001d65 940e 3853 	CALL SUBOPT_0x99
001d67 940e 161d 	CALL _erase_clus_chain
                 ;    2366 					rp->clus_start = 0;
001d69 81ae      	LDD  R26,Y+6
001d6a 81bf      	LDD  R27,Y+6+1
001d6b 961c      	ADIW R26,12
001d6c e0e0      	LDI  R30,LOW(0)
001d6d e0f0      	LDI  R31,HIGH(0)
001d6e 93ed      	ST   X+,R30
001d6f 93fc      	ST   X,R31
                 ;    2367 				}
                 ;    2368 			}
                 _0x273:
                 ;    2369 		#endif
                 ;    2370 		// Set and save next cluster #
                 ;    2371 		rp->clus_next = next_cluster(rp->clus_current, SINGLE);
                 _0x26F:
001d70 940e 385a 	CALL SUBOPT_0x9A
001d72 940e 3861 	CALL SUBOPT_0x9B
001d74 81ae
001d75 81bf
001d76 9650
001d77 93ed
001d78 93fc      	__PUTW1SNS 6,16
                 ;    2372 		if ((rp->length==0) && (rp->clus_start==0))
001d79 940e 3839 	CALL SUBOPT_0x97
001d7b f421      	BRNE _0x276
001d7c 940e 3812 	CALL SUBOPT_0x92
001d7e 9730      	SBIW R30,0
001d7f f009      	BREQ _0x277
                 _0x276:
001d80 c008      	RJMP _0x275
                 _0x277:
                 ;    2373 		{	// Check for Blank File 
                 ;    2374 			if (MODE==READ)
001d81 a1aa      	LDD  R26,Y+34
001d82 30a1      	CPI  R26,LOW(0x1)
001d83 f419      	BRNE _0x278
                 ;    2375 			{	// IF trying to open a blank file to read, ERROR
                 ;    2376 				_FF_error = MODE_ERR;
001d84 940e 3808 	CALL SUBOPT_0x90
                 ;    2377 				free(rp);
                 ;    2378 				_FF_DIR_ADDR = addr_temp;
                 ;    2379 				return (0);
001d86 c142      	RJMP _0x509
                 ;    2380 			}
                 ;    2381 			//Setup blank FILE characteristics
                 ;    2382 			#ifndef _READ_ONLY_
                 ;    2383 				MODE = WRITE; 
                 _0x278:
001d87 e0e2      	LDI  R30,LOW(2)
001d88 a3ea      	STD  Y+34,R30
                 ;    2384 			#endif
                 ;    2385 		}
                 ;    2386 		// Save the file offset to read entry
                 ;    2387 		rp->entry_sec_addr = path_addr_temp;
                 _0x275:
001d89 85e8
001d8a 85f9
001d8b 856a
001d8c 857b      	__GETD1S 8
001d8d 81ae
001d8e 81bf
001d8f 9656
001d90 940e 3e57 	__PUTD1SNS 6,22
                 ;    2388 		rp->entry_offset =  calc_temp;
001d92 01fa      	MOVW R30,R20
001d93 81ae
001d94 81bf
001d95 965a
001d96 93ed
001d97 93fc      	__PUTW1SNS 6,26
                 ;    2389 		// Set sector offset to 1
                 ;    2390 		rp->sec_offset = 1;
001d98 940e 3865 	CALL SUBOPT_0x9C
                 ;    2391 		if (MODE==APPEND)
001d9a a1aa      	LDD  R26,Y+34
001d9b 30a3      	CPI  R26,LOW(0x3)
001d9c f4b1      	BRNE _0x279
                 ;    2392 		{
                 ;    2393 			if (fseek(rp, 0,SEEK_END)==EOF)
001d9d 81ee      	LDD  R30,Y+6
001d9e 81ff      	LDD  R31,Y+6+1
001d9f 93fa      	ST   -Y,R31
001da0 93ea      	ST   -Y,R30
001da1 e0e0
001da2 e0f0
001da3 e060
001da4 e070      	__GETD1N 0x0
001da5 940e 3e66 	CALL __PUTPARD1
001da7 e0e1      	LDI  R30,LOW(1)
001da8 93ea      	ST   -Y,R30
001da9 940e 2695 	CALL _fseek
001dab 3fef      	CPI  R30,LOW(0xFFFF)
001dac efaf      	LDI  R26,HIGH(0xFFFF)
001dad 07fa      	CPC  R31,R26
001dae f419      	BRNE _0x27A
                 ;    2394 			{
                 ;    2395 				free(rp);
001daf 940e 37f9 	CALL SUBOPT_0x8E
                 ;    2396 				_FF_DIR_ADDR = addr_temp;
                 ;    2397 				return (0);
001db1 c117      	RJMP _0x509
                 ;    2398 			}
                 ;    2399 		}
                 _0x27A:
                 ;    2400 		else
001db2 c01d      	RJMP _0x27B
                 _0x279:
                 ;    2401 		{	// Set pointer to the begining of the file
                 ;    2402 			_FF_read(clust_to_addr(rp->clus_current));
001db3 940e 385a 	CALL SUBOPT_0x9A
001db5 940e 1065 	CALL _clust_to_addr
001db7 940e 3e66 	CALL __PUTPARD1
001db9 940e 0c33 	CALL __FF_read
                 ;    2403 			for (c=0; c<BPB_BytsPerSec; c++)
001dbb e000
001dbc e010      	__GETWRN 16,17,0
                 _0x27D:
001dbd 1506
001dbe 0517      	__CPWRR 16,17,6,7
001dbf f438      	BRSH _0x27E
                 ;    2404 				rp->buff[c] = _FF_buff[c];
001dc0 940e 386d 	CALL SUBOPT_0x9D
001dc2 940e 3873 	CALL SUBOPT_0x9E
                 ;    2405 			rp->pntr = &rp->buff[0];
001dc4 5f0f
001dc5 4f1f      	__ADDWRN 16,17,1
001dc6 cff6      	RJMP _0x27D
                 _0x27E:
001dc7 81ee      	LDD  R30,Y+6
001dc8 81ff      	LDD  R31,Y+6+1
001dc9 967c      	ADIW R30,28
001dca 81ae
001dcb 81bf
001dcc 5da9
001dcd 4fbd
001dce 93ed
001dcf 93fc      	__PUTW1SN 6,551
                 ;    2406 		}
                 _0x27B:
                 ;    2407 		#ifndef _READ_ONLY_
                 ;    2408 			#ifndef _SECOND_FAT_ON_
                 ;    2409 				if ((MODE==WRITE) || (MODE==APPEND))
                 ;    2410 					clear_second_FAT();
                 ;    2411 			#endif
                 ;    2412     	#endif
                 ;    2413 		rp->mode = MODE;
001dd0 a1ea      	LDD  R30,Y+34
001dd1 81ae
001dd2 81bf
001dd3 5dac
001dd4 4fbd
001dd5 93ec      	__PUTB1SN 6,548
                 ;    2414 		_FF_error = NO_ERR;
001dd6 e0e0      	LDI  R30,LOW(0)
001dd7 93e0 073c 	STS  __FF_error,R30
                 ;    2415 		_FF_DIR_ADDR = addr_temp;
001dd9 85ec
001dda 85fd
001ddb 856e
001ddc 857f      	__GETD1S 12
001ddd 93e0 0726 	STS  __FF_DIR_ADDR,R30
001ddf 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
001de1 9360 0728 	STS  __FF_DIR_ADDR+2,R22
001de3 9370 0729 	STS  __FF_DIR_ADDR+3,R23
                 ;    2416 		return(rp);
001de5 81ee      	LDD  R30,Y+6
001de6 81ff      	LDD  R31,Y+6+1
001de7 c0e1      	RJMP _0x509
                 ;    2417 	}
                 ;    2418 	else
                 _0x263:
                 ;    2419 	{                          		
                 ;    2420 		_FF_error = FILE_ERR;
001de8 e0e2      	LDI  R30,LOW(2)
001de9 93e0 073c 	STS  __FF_error,R30
                 ;    2421 		free(rp);
001deb 940e 37f9 	CALL SUBOPT_0x8E
                 ;    2422 		_FF_DIR_ADDR = addr_temp;
                 ;    2423 		return(0);
001ded c0db      	RJMP _0x509
                 ;    2424 	}
                 ;    2425 }
                 ;    2426 
                 ;    2427 #ifndef _READ_ONLY_
                 ;    2428 // Create a file
                 ;    2429 FILE *fcreatec(unsigned char flash *NAMEC, unsigned char MODE)
                 ;    2430 {
                 ;    2431 	unsigned char sd_temp[12];
                 ;    2432 	int c;
                 ;    2433 
                 ;    2434 	for (c=0; c<12; c++)
                 ;	*NAMEC -> Y+15
                 ;	MODE -> Y+14
                 ;	sd_temp -> Y+2
                 ;	c -> R16,R17
                 ;    2435 		sd_temp[c] = NAMEC[c];
                 ;    2436 	
                 ;    2437 	return (fcreate(sd_temp, MODE));
                 ;    2438 }
                 ;    2439 
                 ;    2440 FILE *fcreate(unsigned char *NAME, unsigned char MODE)
                 ;    2441 {
                 _fcreate:
                 ;    2442 	unsigned char fpath[14];
                 ;    2443 	unsigned int c, s, calc_temp;
                 ;    2444 	unsigned char *sp, *qp;
                 ;    2445 	unsigned long addr_temp, path_addr_temp;
                 ;    2446 	FILE *temp_file_pntr;
                 ;    2447 
                 ;    2448     addr_temp = 0;	// save local dir addr
001dee 940e 3795 	CALL SUBOPT_0x88
                 ;	*NAME -> Y+35
                 ;	MODE -> Y+34
                 ;	fpath -> Y+20
                 ;	c -> R16,R17
                 ;	s -> R18,R19
                 ;	calc_temp -> R20,R21
                 ;	*sp -> Y+18
                 ;	*qp -> Y+16
                 ;	addr_temp -> Y+12
                 ;	path_addr_temp -> Y+8
                 ;	*temp_file_pntr -> Y+6
                 ;    2449     
                 ;    2450     if (_FF_checkdir(NAME, &addr_temp, fpath))
001df0 f031      	BREQ _0x283
                 ;    2451 	{
                 ;    2452 		_FF_error = PATH_ERR;
001df1 e0ee      	LDI  R30,LOW(14)
001df2 93e0 073c 	STS  __FF_error,R30
                 ;    2453 		_FF_DIR_ADDR = addr_temp;
001df4 940e 37a8 	CALL SUBOPT_0x89
                 ;    2454 		return (0);
001df6 c0d2      	RJMP _0x509
                 ;    2455 	}
                 ;    2456 	if (fpath[0]==0)
                 _0x283:
001df7 89ec      	LDD  R30,Y+20
001df8 30e0      	CPI  R30,0
001df9 f419      	BRNE _0x284
                 ;    2457 	{
                 ;    2458 		_FF_error = NAME_ERR; 
001dfa 940e 3877 	CALL SUBOPT_0x9F
                 ;    2459 		_FF_DIR_ADDR = addr_temp;
                 ;    2460 		return (0);
001dfc c0cc      	RJMP _0x509
                 ;    2461 	}
                 ;    2462     
                 ;    2463 	path_addr_temp = _FF_DIR_ADDR;
                 _0x284:
001dfd 940e 37b7 	CALL SUBOPT_0x8A
                 ;    2464 	s = scan_directory(&path_addr_temp, fpath);
                 ;    2465 	if (path_addr_temp==0)
001dff 85e8
001e00 85f9
001e01 856a
001e02 857b      	__GETD1S 8
001e03 940e 3ff8 	CALL __CPD10
001e05 f431      	BRNE _0x285
                 ;    2466 	{
                 ;    2467 		_FF_error = NO_ENTRY_AVAL;
001e06 e0ef      	LDI  R30,LOW(15)
001e07 93e0 073c 	STS  __FF_error,R30
                 ;    2468 		_FF_DIR_ADDR = addr_temp;
001e09 940e 37a8 	CALL SUBOPT_0x89
                 ;    2469 		return (0);
001e0b c0bd      	RJMP _0x509
                 ;    2470 	}
                 ;    2471 
                 ;    2472 	calc_temp = path_addr_temp % BPB_BytsPerSec;
                 _0x285:
001e0c 940e 37d3 	CALL SUBOPT_0x8C
                 ;    2473 	path_addr_temp -= calc_temp;
                 ;    2474 	if (_FF_read(path_addr_temp)==0)	
001e0e f431      	BRNE _0x286
                 ;    2475 	{
                 ;    2476 		_FF_error = READ_ERR;
001e0f e0e4      	LDI  R30,LOW(4)
001e10 93e0 073c 	STS  __FF_error,R30
                 ;    2477 		_FF_DIR_ADDR = addr_temp;
001e12 940e 37a8 	CALL SUBOPT_0x89
                 ;    2478 		return (0);
001e14 c0b4      	RJMP _0x509
                 ;    2479 	}
                 ;    2480 
                 ;    2481 	// Get the filename into a form we can use to compare
                 ;    2482 	qp = file_name_conversion(fpath);
                 _0x286:
001e15 940e 37ef 	CALL SUBOPT_0x8D
                 ;    2483 	if (qp==0)
001e17 f419      	BRNE _0x287
                 ;    2484 	{
                 ;    2485 		_FF_error = NAME_ERR; 
001e18 940e 3877 	CALL SUBOPT_0x9F
                 ;    2486 		_FF_DIR_ADDR = addr_temp;
                 ;    2487 		return (0);
001e1a c0ae      	RJMP _0x509
                 ;    2488 	}
                 ;    2489 	sp = &_FF_buff[calc_temp];
                 _0x287:
001e1b 940e 3800 	CALL SUBOPT_0x8F
                 ;    2490 	
                 ;    2491 	if (s)
001e1d f071      	BREQ _0x288
                 ;    2492 	{
                 ;    2493 		if ((_FF_buff[calc_temp+0x0B]&0x1)==1)	// is file read only
001e1e 01fa      	MOVW R30,R20
001e1f 5fe1
001e20 4ffa      	__ADDW1MN __FF_buff,11
001e21 81e0      	LD   R30,Z
001e22 70e1      	ANDI R30,LOW(0x1)
001e23 30e1      	CPI  R30,LOW(0x1)
001e24 f431      	BRNE _0x289
                 ;    2494 		{
                 ;    2495 			_FF_error = READONLY_ERR;
001e25 e0e6      	LDI  R30,LOW(6)
001e26 93e0 073c 	STS  __FF_error,R30
                 ;    2496 			_FF_DIR_ADDR = addr_temp;
001e28 940e 37a8 	CALL SUBOPT_0x89
                 ;    2497 			return (0);
001e2a c09e      	RJMP _0x509
                 ;    2498 		}
                 ;    2499 	}
                 _0x289:
                 ;    2500 	else
001e2b c058      	RJMP _0x28A
                 _0x288:
                 ;    2501 	{
                 ;    2502 		for (c=0; c<11; c++)	// Write Filename
001e2c e000
001e2d e010      	__GETWRN 16,17,0
                 _0x28C:
001e2e 300b
001e2f e0e0
001e30 071e      	__CPWRN 16,17,11
001e31 f470      	BRSH _0x28D
                 ;    2503 			*sp++ = *qp++;
001e32 940e 387b 	CALL SUBOPT_0xA0
001e34 9731      	SBIW R30,1
001e35 010f      	MOVW R0,R30
001e36 89a8      	LDD  R26,Y+16
001e37 89b9      	LDD  R27,Y+16+1
001e38 91ed      	LD   R30,X+
001e39 8ba8      	STD  Y+16,R26
001e3a 8bb9      	STD  Y+16+1,R27
001e3b 01d0      	MOVW R26,R0
001e3c 93ec      	ST   X,R30
                 ;    2504 		*sp = 0x20;				// Attribute bit auto set to "ARCHIVE"
001e3d 5f0f
001e3e 4f1f      	__ADDWRN 16,17,1
001e3f cfee      	RJMP _0x28C
                 _0x28D:
001e40 89aa      	LDD  R26,Y+18
001e41 89bb      	LDD  R27,Y+18+1
001e42 e2e0      	LDI  R30,LOW(32)
001e43 93ec      	ST   X,R30
                 ;    2505 		sp++;		
001e44 940e 387b 	CALL SUBOPT_0xA0
                 ;    2506 		*sp++ = 0;				// Reserved for WinNT
001e46 940e 3881 	CALL SUBOPT_0xA1
                 ;    2507 		*sp++ = 0;				// Mili-second stamp for create
001e48 940e 3881 	CALL SUBOPT_0xA1
                 ;    2508 	
                 ;    2509 		#ifdef _RTC_ON_
                 ;    2510 			rtc_get_timeNdate(&rtc_hour, &rtc_min, &rtc_sec, &rtc_date, &rtc_month, (int *)&rtc_year);	    			
                 ;    2511     	    calc_temp = ((int)rtc_sec&0x1F) | (((int)rtc_min&0x3F)<<5) | (((int)rtc_hour&0x1F)<<11);
                 ;    2512 			*sp++ = calc_temp&0x00FF;	// File create Time 
                 ;    2513 			*sp++ = (calc_temp&0xFF00) >> 8;
                 ;    2514 			calc_temp = ((int)rtc_date&0x1F) | (((int)rtc_month&0x0F)<<5) | (((rtc_year-1980)&0x7F)<<9);
                 ;    2515 			*sp++ = calc_temp&0x00FF;	// File create Date
                 ;    2516 			*sp++ = (calc_temp&0xFF00) >> 8;
                 ;    2517 		#else
                 ;    2518 			for (c=0; c<4; c++)
001e4a e000
001e4b e010      	__GETWRN 16,17,0
                 _0x28F:
001e4c 3004
001e4d e0e0
001e4e 071e      	__CPWRN 16,17,4
001e4f f428      	BRSH _0x290
                 ;    2519 				*sp++ = 0;
001e50 940e 3881 	CALL SUBOPT_0xA1
                 ;    2520 		#endif
                 ;    2521 
                 ;    2522 		*sp++ = 0;				// File access date (2 bytes)
001e52 5f0f
001e53 4f1f      	__ADDWRN 16,17,1
001e54 cff7      	RJMP _0x28F
                 _0x290:
001e55 940e 3881 	CALL SUBOPT_0xA1
                 ;    2523 		*sp++ = 0;
001e57 940e 3881 	CALL SUBOPT_0xA1
                 ;    2524 		*sp++ = 0;				// 0 for FAT12/16 (2 bytes)
001e59 940e 3881 	CALL SUBOPT_0xA1
                 ;    2525 		*sp++ = 0;
001e5b 940e 3881 	CALL SUBOPT_0xA1
                 ;    2526 		for (c=0; c<4; c++)		// Modify time/date
001e5d e000
001e5e e010      	__GETWRN 16,17,0
                 _0x292:
001e5f 3004
001e60 e0e0
001e61 071e      	__CPWRN 16,17,4
001e62 f428      	BRSH _0x293
                 ;    2527 			*sp++ = 0;
001e63 940e 3881 	CALL SUBOPT_0xA1
                 ;    2528 		*sp++ = 0;				// Starting cluster (2 bytes)
001e65 5f0f
001e66 4f1f      	__ADDWRN 16,17,1
001e67 cff7      	RJMP _0x292
                 _0x293:
001e68 940e 3881 	CALL SUBOPT_0xA1
                 ;    2529 		*sp++ = 0;
001e6a 940e 3881 	CALL SUBOPT_0xA1
                 ;    2530 		for (c=0; c<4; c++)
001e6c e000
001e6d e010      	__GETWRN 16,17,0
                 _0x295:
001e6e 3004
001e6f e0e0
001e70 071e      	__CPWRN 16,17,4
001e71 f428      	BRSH _0x296
                 ;    2531 			*sp++ = 0;			// File length (0 for new)
001e72 940e 3881 	CALL SUBOPT_0xA1
                 ;    2532 	
                 ;    2533 		if (_FF_write(path_addr_temp)==0)
001e74 5f0f
001e75 4f1f      	__ADDWRN 16,17,1
001e76 cff7      	RJMP _0x295
                 _0x296:
001e77 85e8
001e78 85f9
001e79 856a
001e7a 857b      	__GETD1S 8
001e7b 940e 367f 	CALL SUBOPT_0x62
001e7d f431      	BRNE _0x297
                 ;    2534 		{
                 ;    2535 			_FF_error = WRITE_ERR;
001e7e e0e3      	LDI  R30,LOW(3)
001e7f 93e0 073c 	STS  __FF_error,R30
                 ;    2536 			_FF_DIR_ADDR = addr_temp;
001e81 940e 37a8 	CALL SUBOPT_0x89
                 ;    2537 			return (0);				
001e83 c045      	RJMP _0x509
                 ;    2538 		}
                 ;    2539 	}
                 _0x297:
                 _0x28A:
                 ;    2540 	_FF_DIR_ADDR = addr_temp;
001e84 85ec
001e85 85fd
001e86 856e
001e87 857f      	__GETD1S 12
001e88 93e0 0726 	STS  __FF_DIR_ADDR,R30
001e8a 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
001e8c 9360 0728 	STS  __FF_DIR_ADDR+2,R22
001e8e 9370 0729 	STS  __FF_DIR_ADDR+3,R23
                 ;    2541 	temp_file_pntr = fopen(NAME, WRITE);
001e90 a1eb      	LDD  R30,Y+35
001e91 a1fc      	LDD  R31,Y+35+1
001e92 93fa      	ST   -Y,R31
001e93 93ea      	ST   -Y,R30
001e94 e0e2      	LDI  R30,LOW(2)
001e95 93ea      	ST   -Y,R30
001e96 940e 1c6d 	CALL _fopen
001e98 940e 37cf 	CALL SUBOPT_0x8B
                 ;    2542 	if (temp_file_pntr == 0)	// Will file open
001e9a f419      	BRNE _0x298
                 ;    2543 		return (0);				
001e9b e0e0      	LDI  R30,LOW(0)
001e9c e0f0      	LDI  R31,HIGH(0)
001e9d c02b      	RJMP _0x509
                 ;    2544 	if (MODE)
                 _0x298:
001e9e a1ea      	LDD  R30,Y+34
001e9f 30e0      	CPI  R30,0
001ea0 f119      	BREQ _0x299
                 ;    2545 	{
                 ;    2546 		if (_FF_read(addr_temp)==0)
001ea1 85ec
001ea2 85fd
001ea3 856e
001ea4 857f      	__GETD1S 12
001ea5 940e 337d 	CALL SUBOPT_0xC
001ea7 f431      	BRNE _0x29A
                 ;    2547 		{
                 ;    2548 			_FF_error = READ_ERR;
001ea8 e0e4      	LDI  R30,LOW(4)
001ea9 93e0 073c 	STS  __FF_error,R30
                 ;    2549 			return (0);
001eab e0e0      	LDI  R30,LOW(0)
001eac e0f0      	LDI  R31,HIGH(0)
001ead c01b      	RJMP _0x509
                 ;    2550 		}
                 ;    2551 		_FF_buff[calc_temp+12] |= MODE;		
                 _0x29A:
001eae 01fa      	MOVW R30,R20
001eaf 5fe0
001eb0 4ffa      	__ADDW1MN __FF_buff,12
001eb1 010f      	MOVW R0,R30
001eb2 81e0      	LD   R30,Z
001eb3 a1aa      	LDD  R26,Y+34
001eb4 2bea      	OR   R30,R26
001eb5 01d0      	MOVW R26,R0
001eb6 93ec      	ST   X,R30
                 ;    2552 		if (_FF_write(addr_temp)==0)
001eb7 85ec
001eb8 85fd
001eb9 856e
001eba 857f      	__GETD1S 12
001ebb 940e 367f 	CALL SUBOPT_0x62
001ebd f431      	BRNE _0x29B
                 ;    2553 		{
                 ;    2554 			_FF_error = WRITE_ERR;
001ebe e0e3      	LDI  R30,LOW(3)
001ebf 93e0 073c 	STS  __FF_error,R30
                 ;    2555 			return (0);
001ec1 e0e0      	LDI  R30,LOW(0)
001ec2 e0f0      	LDI  R31,HIGH(0)
001ec3 c005      	RJMP _0x509
                 ;    2556 		}
                 ;    2557 	}
                 _0x29B:
                 ;    2558 	_FF_error = NO_ERR;
                 _0x299:
001ec4 e0e0      	LDI  R30,LOW(0)
001ec5 93e0 073c 	STS  __FF_error,R30
                 ;    2559 	return (temp_file_pntr);
001ec7 81ee      	LDD  R30,Y+6
001ec8 81ff      	LDD  R31,Y+6+1
                 _0x509:
001ec9 940e 401b 	CALL __LOADLOCR6
001ecb 96a5      	ADIW R28,37
001ecc 9508      	RET
                 ;    2560 }
                 ;    2561 #endif
                 ;    2562 
                 ;    2563 #ifndef _READ_ONLY_
                 ;    2564 // Open a file, name stored in string fileopen
                 ;    2565 int removec(unsigned char flash *NAMEC)
                 ;    2566 {
                 ;    2567 	int c;
                 ;    2568 	unsigned char sd_temp[12];
                 ;    2569 	
                 ;    2570 	for (c=0; c<12; c++)
                 ;	*NAMEC -> Y+14
                 ;	c -> R16,R17
                 ;	sd_temp -> Y+2
                 ;    2571 		sd_temp[c] = NAMEC[c];
                 ;    2572 	
                 ;    2573 	c = remove(sd_temp);
                 ;    2574 	return (c);
                 ;    2575 }
                 ;    2576 
                 ;    2577 // Remove a file from the root directory
                 ;    2578 int remove(unsigned char *NAME)
                 ;    2579 {
                 _remove:
                 ;    2580 	unsigned char fpath[14];
                 ;    2581 	unsigned int s, calc_temp;
                 ;    2582 	unsigned long addr_temp, path_addr_temp;
                 ;    2583 	
                 ;    2584 	#ifndef _SECOND_FAT_ON_
                 ;    2585 		clear_second_FAT();
                 ;    2586     #endif
                 ;    2587     
                 ;    2588     addr_temp = 0;	// save local dir addr
001ecd 9766      	SBIW R28,22
001ece 940e 4016 	CALL __SAVELOCR4
                 ;	*NAME -> Y+26
                 ;	fpath -> Y+12
                 ;	s -> R16,R17
                 ;	calc_temp -> R18,R19
                 ;	addr_temp -> Y+8
                 ;	path_addr_temp -> Y+4
001ed0 e0e0
001ed1 87e8
001ed2 87e9
001ed3 87ea
001ed4 87eb      	__CLRD1S 8
                 ;    2589     
                 ;    2590     if (_FF_checkdir(NAME, &addr_temp, fpath))
001ed5 8dea      	LDD  R30,Y+26
001ed6 8dfb      	LDD  R31,Y+26+1
001ed7 93fa      	ST   -Y,R31
001ed8 93ea      	ST   -Y,R30
001ed9 01fe      	MOVW R30,R28
001eda 963a      	ADIW R30,10
001edb 93fa      	ST   -Y,R31
001edc 93ea      	ST   -Y,R30
001edd 01fe      	MOVW R30,R28
001ede 9670      	ADIW R30,16
001edf 940e 36a8 	CALL SUBOPT_0x6A
001ee1 f021      	BREQ _0x29F
                 ;    2591 	{
                 ;    2592 		_FF_error = PATH_ERR;
001ee2 e0ee      	LDI  R30,LOW(14)
001ee3 940e 388a 	CALL SUBOPT_0xA2
                 ;    2593 		_FF_DIR_ADDR = addr_temp;
                 ;    2594 		return (EOF);
001ee5 c07e      	RJMP _0x508
                 ;    2595 	}
                 ;    2596 	if (fpath[0]==0)
                 _0x29F:
001ee6 85ec      	LDD  R30,Y+12
001ee7 30e0      	CPI  R30,0
001ee8 f421      	BRNE _0x2A0
                 ;    2597 	{
                 ;    2598 		_FF_error = NAME_ERR; 
001ee9 e0e5      	LDI  R30,LOW(5)
001eea 940e 388a 	CALL SUBOPT_0xA2
                 ;    2599 		_FF_DIR_ADDR = addr_temp;
                 ;    2600 		return (EOF);
001eec c077      	RJMP _0x508
                 ;    2601 	}
                 ;    2602     
                 ;    2603 	path_addr_temp = _FF_DIR_ADDR;
                 _0x2A0:
001eed 91e0 0726 	LDS  R30,__FF_DIR_ADDR
001eef 91f0 0727 	LDS  R31,__FF_DIR_ADDR+1
001ef1 9160 0728 	LDS  R22,__FF_DIR_ADDR+2
001ef3 9170 0729 	LDS  R23,__FF_DIR_ADDR+3
001ef5 83ec
001ef6 83fd
001ef7 836e
001ef8 837f      	__PUTD1S 4
                 ;    2604 	s = scan_directory(&path_addr_temp, fpath);
001ef9 01fe      	MOVW R30,R28
001efa 9634      	ADIW R30,4
001efb 93fa      	ST   -Y,R31
001efc 93ea      	ST   -Y,R30
001efd 01fe      	MOVW R30,R28
001efe 963e      	ADIW R30,14
001eff 93fa      	ST   -Y,R31
001f00 93ea      	ST   -Y,R30
001f01 940e 0d61 	CALL _scan_directory
001f03 018f      	MOVW R16,R30
                 ;    2605 	if ((path_addr_temp==0) || (s==0))
001f04 81ac
001f05 81bd
001f06 818e
001f07 819f      	__GETD2S 4
001f08 940e 4004 	CALL __CPD02
001f0a f021      	BREQ _0x2A2
001f0b 2400      	CLR  R0
001f0c 1600      	CP   R0,R16
001f0d 0601      	CPC  R0,R17
001f0e f421      	BRNE _0x2A1
                 _0x2A2:
                 ;    2606 	{
                 ;    2607 		_FF_error = NO_ENTRY_AVAL;
001f0f e0ef      	LDI  R30,LOW(15)
001f10 940e 388a 	CALL SUBOPT_0xA2
                 ;    2608 		_FF_DIR_ADDR = addr_temp;
                 ;    2609 		return (EOF);
001f12 c051      	RJMP _0x508
                 ;    2610 	}
                 ;    2611 	_FF_DIR_ADDR = addr_temp;		// Reset current dir
                 _0x2A1:
001f13 85e8
001f14 85f9
001f15 856a
001f16 857b      	__GETD1S 8
001f17 93e0 0726 	STS  __FF_DIR_ADDR,R30
001f19 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
001f1b 9360 0728 	STS  __FF_DIR_ADDR+2,R22
001f1d 9370 0729 	STS  __FF_DIR_ADDR+3,R23
                 ;    2612 
                 ;    2613 	calc_temp = path_addr_temp % BPB_BytsPerSec;
001f1f 940e 389b 	CALL SUBOPT_0xA3
001f21 940e 3e1c 	CALL __MODD21U
001f23 019f      	MOVW R18,R30
                 ;    2614 	path_addr_temp -= calc_temp;
001f24 01f9      	MOVW R30,R18
001f25 81ac
001f26 81bd
001f27 818e
001f28 819f      	__GETD2S 4
001f29 2766      	CLR  R22
001f2a 2777      	CLR  R23
001f2b 940e 3d21 	CALL __SUBD21
001f2d 83ac
001f2e 83bd
001f2f 838e
001f30 839f      	__PUTD2S 4
                 ;    2615 	if (_FF_read(path_addr_temp)==0)	
001f31 81ec
001f32 81fd
001f33 816e
001f34 817f      	__GETD1S 4
001f35 940e 337d 	CALL SUBOPT_0xC
001f37 f419      	BRNE _0x2A4
                 ;    2616 	{
                 ;    2617 		_FF_error = READ_ERR;
001f38 940e 38a3 	CALL SUBOPT_0xA4
                 ;    2618 		return (EOF);
001f3a c029      	RJMP _0x508
                 ;    2619 	}
                 ;    2620 	
                 ;    2621 	// Erase entry (put 0xE5 into start of the filename
                 ;    2622 	_FF_buff[calc_temp] = 0xE5;
                 _0x2A4:
001f3b e0a4      	LDI  R26,LOW(__FF_buff)
001f3c e0b5      	LDI  R27,HIGH(__FF_buff)
001f3d 0fa2      	ADD  R26,R18
001f3e 1fb3      	ADC  R27,R19
001f3f eee5      	LDI  R30,LOW(229)
001f40 93ec      	ST   X,R30
                 ;    2623 	if (_FF_write(path_addr_temp)==0)
001f41 81ec
001f42 81fd
001f43 816e
001f44 817f      	__GETD1S 4
001f45 940e 367f 	CALL SUBOPT_0x62
001f47 f419      	BRNE _0x2A5
                 ;    2624 	{
                 ;    2625 		_FF_error = WRITE_ERR;
001f48 940e 3685 	CALL SUBOPT_0x63
                 ;    2626 		return (EOF);
001f4a c019      	RJMP _0x508
                 ;    2627 	}
                 ;    2628 	// Save Starting Cluster
                 ;    2629 	calc_temp = ((int) _FF_buff[calc_temp+0x1B] << 8) | (int) _FF_buff[calc_temp+0x1A];
                 _0x2A5:
001f4b 01f9      	MOVW R30,R18
001f4c 5ee1
001f4d 4ffa      	__ADDW1MN __FF_buff,27
001f4e 940e 34a0 	CALL SUBOPT_0x30
001f50 01f9      	MOVW R30,R18
001f51 5ee2
001f52 4ffa      	__ADDW1MN __FF_buff,26
001f53 940e 34a4 	CALL SUBOPT_0x31
001f55 019f      	MOVW R18,R30
                 ;    2630 	// Destroy cluster chain
                 ;    2631 	if (calc_temp)
001f56 2e02      	MOV  R0,R18
001f57 2a03      	OR   R0,R19
001f58 f049      	BREQ _0x2A6
                 ;    2632 		if (erase_clus_chain(calc_temp) == 0)
001f59 933a      	ST   -Y,R19
001f5a 932a      	ST   -Y,R18
001f5b 940e 161d 	CALL _erase_clus_chain
001f5d 30e0      	CPI  R30,0
001f5e f419      	BRNE _0x2A7
                 ;    2633 			return (EOF);
001f5f efef      	LDI  R30,LOW(65535)
001f60 efff      	LDI  R31,HIGH(65535)
001f61 c002      	RJMP _0x508
                 ;    2634 			
                 ;    2635 	return (1);
                 _0x2A7:
                 _0x2A6:
001f62 e0e1      	LDI  R30,LOW(1)
001f63 e0f0      	LDI  R31,HIGH(1)
                 _0x508:
001f64 940e 401d 	CALL __LOADLOCR4
001f66 966c      	ADIW R28,28
001f67 9508      	RET
                 ;    2636 }
                 ;    2637 #endif
                 ;    2638 
                 ;    2639 #ifndef _READ_ONLY_
                 ;    2640 // Rename a file in the Root Directory
                 ;    2641 int rename(unsigned char *NAME_OLD, unsigned char *NAME_NEW)
                 ;    2642 {
                 _rename:
                 ;    2643 	unsigned char c;
                 ;    2644 	unsigned int calc_temp;
                 ;    2645 	unsigned long addr_temp, path_addr_temp;
                 ;    2646 	unsigned char *sp, *qp;
                 ;    2647 	unsigned char fpath[14];
                 ;    2648 
                 ;    2649 	// Get the filename into a form we can use to compare
                 ;    2650 	qp = file_name_conversion(NAME_NEW);
001f68 9768      	SBIW R28,24
001f69 940e 4015 	CALL __SAVELOCR5
                 ;	*NAME_OLD -> Y+31
                 ;	*NAME_NEW -> Y+29
                 ;	c -> R16
                 ;	calc_temp -> R17,R18
                 ;	addr_temp -> Y+25
                 ;	path_addr_temp -> Y+21
                 ;	*sp -> R19,R20
                 ;	*qp -> Y+19
                 ;	fpath -> Y+5
001f6b 8ded      	LDD  R30,Y+29
001f6c 8dfe      	LDD  R31,Y+29+1
001f6d 93fa      	ST   -Y,R31
001f6e 93ea      	ST   -Y,R30
001f6f 940e 122d 	CALL _file_name_conversion
001f71 8beb      	STD  Y+19,R30
001f72 8bfc      	STD  Y+19+1,R31
                 ;    2651 	if (qp==0)
001f73 9730      	SBIW R30,0
001f74 f419      	BRNE _0x2A8
                 ;    2652 	{
                 ;    2653 		_FF_error = NAME_ERR;
001f75 940e 38a9 	CALL SUBOPT_0xA5
                 ;    2654 		return (EOF);
001f77 c097      	RJMP _0x507
                 ;    2655 	}
                 ;    2656 	
                 ;    2657     addr_temp = 0;	// save local dir addr
                 _0x2A8:
001f78 e0e0
001f79 8fe9
001f7a 8fea
001f7b 8feb
001f7c 8fec      	__CLRD1S 25
                 ;    2658     
                 ;    2659     if (_FF_checkdir(NAME_OLD, &addr_temp, fpath))
001f7d 8def      	LDD  R30,Y+31
001f7e a1f8      	LDD  R31,Y+31+1
001f7f 93fa      	ST   -Y,R31
001f80 93ea      	ST   -Y,R30
001f81 01fe      	MOVW R30,R28
001f82 967b      	ADIW R30,27
001f83 93fa      	ST   -Y,R31
001f84 93ea      	ST   -Y,R30
001f85 01fe      	MOVW R30,R28
001f86 9639      	ADIW R30,9
001f87 940e 36a8 	CALL SUBOPT_0x6A
001f89 f021      	BREQ _0x2A9
                 ;    2660 	{
                 ;    2661 		_FF_error = PATH_ERR;
001f8a e0ee      	LDI  R30,LOW(14)
001f8b 940e 38af 	CALL SUBOPT_0xA6
                 ;    2662 		_FF_DIR_ADDR = addr_temp;
                 ;    2663 		return (EOF);
001f8d c081      	RJMP _0x507
                 ;    2664 	}
                 ;    2665 	if (fpath[0]==0)
                 _0x2A9:
001f8e 81ed      	LDD  R30,Y+5
001f8f 30e0      	CPI  R30,0
001f90 f421      	BRNE _0x2AA
                 ;    2666 	{
                 ;    2667 		_FF_error = NAME_ERR; 
001f91 e0e5      	LDI  R30,LOW(5)
001f92 940e 38af 	CALL SUBOPT_0xA6
                 ;    2668 		_FF_DIR_ADDR = addr_temp;
                 ;    2669 		return (EOF);
001f94 c07a      	RJMP _0x507
                 ;    2670 	}
                 ;    2671 
                 ;    2672 	path_addr_temp = _FF_DIR_ADDR;
                 _0x2AA:
001f95 940e 38c0 	CALL SUBOPT_0xA7
                 ;    2673 	calc_temp = scan_directory(&path_addr_temp, NAME_NEW);
001f97 93fa      	ST   -Y,R31
001f98 93ea      	ST   -Y,R30
001f99 8def      	LDD  R30,Y+31
001f9a a1f8      	LDD  R31,Y+31+1
001f9b 93fa      	ST   -Y,R31
001f9c 93ea      	ST   -Y,R30
001f9d 940e 0d61 	CALL _scan_directory
001f9f 2f1e
001fa0 2f2f      	__PUTW1R 17,18
                 ;    2674 	if (calc_temp)
001fa1 2e01      	MOV  R0,R17
001fa2 2a02      	OR   R0,R18
001fa3 f019      	BREQ _0x2AB
                 ;    2675 	{	// does new name alread exist?
                 ;    2676 		_FF_DIR_ADDR = addr_temp;
001fa4 940e 38cf 	CALL SUBOPT_0xA8
                 ;    2677 		_FF_error = EXIST_ERR;
                 ;    2678 		return (EOF);
001fa6 c068      	RJMP _0x507
                 ;    2679 	}
                 ;    2680 
                 ;    2681 	path_addr_temp = _FF_DIR_ADDR;
                 _0x2AB:
001fa7 940e 38c0 	CALL SUBOPT_0xA7
                 ;    2682 	calc_temp = scan_directory(&path_addr_temp, fpath);
001fa9 940e 3709 	CALL SUBOPT_0x76
001fab 940e 0d61 	CALL _scan_directory
001fad 2f1e
001fae 2f2f      	__PUTW1R 17,18
                 ;    2683 	if ((path_addr_temp==0) || (calc_temp==0))
001faf 89ad
001fb0 89be
001fb1 898f
001fb2 8d98      	__GETD2S 21
001fb3 940e 4004 	CALL __CPD02
001fb5 f021      	BREQ _0x2AD
001fb6 2400      	CLR  R0
001fb7 1601      	CP   R0,R17
001fb8 0602      	CPC  R0,R18
001fb9 f419      	BRNE _0x2AC
                 _0x2AD:
                 ;    2684 	{
                 ;    2685 		_FF_DIR_ADDR = addr_temp;
001fba 940e 38cf 	CALL SUBOPT_0xA8
                 ;    2686 		_FF_error = EXIST_ERR;
                 ;    2687 		return (EOF);
001fbc c052      	RJMP _0x507
                 ;    2688 	}
                 ;    2689 
                 ;    2690 
                 ;    2691 	_FF_DIR_ADDR = addr_temp;		// Reset current dir
                 _0x2AC:
001fbd 8de9
001fbe 8dfa
001fbf 8d6b
001fc0 8d7c      	__GETD1S 25
001fc1 93e0 0726 	STS  __FF_DIR_ADDR,R30
001fc3 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
001fc5 9360 0728 	STS  __FF_DIR_ADDR+2,R22
001fc7 9370 0729 	STS  __FF_DIR_ADDR+3,R23
                 ;    2692 
                 ;    2693 	calc_temp = path_addr_temp % BPB_BytsPerSec;
001fc9 01f3      	MOVW R30,R6
001fca 89ad
001fcb 89be
001fcc 898f
001fcd 8d98      	__GETD2S 21
001fce 2766      	CLR  R22
001fcf 2777      	CLR  R23
001fd0 940e 3e1c 	CALL __MODD21U
001fd2 2f1e
001fd3 2f2f      	__PUTW1R 17,18
                 ;    2694 	path_addr_temp -= calc_temp;
001fd4 2fe1
001fd5 2ff2      	__GETW1R 17,18
001fd6 89ad
001fd7 89be
001fd8 898f
001fd9 8d98      	__GETD2S 21
001fda 2766      	CLR  R22
001fdb 2777      	CLR  R23
001fdc 940e 3d21 	CALL __SUBD21
001fde 8bad
001fdf 8bbe
001fe0 8b8f
001fe1 8f98      	__PUTD2S 21
                 ;    2695 	if (_FF_read(path_addr_temp)==0)	
001fe2 89ed
001fe3 89fe
001fe4 896f
001fe5 8d78      	__GETD1S 21
001fe6 940e 337d 	CALL SUBOPT_0xC
001fe8 f419      	BRNE _0x2AF
                 ;    2696 	{
                 ;    2697 		_FF_error = READ_ERR;
001fe9 940e 38a3 	CALL SUBOPT_0xA4
                 ;    2698 		return (EOF);
001feb c023      	RJMP _0x507
                 ;    2699 	}
                 ;    2700 	
                 ;    2701 	// Rename entry
                 ;    2702 	sp = &_FF_buff[calc_temp];
                 _0x2AF:
001fec 2fe1
001fed 2ff2      	__GETW1R 17,18
001fee 5fec      	SUBI R30,LOW(-__FF_buff)
001fef 4ffa      	SBCI R31,HIGH(-__FF_buff)
001ff0 2f3e
001ff1 2f4f      	__PUTW1R 19,20
                 ;    2703 	for (c=0; c<11; c++)
001ff2 e000      	LDI  R16,LOW(0)
                 _0x2B1:
001ff3 300b      	CPI  R16,11
001ff4 f470      	BRSH _0x2B2
                 ;    2704 		*sp++ = *qp++;
001ff5 934f      	PUSH R20
001ff6 933f      	PUSH R19
001ff7 5f3f
001ff8 4f4f      	__ADDWRN 19,20,1
001ff9 89ab      	LDD  R26,Y+19
001ffa 89bc      	LDD  R27,Y+19+1
001ffb 91ed      	LD   R30,X+
001ffc 8bab      	STD  Y+19,R26
001ffd 8bbc      	STD  Y+19+1,R27
001ffe 91af      	POP  R26
001fff 91bf      	POP  R27
002000 93ec      	ST   X,R30
                 ;    2705 	if (_FF_write(path_addr_temp)==0)
002001 5f0f      	SUBI R16,-1
002002 cff0      	RJMP _0x2B1
                 _0x2B2:
002003 89ed
002004 89fe
002005 896f
002006 8d78      	__GETD1S 21
002007 940e 367f 	CALL SUBOPT_0x62
002009 f419      	BRNE _0x2B3
                 ;    2706 		return (EOF);
00200a efef      	LDI  R30,LOW(65535)
00200b efff      	LDI  R31,HIGH(65535)
00200c c002      	RJMP _0x507
                 ;    2707 
                 ;    2708 	return(0);
                 _0x2B3:
00200d e0e0      	LDI  R30,LOW(0)
00200e e0f0      	LDI  R31,HIGH(0)
                 _0x507:
00200f 940e 401c 	CALL __LOADLOCR5
002011 96a1      	ADIW R28,33
002012 9508      	RET
                 ;    2709 }
                 ;    2710 #endif
                 ;    2711 
                 ;    2712 #ifndef _READ_ONLY_
                 ;    2713 // Save Contents of file, w/o closing
                 ;    2714 int fflush(FILE *rp)	
                 ;    2715 {
                 _fflush:
                 ;    2716 	unsigned int  n;
                 ;    2717 	unsigned long addr_temp;
                 ;    2718 	
                 ;    2719 	if ((rp==NULL) || (rp->mode==READ))
002013 940e 38e1 	CALL SUBOPT_0xA9
                 ;	*rp -> Y+6
                 ;	n -> R16,R17
                 ;	addr_temp -> Y+2
002015 f021      	BREQ _0x2B5
002016 940e 38e9 	CALL SUBOPT_0xAA
002018 30a1      	CPI  R26,LOW(0x1)
002019 f419      	BRNE _0x2B4
                 _0x2B5:
                 ;    2720 		return (EOF);
00201a efef      	LDI  R30,LOW(65535)
00201b efff      	LDI  R31,HIGH(65535)
00201c c038      	RJMP _0x506
                 ;    2721 	
                 ;    2722 	if ((rp->mode==WRITE) || (rp->mode==APPEND))
                 _0x2B4:
00201d 940e 38e9 	CALL SUBOPT_0xAA
00201f 30a2      	CPI  R26,LOW(0x2)
002020 f021      	BREQ _0x2B8
002021 940e 38e9 	CALL SUBOPT_0xAA
002023 30a3      	CPI  R26,LOW(0x3)
002024 f571      	BRNE _0x2B7
                 _0x2B8:
                 ;    2723 	{
                 ;    2724 		addr_temp = (clust_to_addr(rp->clus_current) + ((rp->sec_offset-1)*BPB_BytsPerSec));
002025 940e 385a 	CALL SUBOPT_0x9A
002027 940e 1065 	CALL _clust_to_addr
002029 937f      	PUSH R23
00202a 936f      	PUSH R22
00202b 93ff      	PUSH R31
00202c 93ef      	PUSH R30
00202d 940e 38ef 	CALL SUBOPT_0xAB
00202f 940e 3d8a 	CALL __MULW12U
002031 91af      	POP  R26
002032 91bf      	POP  R27
002033 918f      	POP  R24
002034 919f      	POP  R25
002035 940e 38f5 	CALL SUBOPT_0xAC
                 ;    2725 		for (n=0; n<BPB_BytsPerSec; n++)	// Save file buffer to SD buffer
002037 e000
002038 e010      	__GETWRN 16,17,0
                 _0x2BB:
002039 1506
00203a 0517      	__CPWRR 16,17,6,7
00203b f438      	BRSH _0x2BC
                 ;    2726 			_FF_buff[n] = rp->buff[n];
00203c 940e 38fe 	CALL SUBOPT_0xAD
00203e 81e0      	LD   R30,Z
00203f 93ec      	ST   X,R30
                 ;    2727 		if (_FF_write(addr_temp)==0)	// Write SD buffer to disk
002040 5f0f
002041 4f1f      	__ADDWRN 16,17,1
002042 cff6      	RJMP _0x2BB
                 _0x2BC:
002043 81ea
002044 81fb
002045 816c
002046 817d      	__GETD1S 2
002047 940e 367f 	CALL SUBOPT_0x62
002049 f419      	BRNE _0x2BD
                 ;    2728 			return (EOF);
00204a efef      	LDI  R30,LOW(65535)
00204b efff      	LDI  R31,HIGH(65535)
00204c c008      	RJMP _0x506
                 ;    2729 		if (append_toc(rp)==0)	// Update Entry or Error
                 _0x2BD:
00204d 940e 3902 	CALL SUBOPT_0xAE
00204f f419      	BRNE _0x2BE
                 ;    2730 			return (EOF);
002050 efef      	LDI  R30,LOW(65535)
002051 efff      	LDI  R31,HIGH(65535)
002052 c002      	RJMP _0x506
                 ;    2731 	}
                 _0x2BE:
                 ;    2732 	
                 ;    2733 	return (0);
                 _0x2B7:
002053 e0e0      	LDI  R30,LOW(0)
002054 e0f0      	LDI  R31,HIGH(0)
                 _0x506:
002055 8119      	LDD  R17,Y+1
002056 8108      	LDD  R16,Y+0
002057 9628      	ADIW R28,8
002058 9508      	RET
                 ;    2734 }
                 ;    2735 #endif		
                 ;    2736 
                 ;    2737 
                 ;    2738 // Close an open file
                 ;    2739 int fclose(FILE *rp)	
                 ;    2740 {
                 _fclose:
                 ;    2741 	#ifndef _READ_ONLY_
                 ;    2742 	if (rp->mode!=READ)
002059 81a8      	LD   R26,Y
00205a 81b9      	LDD  R27,Y+1
00205b 940e 390a 	CALL SUBOPT_0xAF
00205d f069      	BREQ _0x2BF
                 ;    2743 		if (fflush(rp)==EOF)
00205e 81e8      	LD   R30,Y
00205f 81f9      	LDD  R31,Y+1
002060 93fa      	ST   -Y,R31
002061 93ea      	ST   -Y,R30
002062 940e 2013 	CALL _fflush
002064 3fef      	CPI  R30,LOW(0xFFFF)
002065 efaf      	LDI  R26,HIGH(0xFFFF)
002066 07fa      	CPC  R31,R26
002067 f419      	BRNE _0x2C0
                 ;    2744 			return (EOF);
002068 efef      	LDI  R30,LOW(65535)
002069 efff      	LDI  R31,HIGH(65535)
00206a c013      	RJMP _0x505
                 ;    2745 	#endif	
                 ;    2746 	// Clear File Structure
                 ;    2747 	free(rp);
                 _0x2C0:
                 _0x2BF:
00206b 940e 390f 	CALL SUBOPT_0xB0
                 ;    2748 	rp = 0;
00206d e0e0      	LDI  R30,0
00206e 83e8      	STD  Y+0,R30
00206f 83e9      	STD  Y+0+1,R30
                 ;    2749 	return(0);
002070 e0e0      	LDI  R30,LOW(0)
002071 e0f0      	LDI  R31,HIGH(0)
002072 c00b      	RJMP _0x505
                 ;    2750 }
                 ;    2751 
                 ;    2752 int ffreemem(FILE *rp)	
                 ;    2753 {
                 _ffreemem:
                 ;    2754 	// Clear File Structure
                 ;    2755 	if (rp==0)
002073 81e8      	LD   R30,Y
002074 81f9      	LDD  R31,Y+1
002075 9730      	SBIW R30,0
002076 f419      	BRNE _0x2C1
                 ;    2756 		return (EOF);
002077 efef      	LDI  R30,LOW(65535)
002078 efff      	LDI  R31,HIGH(65535)
002079 c004      	RJMP _0x505
                 ;    2757 	free(rp);
                 _0x2C1:
00207a 940e 390f 	CALL SUBOPT_0xB0
                 ;    2758 	return(0);
00207c e0e0      	LDI  R30,LOW(0)
00207d e0f0      	LDI  R31,HIGH(0)
                 _0x505:
00207e 9622      	ADIW R28,2
00207f 9508      	RET
                 ;    2759 }
                 ;    2760 
                 ;    2761 int fget_file_infoc(unsigned char flash *NAMEC, unsigned long *F_SIZE, unsigned char *F_CREATE,
                 ;    2762 				unsigned char *F_MODIFY, unsigned char *F_ATTRIBUTE, unsigned int *F_CLUS_START)
                 ;    2763 {
                 ;    2764 	int c;
                 ;    2765 	unsigned char sd_temp[12];
                 ;    2766 	
                 ;    2767 	for (c=0; c<12; c++)
                 ;	*NAMEC -> Y+24
                 ;	*F_SIZE -> Y+22
                 ;	*F_CREATE -> Y+20
                 ;	*F_MODIFY -> Y+18
                 ;	*F_ATTRIBUTE -> Y+16
                 ;	*F_CLUS_START -> Y+14
                 ;	c -> R16,R17
                 ;	sd_temp -> Y+2
                 ;    2768 		sd_temp[c] = NAMEC[c];
                 ;    2769 	
                 ;    2770 	c = fget_file_info(sd_temp, F_SIZE, F_CREATE, F_MODIFY, F_ATTRIBUTE, F_CLUS_START);
                 ;    2771 	return (c);
                 ;    2772 }
                 ;    2773 
                 ;    2774 int fget_file_info(unsigned char *NAME, unsigned long *F_SIZE, unsigned char *F_CREATE,
                 ;    2775 				unsigned char *F_MODIFY, unsigned char *F_ATTRIBUTE, unsigned int *F_CLUS_START)
                 ;    2776 {
                 _fget_file_info:
                 ;    2777 	unsigned char n;
                 ;    2778 	unsigned int s, calc_temp;
                 ;    2779 	unsigned long addr_temp, file_calc_temp;
                 ;    2780 	unsigned char *sp, *qp;
                 ;    2781 	
                 ;    2782 	// Get the filename into a form we can use to compare
                 ;    2783 	qp = file_name_conversion(NAME);
002080 972c      	SBIW R28,12
002081 940e 4015 	CALL __SAVELOCR5
                 ;	*NAME -> Y+27
                 ;	*F_SIZE -> Y+25
                 ;	*F_CREATE -> Y+23
                 ;	*F_MODIFY -> Y+21
                 ;	*F_ATTRIBUTE -> Y+19
                 ;	*F_CLUS_START -> Y+17
                 ;	n -> R16
                 ;	s -> R17,R18
                 ;	calc_temp -> R19,R20
                 ;	addr_temp -> Y+13
                 ;	file_calc_temp -> Y+9
                 ;	*sp -> Y+7
                 ;	*qp -> Y+5
002083 8deb      	LDD  R30,Y+27
002084 8dfc      	LDD  R31,Y+27+1
002085 93fa      	ST   -Y,R31
002086 93ea      	ST   -Y,R30
002087 940e 122d 	CALL _file_name_conversion
002089 83ed      	STD  Y+5,R30
00208a 83fe      	STD  Y+5+1,R31
                 ;    2784 	if (qp==0)
00208b 9730      	SBIW R30,0
00208c f419      	BRNE _0x2C5
                 ;    2785 	{
                 ;    2786 		_FF_error = NAME_ERR;
00208d 940e 38a9 	CALL SUBOPT_0xA5
                 ;    2787 		return (EOF);
00208f c23f      	RJMP _0x504
                 ;    2788 	}
                 ;    2789 	
                 ;    2790 	for (s=0; s<BPB_BytsPerSec; s++)
                 _0x2C5:
002090 e010
002091 e020      	__GETWRN 17,18,0
                 _0x2C7:
002092 1516
002093 0527      	__CPWRR 17,18,6,7
002094 f010      	BRLO PC+3
002095 940c 22cd 	JMP _0x2C8
                 ;    2791 	{	// Scan through directory entries to find file
                 ;    2792 		addr_temp = _FF_DIR_ADDR + (0x200 * s);
002097 2fe1
002098 2ff2      	__GETW1R 17,18
002099 940e 3842 	CALL SUBOPT_0x98
00209b 87ed
00209c 87fe
00209d 876f
00209e 8b78      	__PUTD1S 13
                 ;    2793 		if (_FF_read(addr_temp)==0)
00209f 940e 337d 	CALL SUBOPT_0xC
0020a1 f419      	BRNE _0x2C9
                 ;    2794 			return (EOF);
0020a2 efef      	LDI  R30,LOW(65535)
0020a3 efff      	LDI  R31,HIGH(65535)
0020a4 c22a      	RJMP _0x504
                 ;    2795 		for (n=0; n<16; n++)
                 _0x2C9:
0020a5 e000      	LDI  R16,LOW(0)
                 _0x2CB:
0020a6 3100      	CPI  R16,16
0020a7 f010      	BRLO PC+3
0020a8 940c 22ca 	JMP _0x2CC
                 ;    2796 		{
                 ;    2797 			calc_temp = (int) n * 0x20;
0020aa 2fe0      	MOV  R30,R16
0020ab e0f0      	LDI  R31,0
0020ac 0fee      	LSL  R30
0020ad 1fff      	ROL  R31
0020ae 940e 3d59 	CALL __LSLW4
0020b0 2f3e
0020b1 2f4f      	__PUTW1R 19,20
                 ;    2798 			qp = &FILENAME[0];
0020b2 ebea      	LDI  R30,LOW(_FILENAME)
0020b3 e0f7      	LDI  R31,HIGH(_FILENAME)
0020b4 83ed      	STD  Y+5,R30
0020b5 83fe      	STD  Y+5+1,R31
                 ;    2799 			sp = &_FF_buff[calc_temp];
0020b6 2fe3
0020b7 2ff4      	__GETW1R 19,20
0020b8 5fec      	SUBI R30,LOW(-__FF_buff)
0020b9 4ffa      	SBCI R31,HIGH(-__FF_buff)
0020ba 83ef      	STD  Y+7,R30
0020bb 87f8      	STD  Y+7+1,R31
                 ;    2800 			if (*sp == 0)
0020bc 81af      	LDD  R26,Y+7
0020bd 85b8      	LDD  R27,Y+7+1
0020be 91ec      	LD   R30,X
0020bf 30e0      	CPI  R30,0
0020c0 f419      	BRNE _0x2CD
                 ;    2801 				return (EOF);
0020c1 efef      	LDI  R30,LOW(65535)
0020c2 efff      	LDI  R31,HIGH(65535)
0020c3 c20b      	RJMP _0x504
                 ;    2802 			if (strncmp(qp, sp, 11)==0)		// Does this entry == Filename
                 _0x2CD:
0020c4 81ed      	LDD  R30,Y+5
0020c5 81fe      	LDD  R31,Y+5+1
0020c6 93fa      	ST   -Y,R31
0020c7 93ea      	ST   -Y,R30
0020c8 85e9      	LDD  R30,Y+9
0020c9 85fa      	LDD  R31,Y+9+1
0020ca 93fa      	ST   -Y,R31
0020cb 93ea      	ST   -Y,R30
0020cc e0eb      	LDI  R30,LOW(11)
0020cd 93ea      	ST   -Y,R30
0020ce 940e 3c95 	CALL _strncmp
0020d0 30e0      	CPI  R30,0
0020d1 f011      	BREQ PC+3
0020d2 940c 22c8 	JMP _0x2CE
                 ;    2803 			{
                 ;    2804 				*F_ATTRIBUTE = _FF_buff[calc_temp+11];	// Save ATTRIBUTE Byte to location
0020d4 2fe3
0020d5 2ff4      	__GETW1R 19,20
0020d6 5fe1
0020d7 4ffa      	__ADDW1MN __FF_buff,11
0020d8 81e0      	LD   R30,Z
0020d9 89ab      	LDD  R26,Y+19
0020da 89bc      	LDD  R27,Y+19+1
0020db 93ec      	ST   X,R30
                 ;    2805 				*F_SIZE = ((long) _FF_buff[calc_temp+31] << 24) | ((long) _FF_buff[calc_temp+30] << 16)
                 ;    2806 							| ((long) _FF_buff[calc_temp+29] << 8) | ((long) _FF_buff[calc_temp+28]);
0020dc 2fe3
0020dd 2ff4      	__GETW1R 19,20
0020de 5ded
0020df 4ffa      	__ADDW1MN __FF_buff,31
0020e0 81e0      	LD   R30,Z
0020e1 940e 339b 	CALL SUBOPT_0x10
0020e3 2fe3
0020e4 2ff4      	__GETW1R 19,20
0020e5 5dee
0020e6 4ffa      	__ADDW1MN __FF_buff,30
0020e7 81e0      	LD   R30,Z
0020e8 940e 33a6 	CALL SUBOPT_0x11
0020ea 937f      	PUSH R23
0020eb 936f      	PUSH R22
0020ec 93ff      	PUSH R31
0020ed 93ef      	PUSH R30
0020ee 2fe3
0020ef 2ff4      	__GETW1R 19,20
0020f0 5def
0020f1 4ffa      	__ADDW1MN __FF_buff,29
0020f2 81e0      	LD   R30,Z
0020f3 940e 33ae 	CALL SUBOPT_0x12
0020f5 91af      	POP  R26
0020f6 91bf      	POP  R27
0020f7 918f      	POP  R24
0020f8 919f      	POP  R25
0020f9 940e 3d26 	CALL __ORD12
0020fb 01df      	MOVW R26,R30
0020fc 01cb      	MOVW R24,R22
0020fd 2fe3
0020fe 2ff4      	__GETW1R 19,20
0020ff 5ee0
002100 4ffa      	__ADDW1MN __FF_buff,28
002101 940e 3499 	CALL SUBOPT_0x2F
002103 8da9      	LDD  R26,Y+25
002104 8dba      	LDD  R27,Y+25+1
002105 940e 3e57 	CALL __PUTDP1
                 ;    2807 							// Save SIZE of file to location
                 ;    2808                 *F_CLUS_START = ((unsigned int) _FF_buff[calc_temp+27] << 8) | ((unsigned int) _FF_buff[calc_temp+26]);
002107 2fe3
002108 2ff4      	__GETW1R 19,20
002109 5ee1
00210a 4ffa      	__ADDW1MN __FF_buff,27
00210b 940e 34a0 	CALL SUBOPT_0x30
00210d 2fe3
00210e 2ff4      	__GETW1R 19,20
00210f 5ee2
002110 4ffa      	__ADDW1MN __FF_buff,26
002111 940e 34a4 	CALL SUBOPT_0x31
002113 89a9      	LDD  R26,Y+17
002114 89ba      	LDD  R27,Y+17+1
002115 93ed      	ST   X+,R30
002116 93fc      	ST   X,R31
                 ;    2809 				file_calc_temp = ((unsigned int) _FF_buff[calc_temp+17] << 8) | ((unsigned int) _FF_buff[calc_temp+16]);
002117 2fe3
002118 2ff4      	__GETW1R 19,20
002119 5eeb
00211a 4ffa      	__ADDW1MN __FF_buff,17
00211b 940e 34a0 	CALL SUBOPT_0x30
00211d 2fe3
00211e 2ff4      	__GETW1R 19,20
00211f 5eec
002120 4ffa      	__ADDW1MN __FF_buff,16
002121 81e0      	LD   R30,Z
002122 940e 3395 	CALL SUBOPT_0xF
002124 87e9
002125 87fa
002126 876b
002127 877c      	__PUTD1S 9
                 ;    2810 				qp = F_CREATE;
002128 89ef      	LDD  R30,Y+23
002129 8df8      	LDD  R31,Y+23+1
00212a 940e 3915 	CALL SUBOPT_0xB1
                 ;    2811 				*qp++ = (((file_calc_temp >> 5) & 0x0F) / 10) + '0';
00212c 93ff      	PUSH R31
00212d 93ef      	PUSH R30
00212e 940e 391c 	CALL SUBOPT_0xB2
002130 940e 3de2 	CALL __DIVD21U
002132 5de0
002133 4fff
002134 4f6f
002135 4f7f      	__ADDD1N 48
002136 91af      	POP  R26
002137 91bf      	POP  R27
002138 940e 392c 	CALL SUBOPT_0xB3
                 ;    2812 				*qp++ = (((file_calc_temp >> 5) & 0x0F) % 10) + '0';
00213a 93ff      	PUSH R31
00213b 93ef      	PUSH R30
00213c 940e 391c 	CALL SUBOPT_0xB2
00213e 940e 3e1c 	CALL __MODD21U
002140 5de0
002141 4fff
002142 4f6f
002143 4f7f      	__ADDD1N 48
002144 91af      	POP  R26
002145 91bf      	POP  R27
002146 940e 3934 	CALL SUBOPT_0xB4
                 ;    2813 				*qp++ = '/';
002148 940e 392c 	CALL SUBOPT_0xB3
                 ;    2814 				*qp++ = ((file_calc_temp & 0x1F) / 10) + '0';
00214a 93ff      	PUSH R31
00214b 93ef      	PUSH R30
00214c 940e 393d 	CALL SUBOPT_0xB5
00214e 940e 3de2 	CALL __DIVD21U
002150 5de0
002151 4fff
002152 4f6f
002153 4f7f      	__ADDD1N 48
002154 91af      	POP  R26
002155 91bf      	POP  R27
002156 940e 392c 	CALL SUBOPT_0xB3
                 ;    2815 				*qp++ = ((file_calc_temp & 0x1F) % 10) + '0';
002158 93ff      	PUSH R31
002159 93ef      	PUSH R30
00215a 940e 393d 	CALL SUBOPT_0xB5
00215c 940e 3e1c 	CALL __MODD21U
00215e 5de0
00215f 4fff
002160 4f6f
002161 4f7f      	__ADDD1N 48
002162 91af      	POP  R26
002163 91bf      	POP  R27
002164 940e 3934 	CALL SUBOPT_0xB4
                 ;    2816 				*qp++ = '/';
002166 940e 394c 	CALL SUBOPT_0xB6
                 ;    2817 				file_calc_temp = ((file_calc_temp >> 9) & 0x7F) + 1980;
                 ;    2818 				*qp++ = (file_calc_temp / 1000) + '0';
002168 93ff      	PUSH R31
002169 93ef      	PUSH R30
00216a 940e 3965 	CALL SUBOPT_0xB7
00216c 91af      	POP  R26
00216d 91bf      	POP  R27
00216e 940e 3974 	CALL SUBOPT_0xB8
                 ;    2819 				file_calc_temp %= 1000;
                 ;    2820 				*qp++ = (file_calc_temp / 100) + '0';
002170 93ff      	PUSH R31
002171 93ef      	PUSH R30
002172 940e 398a 	CALL SUBOPT_0xB9
002174 91af      	POP  R26
002175 91bf      	POP  R27
002176 940e 3999 	CALL SUBOPT_0xBA
                 ;    2821 				file_calc_temp %= 100;
                 ;    2822 				*qp++ = (file_calc_temp / 10) + '0';
002178 93ff      	PUSH R31
002179 93ef      	PUSH R30
00217a 940e 39af 	CALL SUBOPT_0xBB
00217c 91af      	POP  R26
00217d 91bf      	POP  R27
00217e 940e 392c 	CALL SUBOPT_0xB3
                 ;    2823 				*qp++ = (file_calc_temp % 10) + '0';
002180 93ff      	PUSH R31
002181 93ef      	PUSH R30
002182 940e 39be 	CALL SUBOPT_0xBC
002184 91af      	POP  R26
002185 91bf      	POP  R27
002186 940e 39cd 	CALL SUBOPT_0xBD
                 ;    2824 				*qp++ = ' ';
002188 940e 39cd 	CALL SUBOPT_0xBD
                 ;    2825 				*qp++ = ' ';
00218a 93ec      	ST   X,R30
                 ;    2826 				file_calc_temp = ((unsigned int) _FF_buff[calc_temp+15] << 8) | ((unsigned int) _FF_buff[calc_temp+14]);
00218b 2fe3
00218c 2ff4      	__GETW1R 19,20
00218d 5eed
00218e 4ffa      	__ADDW1MN __FF_buff,15
00218f 940e 34a0 	CALL SUBOPT_0x30
002191 2fe3
002192 2ff4      	__GETW1R 19,20
002193 5eee
002194 4ffa      	__ADDW1MN __FF_buff,14
002195 81e0      	LD   R30,Z
002196 940e 3395 	CALL SUBOPT_0xF
002198 940e 39d6 	CALL SUBOPT_0xBE
                 ;    2827 				*qp++ = (((file_calc_temp >> 11) & 0x1F) / 10) + '0';
00219a 93ff      	PUSH R31
00219b 93ef      	PUSH R30
00219c 940e 39e1 	CALL SUBOPT_0xBF
00219e 940e 3de2 	CALL __DIVD21U
0021a0 5de0
0021a1 4fff
0021a2 4f6f
0021a3 4f7f      	__ADDD1N 48
0021a4 91af      	POP  R26
0021a5 91bf      	POP  R27
0021a6 940e 392c 	CALL SUBOPT_0xB3
                 ;    2828 				*qp++ = (((file_calc_temp >> 11) & 0x1F) % 10) + '0';
0021a8 93ff      	PUSH R31
0021a9 93ef      	PUSH R30
0021aa 940e 39e1 	CALL SUBOPT_0xBF
0021ac 940e 3e1c 	CALL __MODD21U
0021ae 5de0
0021af 4fff
0021b0 4f6f
0021b1 4f7f      	__ADDD1N 48
0021b2 91af      	POP  R26
0021b3 91bf      	POP  R27
0021b4 940e 39f1 	CALL SUBOPT_0xC0
                 ;    2829 				*qp++ = ':';
                 ;    2830 				*qp++ = (((file_calc_temp >> 5) & 0x3F) / 10) + '0';
0021b6 93ff      	PUSH R31
0021b7 93ef      	PUSH R30
0021b8 940e 39fa 	CALL SUBOPT_0xC1
0021ba 940e 3de2 	CALL __DIVD21U
0021bc 5de0
0021bd 4fff
0021be 4f6f
0021bf 4f7f      	__ADDD1N 48
0021c0 91af      	POP  R26
0021c1 91bf      	POP  R27
0021c2 940e 392c 	CALL SUBOPT_0xB3
                 ;    2831 				*qp++ = (((file_calc_temp >> 5) & 0x3F) % 10) + '0';
0021c4 93ff      	PUSH R31
0021c5 93ef      	PUSH R30
0021c6 940e 39fa 	CALL SUBOPT_0xC1
0021c8 940e 3e1c 	CALL __MODD21U
0021ca 5de0
0021cb 4fff
0021cc 4f6f
0021cd 4f7f      	__ADDD1N 48
0021ce 91af      	POP  R26
0021cf 91bf      	POP  R27
0021d0 940e 39f1 	CALL SUBOPT_0xC0
                 ;    2832 				*qp++ = ':';
                 ;    2833 				*qp++ = (((file_calc_temp & 0x1F) * 2) / 10) + '0';
0021d2 93ff      	PUSH R31
0021d3 93ef      	PUSH R30
0021d4 940e 3a0a 	CALL SUBOPT_0xC2
0021d6 940e 3de2 	CALL __DIVD21U
0021d8 5de0
0021d9 4fff
0021da 4f6f
0021db 4f7f      	__ADDD1N 48
0021dc 91af      	POP  R26
0021dd 91bf      	POP  R27
0021de 940e 392c 	CALL SUBOPT_0xB3
                 ;    2834 				*qp++ = (((file_calc_temp & 0x1F) * 2) % 10) + '0';
0021e0 93ff      	PUSH R31
0021e1 93ef      	PUSH R30
0021e2 940e 3a0a 	CALL SUBOPT_0xC2
0021e4 940e 3e1c 	CALL __MODD21U
0021e6 5de0
0021e7 4fff
0021e8 4f6f
0021e9 4f7f      	__ADDD1N 48
0021ea 91af      	POP  R26
0021eb 91bf      	POP  R27
0021ec 940e 3a1a 	CALL SUBOPT_0xC3
                 ;    2835 				*qp = 0;
                 ;    2836 				
                 ;    2837 				file_calc_temp = ((unsigned int) _FF_buff[calc_temp+25] << 8) | ((unsigned int) _FF_buff[calc_temp+24]);
0021ee 2fe3
0021ef 2ff4      	__GETW1R 19,20
0021f0 5ee3
0021f1 4ffa      	__ADDW1MN __FF_buff,25
0021f2 940e 34a0 	CALL SUBOPT_0x30
0021f4 2fe3
0021f5 2ff4      	__GETW1R 19,20
0021f6 5ee4
0021f7 4ffa      	__ADDW1MN __FF_buff,24
0021f8 81e0      	LD   R30,Z
0021f9 940e 3395 	CALL SUBOPT_0xF
0021fb 87e9
0021fc 87fa
0021fd 876b
0021fe 877c      	__PUTD1S 9
                 ;    2838 				qp = F_MODIFY;
0021ff 89ed      	LDD  R30,Y+21
002200 89fe      	LDD  R31,Y+21+1
002201 940e 3915 	CALL SUBOPT_0xB1
                 ;    2839 				*qp++ = (((file_calc_temp >> 5) & 0x0F) / 10) + '0';
002203 93ff      	PUSH R31
002204 93ef      	PUSH R30
002205 940e 391c 	CALL SUBOPT_0xB2
002207 940e 3de2 	CALL __DIVD21U
002209 5de0
00220a 4fff
00220b 4f6f
00220c 4f7f      	__ADDD1N 48
00220d 91af      	POP  R26
00220e 91bf      	POP  R27
00220f 940e 392c 	CALL SUBOPT_0xB3
                 ;    2840 				*qp++ = (((file_calc_temp >> 5) & 0x0F) % 10) + '0';
002211 93ff      	PUSH R31
002212 93ef      	PUSH R30
002213 940e 391c 	CALL SUBOPT_0xB2
002215 940e 3e1c 	CALL __MODD21U
002217 5de0
002218 4fff
002219 4f6f
00221a 4f7f      	__ADDD1N 48
00221b 91af      	POP  R26
00221c 91bf      	POP  R27
00221d 940e 3934 	CALL SUBOPT_0xB4
                 ;    2841 				*qp++ = '/';
00221f 940e 392c 	CALL SUBOPT_0xB3
                 ;    2842 				*qp++ = ((file_calc_temp & 0x1F) / 10) + '0';
002221 93ff      	PUSH R31
002222 93ef      	PUSH R30
002223 940e 393d 	CALL SUBOPT_0xB5
002225 940e 3de2 	CALL __DIVD21U
002227 5de0
002228 4fff
002229 4f6f
00222a 4f7f      	__ADDD1N 48
00222b 91af      	POP  R26
00222c 91bf      	POP  R27
00222d 940e 392c 	CALL SUBOPT_0xB3
                 ;    2843 				*qp++ = ((file_calc_temp & 0x1F) % 10) + '0';
00222f 93ff      	PUSH R31
002230 93ef      	PUSH R30
002231 940e 393d 	CALL SUBOPT_0xB5
002233 940e 3e1c 	CALL __MODD21U
002235 5de0
002236 4fff
002237 4f6f
002238 4f7f      	__ADDD1N 48
002239 91af      	POP  R26
00223a 91bf      	POP  R27
00223b 940e 3934 	CALL SUBOPT_0xB4
                 ;    2844 				*qp++ = '/';
00223d 940e 394c 	CALL SUBOPT_0xB6
                 ;    2845 				file_calc_temp = ((file_calc_temp >> 9) & 0x7F) + 1980;
                 ;    2846 				*qp++ = (file_calc_temp / 1000) + '0';
00223f 93ff      	PUSH R31
002240 93ef      	PUSH R30
002241 940e 3965 	CALL SUBOPT_0xB7
002243 91af      	POP  R26
002244 91bf      	POP  R27
002245 940e 3974 	CALL SUBOPT_0xB8
                 ;    2847 				file_calc_temp %= 1000;
                 ;    2848 				*qp++ = (file_calc_temp / 100) + '0';
002247 93ff      	PUSH R31
002248 93ef      	PUSH R30
002249 940e 398a 	CALL SUBOPT_0xB9
00224b 91af      	POP  R26
00224c 91bf      	POP  R27
00224d 940e 3999 	CALL SUBOPT_0xBA
                 ;    2849 				file_calc_temp %= 100;
                 ;    2850 				*qp++ = (file_calc_temp / 10) + '0';
00224f 93ff      	PUSH R31
002250 93ef      	PUSH R30
002251 940e 39af 	CALL SUBOPT_0xBB
002253 91af      	POP  R26
002254 91bf      	POP  R27
002255 940e 392c 	CALL SUBOPT_0xB3
                 ;    2851 				*qp++ = (file_calc_temp % 10) + '0';
002257 93ff      	PUSH R31
002258 93ef      	PUSH R30
002259 940e 39be 	CALL SUBOPT_0xBC
00225b 91af      	POP  R26
00225c 91bf      	POP  R27
00225d 940e 39cd 	CALL SUBOPT_0xBD
                 ;    2852 				*qp++ = ' ';
00225f 940e 39cd 	CALL SUBOPT_0xBD
                 ;    2853 				*qp++ = ' ';
002261 93ec      	ST   X,R30
                 ;    2854 				file_calc_temp = ((unsigned int) _FF_buff[calc_temp+23] << 8) | ((unsigned int) _FF_buff[calc_temp+22]);
002262 2fe3
002263 2ff4      	__GETW1R 19,20
002264 5ee5
002265 4ffa      	__ADDW1MN __FF_buff,23
002266 940e 34a0 	CALL SUBOPT_0x30
002268 2fe3
002269 2ff4      	__GETW1R 19,20
00226a 5ee6
00226b 4ffa      	__ADDW1MN __FF_buff,22
00226c 81e0      	LD   R30,Z
00226d 940e 3395 	CALL SUBOPT_0xF
00226f 940e 39d6 	CALL SUBOPT_0xBE
                 ;    2855 				*qp++ = (((file_calc_temp >> 11) & 0x1F) / 10) + '0';
002271 93ff      	PUSH R31
002272 93ef      	PUSH R30
002273 940e 39e1 	CALL SUBOPT_0xBF
002275 940e 3de2 	CALL __DIVD21U
002277 5de0
002278 4fff
002279 4f6f
00227a 4f7f      	__ADDD1N 48
00227b 91af      	POP  R26
00227c 91bf      	POP  R27
00227d 940e 392c 	CALL SUBOPT_0xB3
                 ;    2856 				*qp++ = (((file_calc_temp >> 11) & 0x1F) % 10) + '0';
00227f 93ff      	PUSH R31
002280 93ef      	PUSH R30
002281 940e 39e1 	CALL SUBOPT_0xBF
002283 940e 3e1c 	CALL __MODD21U
002285 5de0
002286 4fff
002287 4f6f
002288 4f7f      	__ADDD1N 48
002289 91af      	POP  R26
00228a 91bf      	POP  R27
00228b 940e 39f1 	CALL SUBOPT_0xC0
                 ;    2857 				*qp++ = ':';
                 ;    2858 				*qp++ = (((file_calc_temp >> 5) & 0x3F) / 10) + '0';
00228d 93ff      	PUSH R31
00228e 93ef      	PUSH R30
00228f 940e 39fa 	CALL SUBOPT_0xC1
002291 940e 3de2 	CALL __DIVD21U
002293 5de0
002294 4fff
002295 4f6f
002296 4f7f      	__ADDD1N 48
002297 91af      	POP  R26
002298 91bf      	POP  R27
002299 940e 392c 	CALL SUBOPT_0xB3
                 ;    2859 				*qp++ = (((file_calc_temp >> 5) & 0x3F) % 10) + '0';
00229b 93ff      	PUSH R31
00229c 93ef      	PUSH R30
00229d 940e 39fa 	CALL SUBOPT_0xC1
00229f 940e 3e1c 	CALL __MODD21U
0022a1 5de0
0022a2 4fff
0022a3 4f6f
0022a4 4f7f      	__ADDD1N 48
0022a5 91af      	POP  R26
0022a6 91bf      	POP  R27
0022a7 940e 39f1 	CALL SUBOPT_0xC0
                 ;    2860 				*qp++ = ':';
                 ;    2861 				*qp++ = (((file_calc_temp & 0x1F) * 2) / 10) + '0';
0022a9 93ff      	PUSH R31
0022aa 93ef      	PUSH R30
0022ab 940e 3a0a 	CALL SUBOPT_0xC2
0022ad 940e 3de2 	CALL __DIVD21U
0022af 5de0
0022b0 4fff
0022b1 4f6f
0022b2 4f7f      	__ADDD1N 48
0022b3 91af      	POP  R26
0022b4 91bf      	POP  R27
0022b5 940e 392c 	CALL SUBOPT_0xB3
                 ;    2862 				*qp++ = (((file_calc_temp & 0x1F) * 2) % 10) + '0';
0022b7 93ff      	PUSH R31
0022b8 93ef      	PUSH R30
0022b9 940e 3a0a 	CALL SUBOPT_0xC2
0022bb 940e 3e1c 	CALL __MODD21U
0022bd 5de0
0022be 4fff
0022bf 4f6f
0022c0 4f7f      	__ADDD1N 48
0022c1 91af      	POP  R26
0022c2 91bf      	POP  R27
0022c3 940e 3a1a 	CALL SUBOPT_0xC3
                 ;    2863 				*qp = 0;
                 ;    2864 				
                 ;    2865 				return (0);
0022c5 e0e0      	LDI  R30,LOW(0)
0022c6 e0f0      	LDI  R31,HIGH(0)
0022c7 c007      	RJMP _0x504
                 ;    2866 			}
                 ;    2867 		}                          		
                 _0x2CE:
0022c8 5f0f      	SUBI R16,-1
0022c9 cddc      	RJMP _0x2CB
                 _0x2CC:
                 ;    2868 	}
0022ca 5f1f
0022cb 4f2f      	__ADDWRN 17,18,1
0022cc cdc5      	RJMP _0x2C7
                 _0x2C8:
                 ;    2869 	_FF_error = FILE_ERR;
0022cd 940e 3a20 	CALL SUBOPT_0xC4
                 ;    2870 	return(EOF);
                 _0x504:
0022cf 940e 401c 	CALL __LOADLOCR5
0022d1 966d      	ADIW R28,29
0022d2 9508      	RET
                 ;    2871 }
                 ;    2872 
                 ;    2873 // Get File data and increment file pointer
                 ;    2874 int fgetc(FILE *rp)
                 ;    2875 {
                 _fgetc:
                 ;    2876 	unsigned char get_data;
                 ;    2877 	unsigned int n;
                 ;    2878 	unsigned long addr_temp;
                 ;    2879 	
                 ;    2880 	if (rp==NULL)
0022d3 9724      	SBIW R28,4
0022d4 940e 4017 	CALL __SAVELOCR3
                 ;	*rp -> Y+7
                 ;	get_data -> R16
                 ;	n -> R17,R18
                 ;	addr_temp -> Y+3
0022d6 81ef      	LDD  R30,Y+7
0022d7 85f8      	LDD  R31,Y+7+1
0022d8 9730      	SBIW R30,0
0022d9 f419      	BRNE _0x2CF
                 ;    2881 		return (EOF);
0022da efef      	LDI  R30,LOW(65535)
0022db efff      	LDI  R31,HIGH(65535)
0022dc c0ea      	RJMP _0x503
                 ;    2882 
                 ;    2883 	if (rp->position == rp->length)
                 _0x2CF:
0022dd 940e 3a26 	CALL SUBOPT_0xC5
0022df 937f      	PUSH R23
0022e0 936f      	PUSH R22
0022e1 93ff      	PUSH R31
0022e2 93ef      	PUSH R30
0022e3 81af      	LDD  R26,Y+7
0022e4 85b8      	LDD  R27,Y+7+1
0022e5 5ea4      	SUBI R26,LOW(-540)
0022e6 4fbd      	SBCI R27,HIGH(-540)
0022e7 940e 3e51 	CALL __GETD1P
0022e9 91af      	POP  R26
0022ea 91bf      	POP  R27
0022eb 918f      	POP  R24
0022ec 919f      	POP  R25
0022ed 940e 400a 	CALL __CPD12
0022ef f439      	BRNE _0x2D0
                 ;    2884 	{
                 ;    2885 		rp->error = POS_ERR;
0022f0 81af      	LDD  R26,Y+7
0022f1 85b8      	LDD  R27,Y+7+1
0022f2 940e 3a2d 	CALL SUBOPT_0xC6
                 ;    2886 		return (EOF);
0022f4 efef      	LDI  R30,LOW(65535)
0022f5 efff      	LDI  R31,HIGH(65535)
0022f6 c0d0      	RJMP _0x503
                 ;    2887 	}
                 ;    2888 	
                 ;    2889 	get_data = *rp->pntr;
                 _0x2D0:
0022f7 940e 3a32 	CALL SUBOPT_0xC7
0022f9 8100      	LD   R16,Z
                 ;    2890 	
                 ;    2891 	if ((rp->pntr)==(&rp->buff[BPB_BytsPerSec-1]))
0022fa 81af      	LDD  R26,Y+7
0022fb 85b8      	LDD  R27,Y+7+1
0022fc 5da9      	SUBI R26,LOW(-551)
0022fd 4fbd      	SBCI R27,HIGH(-551)
0022fe 900d      	LD   R0,X+
0022ff 901c      	LD   R1,X
002300 81af      	LDD  R26,Y+7
002301 85b8      	LDD  R27,Y+7+1
002302 940e 3a39 	CALL SUBOPT_0xC8
002304 f011      	BREQ PC+3
002305 940c 23be 	JMP _0x2D1
                 ;    2892 	{	// Check to see if pointer is at the end of a sector
                 ;    2893 		#ifndef _READ_ONLY_
                 ;    2894 		if ((rp->mode==WRITE) || (rp->mode==APPEND))
002307 940e 3a41 	CALL SUBOPT_0xC9
002309 30a2      	CPI  R26,LOW(0x2)
00230a f021      	BREQ _0x2D3
00230b 940e 3a41 	CALL SUBOPT_0xC9
00230d 30a3      	CPI  R26,LOW(0x3)
00230e f561      	BRNE _0x2D2
                 _0x2D3:
                 ;    2895 		{	// if in write or append mode, update the current sector before loading next
                 ;    2896 			for (n=0; n<BPB_BytsPerSec; n++)
00230f e010
002310 e020      	__GETWRN 17,18,0
                 _0x2D6:
002311 1516
002312 0527      	__CPWRR 17,18,6,7
002313 f458      	BRSH _0x2D7
                 ;    2897 				_FF_buff[n] = rp->buff[n];
002314 2fa1
002315 2fb2      	__GETW2R 17,18
002316 5fac      	SUBI R26,LOW(-__FF_buff)
002317 4fba      	SBCI R27,HIGH(-__FF_buff)
002318 940e 3a47 	CALL SUBOPT_0xCA
00231a 81e0      	LD   R30,Z
00231b 93ec      	ST   X,R30
                 ;    2898 			addr_temp = clust_to_addr(rp->clus_current) + (((rp->sec_offset)-1)*BPB_BytsPerSec);
00231c 5f1f
00231d 4f2f      	__ADDWRN 17,18,1
00231e cff2      	RJMP _0x2D6
                 _0x2D7:
00231f 940e 3a4d 	CALL SUBOPT_0xCB
002321 937f      	PUSH R23
002322 936f      	PUSH R22
002323 93ff      	PUSH R31
002324 93ef      	PUSH R30
002325 940e 3a55 	CALL SUBOPT_0xCC
002327 940e 33b7 	CALL SUBOPT_0x13
002329 940e 3d8a 	CALL __MULW12U
00232b 91af      	POP  R26
00232c 91bf      	POP  R27
00232d 918f      	POP  R24
00232e 919f      	POP  R25
00232f 940e 3a5b 	CALL SUBOPT_0xCD
                 ;    2899 			if (_FF_write(addr_temp)==0)
002331 81eb
002332 81fc
002333 816d
002334 817e      	__GETD1S 3
002335 940e 367f 	CALL SUBOPT_0x62
002337 f419      	BRNE _0x2D8
                 ;    2900 				return (EOF);
002338 efef      	LDI  R30,LOW(65535)
002339 efff      	LDI  R31,HIGH(65535)
00233a c08c      	RJMP _0x503
                 ;    2901 		}
                 _0x2D8:
                 ;    2902 		#endif
                 ;    2903 		if (rp->sec_offset < BPB_SecPerClus)
                 _0x2D2:
00233b 81ef      	LDD  R30,Y+7
00233c 85f8      	LDD  R31,Y+7+1
00233d 940e 3a64 	CALL SUBOPT_0xCE
00233f f4b0      	BRSH _0x2D9
                 ;    2904 		{	// Goto next sector if not at the end of a cluster
                 ;    2905 			addr_temp = clust_to_addr(rp->clus_current) + (rp->sec_offset*BPB_BytsPerSec);
002340 940e 3a4d 	CALL SUBOPT_0xCB
002342 937f      	PUSH R23
002343 936f      	PUSH R22
002344 93ff      	PUSH R31
002345 93ef      	PUSH R30
002346 81ef      	LDD  R30,Y+7
002347 85f8      	LDD  R31,Y+7+1
002348 940e 3a6b 	CALL SUBOPT_0xCF
00234a 91af      	POP  R26
00234b 91bf      	POP  R27
00234c 918f      	POP  R24
00234d 919f      	POP  R25
00234e 940e 3a5b 	CALL SUBOPT_0xCD
                 ;    2906 			rp->sec_offset++;
002350 940e 3a55 	CALL SUBOPT_0xCC
002352 9631      	ADIW R30,1
002353 93ed      	ST   X+,R30
002354 93fc      	ST   X,R31
                 ;    2907 		}
                 ;    2908 		else
002355 c042      	RJMP _0x2DA
                 _0x2D9:
                 ;    2909 		{	// End of Cluster, find next
                 ;    2910 			if (rp->clus_next>=0xFFF8)	// No next cluster, EOF marker
002356 81ef      	LDD  R30,Y+7
002357 85f8      	LDD  R31,Y+7+1
002358 89a0      	LDD  R26,Z+16
002359 89b1      	LDD  R27,Z+17
00235a 3fa8      	CPI  R26,LOW(0xFFF8)
00235b efef      	LDI  R30,HIGH(0xFFF8)
00235c 07be      	CPC  R27,R30
00235d f048      	BRLO _0x2DB
                 ;    2911 			{
                 ;    2912 				rp->EOF_flag = 1;	// Set flag so Putchar knows to get new cluster
00235e 81af      	LDD  R26,Y+7
00235f 85b8      	LDD  R27,Y+7+1
002360 940e 3a71 	CALL SUBOPT_0xD0
                 ;    2913 				rp->position++;		// Only time doing this, position + 1 should equal length
002362 940e 3a26 	CALL SUBOPT_0xC5
002364 940e 3a76 	CALL SUBOPT_0xD1
                 ;    2914 				return(get_data);
002366 c060      	RJMP _0x503
                 ;    2915 			}
                 ;    2916 			addr_temp = clust_to_addr(rp->clus_next);
                 _0x2DB:
002367 81ef      	LDD  R30,Y+7
002368 85f8      	LDD  R31,Y+7+1
002369 89a0      	LDD  R26,Z+16
00236a 89b1      	LDD  R27,Z+17
00236b 93ba      	ST   -Y,R27
00236c 93aa      	ST   -Y,R26
00236d 940e 1065 	CALL _clust_to_addr
00236f 83eb
002370 83fc
002371 836d
002372 837e      	__PUTD1S 3
                 ;    2917 			rp->sec_offset = 1;
002373 81af      	LDD  R26,Y+7
002374 85b8      	LDD  R27,Y+7+1
002375 940e 3a7f 	CALL SUBOPT_0xD2
                 ;    2918 			rp->clus_prev = rp->clus_current;
002377 81af      	LDD  R26,Y+7
002378 85b8      	LDD  R27,Y+7+1
002379 961e      	ADIW R26,14
00237a 940e 3e4d 	CALL __GETW1P
00237c 81af
00237d 85b8
00237e 9652
00237f 93ed
002380 93fc      	__PUTW1SNS 7,18
                 ;    2919 			rp->clus_current = rp->clus_next;
002381 81af      	LDD  R26,Y+7
002382 85b8      	LDD  R27,Y+7+1
002383 9650      	ADIW R26,16
002384 940e 3e4d 	CALL __GETW1P
002386 81af
002387 85b8
002388 961e
002389 93ed
00238a 93fc      	__PUTW1SNS 7,14
                 ;    2920 			rp->clus_next = next_cluster(rp->clus_current, SINGLE);
00238b 81ef      	LDD  R30,Y+7
00238c 85f8      	LDD  R31,Y+7+1
00238d 85a6      	LDD  R26,Z+14
00238e 85b7      	LDD  R27,Z+15
00238f 93ba      	ST   -Y,R27
002390 93aa      	ST   -Y,R26
002391 940e 3861 	CALL SUBOPT_0x9B
002393 81af
002394 85b8
002395 9650
002396 93ed
002397 93fc      	__PUTW1SNS 7,16
                 ;    2921 		}
                 _0x2DA:
                 ;    2922 		if (_FF_read(addr_temp)==0)
002398 81eb
002399 81fc
00239a 816d
00239b 817e      	__GETD1S 3
00239c 940e 337d 	CALL SUBOPT_0xC
00239e f419      	BRNE _0x2DC
                 ;    2923 			return (EOF);
00239f efef      	LDI  R30,LOW(65535)
0023a0 efff      	LDI  R31,HIGH(65535)
0023a1 c025      	RJMP _0x503
                 ;    2924 		for (n=0; n<BPB_BytsPerSec; n++)
                 _0x2DC:
0023a2 e010
0023a3 e020      	__GETWRN 17,18,0
                 _0x2DE:
0023a4 1516
0023a5 0527      	__CPWRR 17,18,6,7
0023a6 f468      	BRSH _0x2DF
                 ;    2925 			rp->buff[n] = _FF_buff[n];
0023a7 940e 3a47 	CALL SUBOPT_0xCA
0023a9 010f      	MOVW R0,R30
0023aa e0a4      	LDI  R26,LOW(__FF_buff)
0023ab e0b5      	LDI  R27,HIGH(__FF_buff)
0023ac 0fa1      	ADD  R26,R17
0023ad 1fb2      	ADC  R27,R18
0023ae 91ec      	LD   R30,X
0023af 01d0      	MOVW R26,R0
0023b0 93ec      	ST   X,R30
                 ;    2926 		rp->pntr = &rp->buff[0];
0023b1 5f1f
0023b2 4f2f      	__ADDWRN 17,18,1
0023b3 cff0      	RJMP _0x2DE
                 _0x2DF:
0023b4 81ef      	LDD  R30,Y+7
0023b5 85f8      	LDD  R31,Y+7+1
0023b6 967c      	ADIW R30,28
0023b7 81af
0023b8 85b8
0023b9 5da9
0023ba 4fbd
0023bb 93ed
0023bc 93fc      	__PUTW1SN 7,551
                 ;    2927 	}
                 ;    2928 	else
0023bd c005      	RJMP _0x2E0
                 _0x2D1:
                 ;    2929 		rp->pntr++;
0023be 940e 3a32 	CALL SUBOPT_0xC7
0023c0 9631      	ADIW R30,1
0023c1 93ed      	ST   X+,R30
0023c2 93fc      	ST   X,R31
                 ;    2930 	
                 ;    2931 	rp->position++;	
                 _0x2E0:
0023c3 940e 3a26 	CALL SUBOPT_0xC5
0023c5 940e 3a76 	CALL SUBOPT_0xD1
                 ;    2932 	return(get_data);		
                 _0x503:
0023c7 940e 401e 	CALL __LOADLOCR3
0023c9 9629      	ADIW R28,9
0023ca 9508      	RET
                 ;    2933 }
                 ;    2934 
                 ;    2935 char *fgets(char *buffer, int n, FILE *rp)
                 ;    2936 {
                 ;    2937 	int c, temp_data;
                 ;    2938 	
                 ;    2939 	for (c=0; c<n; c++)
                 ;	*buffer -> Y+8
                 ;	n -> Y+6
                 ;	*rp -> Y+4
                 ;	c -> R16,R17
                 ;	temp_data -> R18,R19
                 ;    2940 	{
                 ;    2941 		temp_data = fgetc(rp);
                 ;    2942 		*buffer = temp_data & 0xFF;
                 ;    2943 		if (temp_data == '\n')
                 ;    2944 			break;
                 ;    2945 		else if (temp_data == EOF)
                 ;    2946 			break;
                 ;    2947 		buffer++;
                 ;    2948 	}
                 ;    2949 	if (c==n)
                 ;    2950 		buffer++;
                 ;    2951 	*buffer-- = '\0';
                 ;    2952 	if (temp_data == EOF)
                 ;    2953 		return (NULL);
                 ;    2954 	return (buffer);
                 ;    2955 }
                 ;    2956 
                 ;    2957 #ifndef _READ_ONLY_
                 ;    2958 // Decrement file pointer, then get file data
                 ;    2959 int ungetc(unsigned char file_data, FILE *rp)
                 ;    2960 {
                 _ungetc:
                 ;    2961 	unsigned int n;
                 ;    2962 	unsigned long addr_temp;
                 ;    2963 	
                 ;    2964 	if ((rp==NULL) || (rp->position==0))
0023cb 940e 38e1 	CALL SUBOPT_0xA9
                 ;	file_data -> Y+8
                 ;	*rp -> Y+6
                 ;	n -> R16,R17
                 ;	addr_temp -> Y+2
0023cd f029      	BREQ _0x2EA
0023ce 940e 3a85 	CALL SUBOPT_0xD3
0023d0 940e 3ff8 	CALL __CPD10
0023d2 f419      	BRNE _0x2E9
                 _0x2EA:
                 ;    2965 		return (EOF);
0023d3 efef      	LDI  R30,LOW(65535)
0023d4 efff      	LDI  R31,HIGH(65535)
0023d5 c2bb      	RJMP _0x502
                 ;    2966 	if ((rp->mode!=APPEND) && (rp->mode!=WRITE))
                 _0x2E9:
0023d6 940e 38e9 	CALL SUBOPT_0xAA
0023d8 30a3      	CPI  R26,LOW(0x3)
0023d9 f021      	BREQ _0x2ED
0023da 940e 38e9 	CALL SUBOPT_0xAA
0023dc 30a2      	CPI  R26,LOW(0x2)
0023dd f409      	BRNE _0x2EE
                 _0x2ED:
0023de c003      	RJMP _0x2EC
                 _0x2EE:
                 ;    2967 		return (EOF);	// needs to be in WRITE or APPEND mode
0023df efef      	LDI  R30,LOW(65535)
0023e0 efff      	LDI  R31,HIGH(65535)
0023e1 c2af      	RJMP _0x502
                 ;    2968 
                 ;    2969 	if (((rp->position) == rp->length) && (rp->EOF_flag))
                 _0x2EC:
0023e2 940e 3a85 	CALL SUBOPT_0xD3
0023e4 937f      	PUSH R23
0023e5 936f      	PUSH R22
0023e6 93ff      	PUSH R31
0023e7 93ef      	PUSH R30
0023e8 940e 3a8c 	CALL SUBOPT_0xD4
0023ea 91af      	POP  R26
0023eb 91bf      	POP  R27
0023ec 918f      	POP  R24
0023ed 919f      	POP  R25
0023ee 940e 400a 	CALL __CPD12
0023f0 f419      	BRNE _0x2F0
0023f1 940e 3a93 	CALL SUBOPT_0xD5
0023f3 f409      	BRNE _0x2F1
                 _0x2F0:
0023f4 c009      	RJMP _0x2EF
                 _0x2F1:
                 ;    2970 	{	// if the file posisition is equal to the length, return data, turn flag off
                 ;    2971 		rp->EOF_flag = 0;
0023f5 940e 3a9a 	CALL SUBOPT_0xD6
                 ;    2972 		*rp->pntr = file_data;
0023f7 940e 3aa1 	CALL SUBOPT_0xD7
0023f9 940e 3aa8 	CALL SUBOPT_0xD8
                 ;    2973 		return (*rp->pntr);
0023fb 81e0      	LD   R30,Z
0023fc e0f0      	LDI  R31,0
0023fd c293      	RJMP _0x502
                 ;    2974 	}
                 ;    2975 	if ((rp->pntr)==(&rp->buff[0]))
                 _0x2EF:
0023fe 940e 3aa1 	CALL SUBOPT_0xD7
002400 01df      	MOVW R26,R30
002401 81ee      	LDD  R30,Y+6
002402 81ff      	LDD  R31,Y+6+1
002403 967c      	ADIW R30,28
002404 17ea      	CP   R30,R26
002405 07fb      	CPC  R31,R27
002406 f011      	BREQ PC+3
002407 940c 24d7 	JMP _0x2F2
                 ;    2976 	{	// Check to see if pointer is at the beginning of a Sector
                 ;    2977 		// Update the current sector before loading next
                 ;    2978 		for (n=0; n<BPB_BytsPerSec; n++)
002409 e000
00240a e010      	__GETWRN 16,17,0
                 _0x2F4:
00240b 1506
00240c 0517      	__CPWRR 16,17,6,7
00240d f438      	BRSH _0x2F5
                 ;    2979 			_FF_buff[n] = rp->buff[n];
00240e 940e 38fe 	CALL SUBOPT_0xAD
002410 81e0      	LD   R30,Z
002411 93ec      	ST   X,R30
                 ;    2980 		addr_temp = clust_to_addr(rp->clus_current) + (((rp->sec_offset)-1)*BPB_BytsPerSec);
002412 5f0f
002413 4f1f      	__ADDWRN 16,17,1
002414 cff6      	RJMP _0x2F4
                 _0x2F5:
002415 940e 385a 	CALL SUBOPT_0x9A
002417 940e 1065 	CALL _clust_to_addr
002419 937f      	PUSH R23
00241a 936f      	PUSH R22
00241b 93ff      	PUSH R31
00241c 93ef      	PUSH R30
00241d 940e 38ef 	CALL SUBOPT_0xAB
00241f 940e 3d8a 	CALL __MULW12U
002421 91af      	POP  R26
002422 91bf      	POP  R27
002423 918f      	POP  R24
002424 919f      	POP  R25
002425 940e 38f5 	CALL SUBOPT_0xAC
                 ;    2981 		if (_FF_write(addr_temp)==0)
002427 81ea
002428 81fb
002429 816c
00242a 817d      	__GETD1S 2
00242b 940e 367f 	CALL SUBOPT_0x62
00242d f419      	BRNE _0x2F6
                 ;    2982 			return (EOF);
00242e efef      	LDI  R30,LOW(65535)
00242f efff      	LDI  R31,HIGH(65535)
002430 c260      	RJMP _0x502
                 ;    2983 			
                 ;    2984 		if (rp->sec_offset > 1)
                 _0x2F6:
002431 81ee      	LDD  R30,Y+6
002432 81ff      	LDD  R31,Y+6+1
002433 89a4      	LDD  R26,Z+20
002434 89b5      	LDD  R27,Z+21
002435 9712      	SBIW R26,2
002436 f0d8      	BRLO _0x2F7
                 ;    2985 		{	// Goto previous sector if not at the beginning of a cluster
                 ;    2986 			addr_temp = clust_to_addr(rp->clus_current) + ((rp->sec_offset-2)*BPB_BytsPerSec);
002437 940e 385a 	CALL SUBOPT_0x9A
002439 940e 1065 	CALL _clust_to_addr
00243b 937f      	PUSH R23
00243c 936f      	PUSH R22
00243d 93ff      	PUSH R31
00243e 93ef      	PUSH R30
00243f 940e 3aab 	CALL SUBOPT_0xD9
002441 9732      	SBIW R30,2
002442 01df      	MOVW R26,R30
002443 01f3      	MOVW R30,R6
002444 940e 3d8a 	CALL __MULW12U
002446 91af      	POP  R26
002447 91bf      	POP  R27
002448 918f      	POP  R24
002449 919f      	POP  R25
00244a 940e 38f5 	CALL SUBOPT_0xAC
                 ;    2987 			rp->sec_offset--;
00244c 940e 3aab 	CALL SUBOPT_0xD9
00244e 9731      	SBIW R30,1
00244f 93ed      	ST   X+,R30
002450 93fc      	ST   X,R31
                 ;    2988 		}
                 ;    2989 		else
002451 c065      	RJMP _0x2F8
                 _0x2F7:
                 ;    2990 		{	// Beginning of Cluster, find previous
                 ;    2991 			if (rp->clus_start==rp->clus_current)
002452 81ee      	LDD  R30,Y+6
002453 81ff      	LDD  R31,Y+6+1
002454 85a4      	LDD  R26,Z+12
002455 85b5      	LDD  R27,Z+13
002456 93bf      	PUSH R27
002457 93af      	PUSH R26
002458 940e 3ab1 	CALL SUBOPT_0xDA
00245a 91af      	POP  R26
00245b 91bf      	POP  R27
00245c 17ea      	CP   R30,R26
00245d 07fb      	CPC  R31,R27
00245e f431      	BRNE _0x2F9
                 ;    2992 			{	// Positioned @ Beginning of File
                 ;    2993 				_FF_error = SOF_ERR;
00245f e0e7      	LDI  R30,LOW(7)
002460 93e0 073c 	STS  __FF_error,R30
                 ;    2994 				return(EOF);
002462 efef      	LDI  R30,LOW(65535)
002463 efff      	LDI  R31,HIGH(65535)
002464 c22c      	RJMP _0x502
                 ;    2995 			}
                 ;    2996 			rp->sec_offset = BPB_SecPerClus;	// Set sector offset to last sector
                 _0x2F9:
002465 81ae      	LDD  R26,Y+6
002466 81bf      	LDD  R27,Y+6+1
002467 9654      	ADIW R26,20
002468 2de8      	MOV  R30,R8
002469 e0f0      	LDI  R31,0
00246a 93ed      	ST   X+,R30
00246b 93fc      	ST   X,R31
                 ;    2997 			rp->clus_next = rp->clus_current;
00246c 940e 3ab1 	CALL SUBOPT_0xDA
00246e 81ae
00246f 81bf
002470 9650
002471 93ed
002472 93fc      	__PUTW1SNS 6,16
                 ;    2998 			rp->clus_current = rp->clus_prev;
002473 81ae      	LDD  R26,Y+6
002474 81bf      	LDD  R27,Y+6+1
002475 9652      	ADIW R26,18
002476 940e 3e4d 	CALL __GETW1P
002478 81ae
002479 81bf
00247a 961e
00247b 93ed
00247c 93fc      	__PUTW1SNS 6,14
                 ;    2999 			if (rp->clus_current != rp->clus_start)
00247d 81ee      	LDD  R30,Y+6
00247e 81ff      	LDD  R31,Y+6+1
00247f 85a6      	LDD  R26,Z+14
002480 85b7      	LDD  R27,Z+15
002481 93bf      	PUSH R27
002482 93af      	PUSH R26
002483 940e 3812 	CALL SUBOPT_0x92
002485 91af      	POP  R26
002486 91bf      	POP  R27
002487 17ea      	CP   R30,R26
002488 07fb      	CPC  R31,R27
002489 f051      	BREQ _0x2FA
                 ;    3000 				rp->clus_prev = prev_cluster(rp->clus_current);
00248a 940e 385a 	CALL SUBOPT_0x9A
00248c 940e 1277 	CALL _prev_cluster
00248e 81ae
00248f 81bf
002490 9652
002491 93ed
002492 93fc      	__PUTW1SNS 6,18
                 ;    3001 			else
002493 c002      	RJMP _0x2FB
                 _0x2FA:
                 ;    3002 				rp->clus_prev = 0;
002494 940e 3818 	CALL SUBOPT_0x93
                 ;    3003 			addr_temp = clust_to_addr(rp->clus_current) + (((long) BPB_SecPerClus-1) * (long) BPB_BytsPerSec);
                 _0x2FB:
002496 940e 385a 	CALL SUBOPT_0x9A
002498 940e 1065 	CALL _clust_to_addr
00249a 937f      	PUSH R23
00249b 936f      	PUSH R22
00249c 93ff      	PUSH R31
00249d 93ef      	PUSH R30
00249e 2de8      	MOV  R30,R8
00249f 27ff      	CLR  R31
0024a0 2766      	CLR  R22
0024a1 2777      	CLR  R23
0024a2 50e1
0024a3 40f0
0024a4 4060
0024a5 4070      	__SUBD1N 1
0024a6 01df      	MOVW R26,R30
0024a7 01cb      	MOVW R24,R22
0024a8 01f3      	MOVW R30,R6
0024a9 2766      	CLR  R22
0024aa 2777      	CLR  R23
0024ab 940e 3db7 	CALL __MULD12
0024ad 91af      	POP  R26
0024ae 91bf      	POP  R27
0024af 918f      	POP  R24
0024b0 919f      	POP  R25
0024b1 940e 3d12 	CALL __ADDD12
0024b3 83ea
0024b4 83fb
0024b5 836c
0024b6 837d      	__PUTD1S 2
                 ;    3004 		}
                 _0x2F8:
                 ;    3005 		_FF_read(addr_temp);
0024b7 81ea
0024b8 81fb
0024b9 816c
0024ba 817d      	__GETD1S 2
0024bb 940e 3e66 	CALL __PUTPARD1
0024bd 940e 0c33 	CALL __FF_read
                 ;    3006 		for (n=0; n<BPB_BytsPerSec; n++)
0024bf e000
0024c0 e010      	__GETWRN 16,17,0
                 _0x2FD:
0024c1 1506
0024c2 0517      	__CPWRR 16,17,6,7
0024c3 f438      	BRSH _0x2FE
                 ;    3007 			rp->buff[n] = _FF_buff[n];
0024c4 940e 386d 	CALL SUBOPT_0x9D
0024c6 940e 3873 	CALL SUBOPT_0x9E
                 ;    3008 		rp->pntr = &rp->buff[511];
0024c8 5f0f
0024c9 4f1f      	__ADDWRN 16,17,1
0024ca cff6      	RJMP _0x2FD
                 _0x2FE:
0024cb 81ee      	LDD  R30,Y+6
0024cc 81ff      	LDD  R31,Y+6+1
0024cd 967c      	ADIW R30,28
0024ce 50e1      	SUBI R30,LOW(-511)
0024cf 4ffe      	SBCI R31,HIGH(-511)
0024d0 81ae
0024d1 81bf
0024d2 5da9
0024d3 4fbd
0024d4 93ed
0024d5 93fc      	__PUTW1SN 6,551
                 ;    3009 	}
                 ;    3010 	else
0024d6 c005      	RJMP _0x2FF
                 _0x2F2:
                 ;    3011 		rp->pntr--;
0024d7 940e 3aa1 	CALL SUBOPT_0xD7
0024d9 9731      	SBIW R30,1
0024da 93ed      	ST   X+,R30
0024db 93fc      	ST   X,R31
                 ;    3012 	
                 ;    3013 	rp->position--;
                 _0x2FF:
0024dc 940e 3a85 	CALL SUBOPT_0xD3
0024de 9731      	SBIW R30,1
0024df 4060      	SBCI R22,0
0024e0 4070      	SBCI R23,0
0024e1 940e 3e57 	CALL __PUTDP1
                 ;    3014 	*rp->pntr = file_data;	
0024e3 940e 3aa1 	CALL SUBOPT_0xD7
0024e5 940e 3aa8 	CALL SUBOPT_0xD8
                 ;    3015 	return(*rp->pntr);	// Get data	
0024e7 81e0      	LD   R30,Z
0024e8 e0f0      	LDI  R31,0
0024e9 c1a7      	RJMP _0x502
                 ;    3016 }
                 ;    3017 #endif
                 ;    3018 
                 ;    3019 #ifndef _READ_ONLY_
                 ;    3020 int fputc(unsigned char file_data, FILE *rp)	
                 ;    3021 {
                 _fputc:
                 ;    3022 	unsigned int n;
                 ;    3023 	unsigned long addr_temp;
                 ;    3024 	
                 ;    3025 	if (rp==NULL)
0024ea 940e 3ab7 	CALL SUBOPT_0xDB
                 ;	file_data -> Y+8
                 ;	*rp -> Y+6
                 ;	n -> R16,R17
                 ;	addr_temp -> Y+2
0024ec 81ee      	LDD  R30,Y+6
0024ed 81ff      	LDD  R31,Y+6+1
0024ee 9730      	SBIW R30,0
0024ef f419      	BRNE _0x300
                 ;    3026 		return (EOF);
0024f0 efef      	LDI  R30,LOW(65535)
0024f1 efff      	LDI  R31,HIGH(65535)
0024f2 c19e      	RJMP _0x502
                 ;    3027 
                 ;    3028 	if (rp->mode == READ)
                 _0x300:
0024f3 940e 38e9 	CALL SUBOPT_0xAA
0024f5 30a1      	CPI  R26,LOW(0x1)
0024f6 f431      	BRNE _0x301
                 ;    3029 	{
                 ;    3030 		_FF_error = READONLY_ERR;
0024f7 e0e6      	LDI  R30,LOW(6)
0024f8 93e0 073c 	STS  __FF_error,R30
                 ;    3031 		return(EOF);
0024fa efef      	LDI  R30,LOW(65535)
0024fb efff      	LDI  R31,HIGH(65535)
0024fc c194      	RJMP _0x502
                 ;    3032 	}
                 ;    3033 	if (rp->length == 0)
                 _0x301:
0024fd 940e 3839 	CALL SUBOPT_0x97
0024ff f4d1      	BRNE _0x302
                 ;    3034 	{	// Blank file start writing cluster table
                 ;    3035 		rp->clus_start = prev_cluster(0);
002500 940e 36c4 	CALL SUBOPT_0x6D
002502 81ae
002503 81bf
002504 961c
002505 93ed
002506 93fc      	__PUTW1SNS 6,12
                 ;    3036 		rp->clus_next = 0xFFFF;
002507 940e 3abb 	CALL SUBOPT_0xDC
                 ;    3037 		rp->clus_current = rp->clus_start;
002509 940e 3812 	CALL SUBOPT_0x92
00250b 81ae
00250c 81bf
00250d 961e
00250e 93ed
00250f 93fc      	__PUTW1SNS 6,14
                 ;    3038 		if (write_clus_table(rp->clus_start, rp->clus_next, SINGLE)==0)
002510 940e 3853 	CALL SUBOPT_0x99
002512 940e 3ac3 	CALL SUBOPT_0xDD
002514 940e 3aca 	CALL SUBOPT_0xDE
002516 f419      	BRNE _0x303
                 ;    3039 		{
                 ;    3040 			return (EOF);
002517 efef      	LDI  R30,LOW(65535)
002518 efff      	LDI  R31,HIGH(65535)
002519 c177      	RJMP _0x502
                 ;    3041 		}
                 ;    3042 	}
                 _0x303:
                 ;    3043 	
                 ;    3044 	if ((rp->position==rp->length) && (rp->EOF_flag))
                 _0x302:
00251a 940e 3a85 	CALL SUBOPT_0xD3
00251c 937f      	PUSH R23
00251d 936f      	PUSH R22
00251e 93ff      	PUSH R31
00251f 93ef      	PUSH R30
002520 940e 3a8c 	CALL SUBOPT_0xD4
002522 91af      	POP  R26
002523 91bf      	POP  R27
002524 918f      	POP  R24
002525 919f      	POP  R25
002526 940e 400a 	CALL __CPD12
002528 f419      	BRNE _0x305
002529 940e 3a93 	CALL SUBOPT_0xD5
00252b f409      	BRNE _0x306
                 _0x305:
00252c c03f      	RJMP _0x304
                 _0x306:
                 ;    3045 	{	// At end of file, and end of cluster, flagged
                 ;    3046 		rp->clus_prev = rp->clus_current;
00252d 940e 3ab1 	CALL SUBOPT_0xDA
00252f 81ae
002530 81bf
002531 9652
002532 93ed
002533 93fc      	__PUTW1SNS 6,18
                 ;    3047 		rp->clus_current = prev_cluster(0);	// Find first cluster pointing to '0'
002534 940e 36c4 	CALL SUBOPT_0x6D
002536 81ae
002537 81bf
002538 961e
002539 93ed
00253a 93fc      	__PUTW1SNS 6,14
                 ;    3048 		rp->clus_next = 0xFFFF;
00253b 940e 3abb 	CALL SUBOPT_0xDC
                 ;    3049 		rp->sec_offset = 1;
00253d 940e 3865 	CALL SUBOPT_0x9C
                 ;    3050 		if (write_clus_table(rp->clus_prev, rp->clus_current, CHAIN)==0)
00253f 81ee      	LDD  R30,Y+6
002540 81ff      	LDD  R31,Y+6+1
002541 89a2      	LDD  R26,Z+18
002542 89b3      	LDD  R27,Z+19
002543 93ba      	ST   -Y,R27
002544 93aa      	ST   -Y,R26
002545 85e8      	LDD  R30,Y+8
002546 85f9      	LDD  R31,Y+8+1
002547 85a6      	LDD  R26,Z+14
002548 85b7      	LDD  R27,Z+15
002549 93ba      	ST   -Y,R27
00254a 93aa      	ST   -Y,R26
00254b 940e 366f 	CALL SUBOPT_0x5F
00254d f419      	BRNE _0x307
                 ;    3051 		{
                 ;    3052 			return (EOF);
00254e efef      	LDI  R30,LOW(65535)
00254f efff      	LDI  R31,HIGH(65535)
002550 c140      	RJMP _0x502
                 ;    3053 		}
                 ;    3054 		if (write_clus_table(rp->clus_current, rp->clus_next, END_CHAIN)==0)
                 _0x307:
002551 940e 385a 	CALL SUBOPT_0x9A
002553 940e 3ac3 	CALL SUBOPT_0xDD
002555 940e 3675 	CALL SUBOPT_0x60
002557 f419      	BRNE _0x308
                 ;    3055 		{
                 ;    3056 			return (EOF);
002558 efef      	LDI  R30,LOW(65535)
002559 efff      	LDI  R31,HIGH(65535)
00255a c136      	RJMP _0x502
                 ;    3057 		}
                 ;    3058 		if (append_toc(rp)==0)
                 _0x308:
00255b 940e 3902 	CALL SUBOPT_0xAE
00255d f419      	BRNE _0x309
                 ;    3059 		{
                 ;    3060 			return (EOF);
00255e efef      	LDI  R30,LOW(65535)
00255f efff      	LDI  R31,HIGH(65535)
002560 c130      	RJMP _0x502
                 ;    3061 		}
                 ;    3062 		rp->EOF_flag = 0;
                 _0x309:
002561 940e 3a9a 	CALL SUBOPT_0xD6
                 ;    3063 		rp->pntr = &rp->buff[0];		
002563 81ee      	LDD  R30,Y+6
002564 81ff      	LDD  R31,Y+6+1
002565 967c      	ADIW R30,28
002566 81ae
002567 81bf
002568 5da9
002569 4fbd
00256a 93ed
00256b 93fc      	__PUTW1SN 6,551
                 ;    3064 	}
                 ;    3065 	
                 ;    3066 	*rp->pntr = file_data;
                 _0x304:
00256c 940e 3aa1 	CALL SUBOPT_0xD7
00256e 85a8      	LDD  R26,Y+8
00256f 83a0      	STD  Z+0,R26
                 ;    3067 	
                 ;    3068 	if (rp->pntr == &rp->buff[BPB_BytsPerSec-1])
002570 81ae      	LDD  R26,Y+6
002571 81bf      	LDD  R27,Y+6+1
002572 5da9      	SUBI R26,LOW(-551)
002573 4fbd      	SBCI R27,HIGH(-551)
002574 900d      	LD   R0,X+
002575 901c      	LD   R1,X
002576 81ae      	LDD  R26,Y+6
002577 81bf      	LDD  R27,Y+6+1
002578 940e 3a39 	CALL SUBOPT_0xC8
00257a f011      	BREQ PC+3
00257b 940c 266b 	JMP _0x30A
                 ;    3069 	{	// This is on the Sector Limit
                 ;    3070 		if (rp->position > rp->length)
00257d 940e 3a85 	CALL SUBOPT_0xD3
00257f 937f      	PUSH R23
002580 936f      	PUSH R22
002581 93ff      	PUSH R31
002582 93ef      	PUSH R30
002583 940e 3a8c 	CALL SUBOPT_0xD4
002585 91af      	POP  R26
002586 91bf      	POP  R27
002587 918f      	POP  R24
002588 919f      	POP  R25
002589 940e 400a 	CALL __CPD12
00258b f430      	BRSH _0x30B
                 ;    3071 		{	// ERROR, position should never be greater than length
                 ;    3072 			_FF_error = 0x10;		// file position ERROR
00258c e1e0      	LDI  R30,LOW(16)
00258d 93e0 073c 	STS  __FF_error,R30
                 ;    3073 			return (EOF); 
00258f efef      	LDI  R30,LOW(65535)
002590 efff      	LDI  R31,HIGH(65535)
002591 c0ff      	RJMP _0x502
                 ;    3074 		}
                 ;    3075 		// Position is at end of a sector?
                 ;    3076 		
                 ;    3077 		addr_temp = (clust_to_addr(rp->clus_current) + ((rp->sec_offset-1)*BPB_BytsPerSec));
                 _0x30B:
002592 940e 385a 	CALL SUBOPT_0x9A
002594 940e 1065 	CALL _clust_to_addr
002596 937f      	PUSH R23
002597 936f      	PUSH R22
002598 93ff      	PUSH R31
002599 93ef      	PUSH R30
00259a 940e 38ef 	CALL SUBOPT_0xAB
00259c 940e 3d8a 	CALL __MULW12U
00259e 91af      	POP  R26
00259f 91bf      	POP  R27
0025a0 918f      	POP  R24
0025a1 919f      	POP  R25
0025a2 940e 38f5 	CALL SUBOPT_0xAC
                 ;    3078 		for (n=0; n<BPB_BytsPerSec; n++)
0025a4 e000
0025a5 e010      	__GETWRN 16,17,0
                 _0x30D:
0025a6 1506
0025a7 0517      	__CPWRR 16,17,6,7
0025a8 f438      	BRSH _0x30E
                 ;    3079 			_FF_buff[n] = rp->buff[n];
0025a9 940e 38fe 	CALL SUBOPT_0xAD
0025ab 81e0      	LD   R30,Z
0025ac 93ec      	ST   X,R30
                 ;    3080 		_FF_write(addr_temp);
0025ad 5f0f
0025ae 4f1f      	__ADDWRN 16,17,1
0025af cff6      	RJMP _0x30D
                 _0x30E:
0025b0 81ea
0025b1 81fb
0025b2 816c
0025b3 817d      	__GETD1S 2
0025b4 940e 3e66 	CALL __PUTPARD1
0025b6 940e 0ca1 	CALL __FF_write
                 ;    3081 			// Save MMC buffer to card, set pointer to begining of new buffer
                 ;    3082 		if (rp->sec_offset < BPB_SecPerClus)
0025b8 81ee      	LDD  R30,Y+6
0025b9 81ff      	LDD  R31,Y+6+1
0025ba 940e 3a64 	CALL SUBOPT_0xCE
0025bc f4c0      	BRSH _0x30F
                 ;    3083 		{	// Are there more sectors in this cluster?
                 ;    3084 			addr_temp = clust_to_addr(rp->clus_current) + (rp->sec_offset * BPB_BytsPerSec);
0025bd 940e 385a 	CALL SUBOPT_0x9A
0025bf 940e 1065 	CALL _clust_to_addr
0025c1 937f      	PUSH R23
0025c2 936f      	PUSH R22
0025c3 93ff      	PUSH R31
0025c4 93ef      	PUSH R30
0025c5 81ee      	LDD  R30,Y+6
0025c6 81ff      	LDD  R31,Y+6+1
0025c7 940e 3a6b 	CALL SUBOPT_0xCF
0025c9 91af      	POP  R26
0025ca 91bf      	POP  R27
0025cb 918f      	POP  R24
0025cc 919f      	POP  R25
0025cd 940e 38f5 	CALL SUBOPT_0xAC
                 ;    3085 			rp->sec_offset++;
0025cf 940e 3aab 	CALL SUBOPT_0xD9
0025d1 9631      	ADIW R30,1
0025d2 93ed      	ST   X+,R30
0025d3 93fc      	ST   X,R31
                 ;    3086 		}
                 ;    3087 		else
0025d4 c055      	RJMP _0x310
                 _0x30F:
                 ;    3088 		{	// Find next cluster, load first sector into file.buff
                 ;    3089 			if (((rp->clus_next>=0xFFF8)&&(BPB_FATType==0x36)) ||
                 ;    3090 				((rp->clus_next>=0xFF8)&&(BPB_FATType==0x32)))
0025d5 81ee      	LDD  R30,Y+6
0025d6 81ff      	LDD  R31,Y+6+1
0025d7 89a0      	LDD  R26,Z+16
0025d8 89b1      	LDD  R27,Z+17
0025d9 3fa8      	CPI  R26,LOW(0xFFF8)
0025da efef      	LDI  R30,HIGH(0xFFF8)
0025db 07be      	CPC  R27,R30
0025dc f018      	BRLO _0x312
0025dd e3e6      	LDI  R30,LOW(54)
0025de 15ee      	CP   R30,R14
0025df f061      	BREQ _0x314
                 _0x312:
0025e0 81ee      	LDD  R30,Y+6
0025e1 81ff      	LDD  R31,Y+6+1
0025e2 89a0      	LDD  R26,Z+16
0025e3 89b1      	LDD  R27,Z+17
0025e4 3fa8      	CPI  R26,LOW(0xFF8)
0025e5 e0ef      	LDI  R30,HIGH(0xFF8)
0025e6 07be      	CPC  R27,R30
0025e7 f018      	BRLO _0x315
0025e8 e3e2      	LDI  R30,LOW(50)
0025e9 15ee      	CP   R30,R14
0025ea f009      	BREQ _0x314
                 _0x315:
0025eb c01a      	RJMP _0x311
                 _0x314:
                 ;    3091 			{	// EOF, need to find new empty cluster
                 ;    3092 				if (rp->position != rp->length)
0025ec 940e 3a85 	CALL SUBOPT_0xD3
0025ee 937f      	PUSH R23
0025ef 936f      	PUSH R22
0025f0 93ff      	PUSH R31
0025f1 93ef      	PUSH R30
0025f2 940e 3a8c 	CALL SUBOPT_0xD4
0025f4 91af      	POP  R26
0025f5 91bf      	POP  R27
0025f6 918f      	POP  R24
0025f7 919f      	POP  R25
0025f8 940e 400a 	CALL __CPD12
0025fa f031      	BREQ _0x318
                 ;    3093 				{	// if not equal there's an error
                 ;    3094 					_FF_error = 0x20;		// EOF position error
0025fb e2e0      	LDI  R30,LOW(32)
0025fc 93e0 073c 	STS  __FF_error,R30
                 ;    3095 					return (EOF);
0025fe efef      	LDI  R30,LOW(65535)
0025ff efff      	LDI  R31,HIGH(65535)
002600 c090      	RJMP _0x502
                 ;    3096 				}
                 ;    3097 				rp->EOF_flag = 1;
                 _0x318:
002601 81ae      	LDD  R26,Y+6
002602 81bf      	LDD  R27,Y+6+1
002603 940e 3a71 	CALL SUBOPT_0xD0
                 ;    3098 			}
                 ;    3099 			else
002605 c01a      	RJMP _0x319
                 _0x311:
                 ;    3100 			{	// Not EOF, find next cluster
                 ;    3101 				rp->clus_prev = rp->clus_current;
002606 940e 3ab1 	CALL SUBOPT_0xDA
002608 81ae
002609 81bf
00260a 9652
00260b 93ed
00260c 93fc      	__PUTW1SNS 6,18
                 ;    3102 				rp->clus_current = rp->clus_next;
00260d 81ae      	LDD  R26,Y+6
00260e 81bf      	LDD  R27,Y+6+1
00260f 9650      	ADIW R26,16
002610 940e 3e4d 	CALL __GETW1P
002612 81ae
002613 81bf
002614 961e
002615 93ed
002616 93fc      	__PUTW1SNS 6,14
                 ;    3103 				rp->clus_next = next_cluster(rp->clus_current, SINGLE);
002617 940e 385a 	CALL SUBOPT_0x9A
002619 940e 3861 	CALL SUBOPT_0x9B
00261b 81ae
00261c 81bf
00261d 9650
00261e 93ed
00261f 93fc      	__PUTW1SNS 6,16
                 ;    3104 			}
                 _0x319:
                 ;    3105 			rp->sec_offset = 1;
002620 940e 3865 	CALL SUBOPT_0x9C
                 ;    3106 			addr_temp = clust_to_addr(rp->clus_current);
002622 940e 385a 	CALL SUBOPT_0x9A
002624 940e 1065 	CALL _clust_to_addr
002626 83ea
002627 83fb
002628 836c
002629 837d      	__PUTD1S 2
                 ;    3107 		}
                 _0x310:
                 ;    3108 		
                 ;    3109 		if (rp->EOF_flag == 0)
00262a 940e 3a93 	CALL SUBOPT_0xD5
00262c f501      	BRNE _0x31A
                 ;    3110 		{
                 ;    3111 			if (_FF_read(addr_temp)==0)
00262d 81ea
00262e 81fb
00262f 816c
002630 817d      	__GETD1S 2
002631 940e 337d 	CALL SUBOPT_0xC
002633 f419      	BRNE _0x31B
                 ;    3112 				return(EOF);
002634 efef      	LDI  R30,LOW(65535)
002635 efff      	LDI  R31,HIGH(65535)
002636 c05a      	RJMP _0x502
                 ;    3113 			for (n=0; n<512; n++)
                 _0x31B:
002637 e000
002638 e010      	__GETWRN 16,17,0
                 _0x31D:
002639 3000
00263a e0e2
00263b 071e      	__CPWRN 16,17,512
00263c f438      	BRSH _0x31E
                 ;    3114 				rp->buff[n] = _FF_buff[n];
00263d 940e 386d 	CALL SUBOPT_0x9D
00263f 940e 3873 	CALL SUBOPT_0x9E
                 ;    3115 			rp->pntr = &rp->buff[0];	// Set pointer to next location				
002641 5f0f
002642 4f1f      	__ADDWRN 16,17,1
002643 cff5      	RJMP _0x31D
                 _0x31E:
002644 81ee      	LDD  R30,Y+6
002645 81ff      	LDD  R31,Y+6+1
002646 967c      	ADIW R30,28
002647 81ae
002648 81bf
002649 5da9
00264a 4fbd
00264b 93ed
00264c 93fc      	__PUTW1SN 6,551
                 ;    3116 		}
                 ;    3117 		if (rp->length==rp->position)
                 _0x31A:
00264d 940e 3a8c 	CALL SUBOPT_0xD4
00264f 937f      	PUSH R23
002650 936f      	PUSH R22
002651 93ff      	PUSH R31
002652 93ef      	PUSH R30
002653 940e 3a85 	CALL SUBOPT_0xD3
002655 91af      	POP  R26
002656 91bf      	POP  R27
002657 918f      	POP  R24
002658 919f      	POP  R25
002659 940e 400a 	CALL __CPD12
00265b f441      	BRNE _0x31F
                 ;    3118 			rp->length++;
00265c 940e 3a8c 	CALL SUBOPT_0xD4
00265e 5fef
00265f 4fff
002660 4f6f
002661 4f7f      	__SUBD1N -1
002662 940e 3e57 	CALL __PUTDP1
                 ;    3119 		if (append_toc(rp)==0)
                 _0x31F:
002664 940e 3902 	CALL SUBOPT_0xAE
002666 f419      	BRNE _0x320
                 ;    3120 			return(EOF);
002667 efef      	LDI  R30,LOW(65535)
002668 efff      	LDI  R31,HIGH(65535)
002669 c027      	RJMP _0x502
                 ;    3121 	}
                 _0x320:
                 ;    3122 	else
00266a c01c      	RJMP _0x321
                 _0x30A:
                 ;    3123 	{
                 ;    3124 		rp->pntr++;
00266b 940e 3aa1 	CALL SUBOPT_0xD7
00266d 9631      	ADIW R30,1
00266e 93ed      	ST   X+,R30
00266f 93fc      	ST   X,R31
                 ;    3125 		if (rp->length==rp->position)
002670 940e 3a8c 	CALL SUBOPT_0xD4
002672 937f      	PUSH R23
002673 936f      	PUSH R22
002674 93ff      	PUSH R31
002675 93ef      	PUSH R30
002676 940e 3a85 	CALL SUBOPT_0xD3
002678 91af      	POP  R26
002679 91bf      	POP  R27
00267a 918f      	POP  R24
00267b 919f      	POP  R25
00267c 940e 400a 	CALL __CPD12
00267e f441      	BRNE _0x322
                 ;    3126 			rp->length++;
00267f 940e 3a8c 	CALL SUBOPT_0xD4
002681 5fef
002682 4fff
002683 4f6f
002684 4f7f      	__SUBD1N -1
002685 940e 3e57 	CALL __PUTDP1
                 ;    3127 	}
                 _0x322:
                 _0x321:
                 ;    3128 	rp->position++;
002687 940e 3a85 	CALL SUBOPT_0xD3
002689 5fef
00268a 4fff
00268b 4f6f
00268c 4f7f      	__SUBD1N -1
00268d 940e 3e57 	CALL __PUTDP1
                 ;    3129 	return(file_data);
00268f 85e8      	LDD  R30,Y+8
002690 e0f0      	LDI  R31,0
                 _0x502:
002691 8119      	LDD  R17,Y+1
002692 8108      	LDD  R16,Y+0
002693 9629      	ADIW R28,9
002694 9508      	RET
                 ;    3130 }
                 ;    3131 
                 ;    3132 int fputs(unsigned char *file_data, FILE *rp)
                 ;    3133 {
                 ;    3134 	while(*file_data)
                 ;    3135 		if (fputc(*file_data++,rp) == EOF)
                 ;    3136 			return (EOF);
                 ;    3137 	if (fputc('\r',rp) == EOF)
                 ;    3138 		return (EOF);
                 ;    3139 	if (fputc('\n',rp) == EOF)
                 ;    3140 		return (EOF);
                 ;    3141 	return (0);
                 ;    3142 }
                 ;    3143 
                 ;    3144 int fputsc(flash unsigned char *file_data, FILE *rp)
                 ;    3145 {
                 ;    3146 	while(*file_data)
                 ;    3147 		if (fputc(*file_data++,rp) == EOF)
                 ;    3148 			return (EOF);
                 ;    3149 	if (fputc('\r',rp) == EOF)
                 ;    3150 		return (EOF);
                 ;    3151 	if (fputc('\n',rp) == EOF)
                 ;    3152 		return (EOF);
                 ;    3153 	return (0);
                 ;    3154 }
                 ;    3155 #endif
                 ;    3156 
                 ;    3157 #ifndef _READ_ONLY_
                 ;    3158 #ifdef _CVAVR_
                 ;    3159 void fprintf(FILE *rp, unsigned char flash *pstr, ...)
                 ;    3160 {
                 ;    3161 	va_list arglist;
                 ;    3162 	unsigned char temp_buff[_FF_MAX_FPRINT], *fp;
                 ;    3163 	
                 ;    3164 	va_start(arglist, pstr);
                 ;	*rp -> Y+106
                 ;	*pstr -> Y+104
                 ;	*arglist -> R16,R17
                 ;	temp_buff -> Y+4
                 ;	*fp -> R18,R19
                 ;    3165 	vsprintf(temp_buff, pstr, arglist);
                 ;    3166 	va_end(arglist);
                 ;    3167 	
                 ;    3168 	fp = temp_buff;
                 ;    3169 	while (*fp)
                 ;    3170 		fputc(*fp++, rp);	
                 ;    3171 }
                 ;    3172 #endif
                 ;    3173 #ifdef _ICCAVR_
                 ;    3174 void fprintf(FILE *rp, unsigned char flash *pstr, long var)
                 ;    3175 {
                 ;    3176 	unsigned char temp_buff[_FF_MAX_FPRINT], *fp;
                 ;    3177 	
                 ;    3178 	csprintf(temp_buff, pstr, var);
                 ;    3179 	
                 ;    3180 	fp = temp_buff;
                 ;    3181 	while (*fp)
                 ;    3182 		fputc(*fp++, rp);	
                 ;    3183 }
                 ;    3184 #endif
                 ;    3185 #endif
                 ;    3186 
                 ;    3187 // Set file pointer to the end of the file
                 ;    3188 int fend(FILE *rp)
                 ;    3189 {
                 ;    3190 	return (fseek(rp, 0, SEEK_END));	
                 ;    3191 }
                 ;    3192 
                 ;    3193 // Goto position "off_set" of a file
                 ;    3194 int fseek(FILE *rp, unsigned long off_set, unsigned char mode)
                 ;    3195 {
                 _fseek:
                 ;    3196 	unsigned int n, clus_temp;
                 ;    3197 	unsigned long length_check, addr_calc;
                 ;    3198 	
                 ;    3199 	if (rp==NULL)
002695 9728      	SBIW R28,8
002696 940e 4016 	CALL __SAVELOCR4
                 ;	*rp -> Y+17
                 ;	off_set -> Y+13
                 ;	mode -> Y+12
                 ;	n -> R16,R17
                 ;	clus_temp -> R18,R19
                 ;	length_check -> Y+8
                 ;	addr_calc -> Y+4
002698 89e9      	LDD  R30,Y+17
002699 89fa      	LDD  R31,Y+17+1
00269a 9730      	SBIW R30,0
00269b f419      	BRNE _0x332
                 ;    3200 	{	// ERROR if FILE pointer is NULL
                 ;    3201 		_FF_error = FILE_ERR;
00269c 940e 3a20 	CALL SUBOPT_0xC4
                 ;    3202 		return (EOF);
00269e c147      	RJMP _0x501
                 ;    3203 	}
                 ;    3204 	if (mode==SEEK_CUR)
                 _0x332:
00269f 85ec      	LDD  R30,Y+12
0026a0 30e0      	CPI  R30,0
0026a1 f481      	BRNE _0x333
                 ;    3205 	{	// Trying to position pointer to offset from current position
                 ;    3206 		off_set += rp->position;
0026a2 89a9      	LDD  R26,Y+17
0026a3 89ba      	LDD  R27,Y+17+1
0026a4 5ea0      	SUBI R26,LOW(-544)
0026a5 4fbd      	SBCI R27,HIGH(-544)
0026a6 940e 3e51 	CALL __GETD1P
0026a8 85ad
0026a9 85be
0026aa 858f
0026ab 8998      	__GETD2S 13
0026ac 940e 3d12 	CALL __ADDD12
0026ae 87ed
0026af 87fe
0026b0 876f
0026b1 8b78      	__PUTD1S 13
                 ;    3207 	}
                 ;    3208 	if (off_set > rp->length)
                 _0x333:
0026b2 940e 3ad0 	CALL SUBOPT_0xDF
0026b4 940e 400a 	CALL __CPD12
0026b6 f438      	BRSH _0x334
                 ;    3209 	{	// trying to position beyond or before file
                 ;    3210 		rp->error = POS_ERR;
0026b7 89a9      	LDD  R26,Y+17
0026b8 89ba      	LDD  R27,Y+17+1
0026b9 940e 3a2d 	CALL SUBOPT_0xC6
                 ;    3211 		_FF_error = POS_ERR;
0026bb 940e 3adb 	CALL SUBOPT_0xE0
                 ;    3212 		return (EOF);
0026bd c128      	RJMP _0x501
                 ;    3213 	}
                 ;    3214 	if (mode==SEEK_END)
                 _0x334:
0026be 85ac      	LDD  R26,Y+12
0026bf 30a1      	CPI  R26,LOW(0x1)
0026c0 f441      	BRNE _0x335
                 ;    3215 	{	// Trying to position pointer to offset from EOF
                 ;    3216 		off_set = rp->length - off_set;
0026c1 940e 3ad0 	CALL SUBOPT_0xDF
0026c3 940e 3d1c 	CALL __SUBD12
0026c5 87ed
0026c6 87fe
0026c7 876f
0026c8 8b78      	__PUTD1S 13
                 ;    3217 	}
                 ;    3218 	#ifndef _READ_ONLY_
                 ;    3219 	if (rp->mode != READ)
                 _0x335:
0026c9 89a9      	LDD  R26,Y+17
0026ca 89ba      	LDD  R27,Y+17+1
0026cb 940e 390a 	CALL SUBOPT_0xAF
0026cd f059      	BREQ _0x336
                 ;    3220 		if (fflush(rp))
0026ce 89e9      	LDD  R30,Y+17
0026cf 89fa      	LDD  R31,Y+17+1
0026d0 93fa      	ST   -Y,R31
0026d1 93ea      	ST   -Y,R30
0026d2 940e 2013 	CALL _fflush
0026d4 9730      	SBIW R30,0
0026d5 f019      	BREQ _0x337
                 ;    3221 			return (EOF);
0026d6 efef      	LDI  R30,LOW(65535)
0026d7 efff      	LDI  R31,HIGH(65535)
0026d8 c10d      	RJMP _0x501
                 ;    3222 	#endif
                 ;    3223 	clus_temp = rp->clus_start;
                 _0x337:
                 _0x336:
0026d9 89a9      	LDD  R26,Y+17
0026da 89ba      	LDD  R27,Y+17+1
0026db 961c      	ADIW R26,12
0026dc 912d      	LD   R18,X+
0026dd 913c      	LD   R19,X
                 ;    3224 	rp->clus_current = clus_temp;
0026de 01f9      	MOVW R30,R18
0026df 89a9
0026e0 89ba
0026e1 961e
0026e2 93ed
0026e3 93fc      	__PUTW1SNS 17,14
                 ;    3225 	rp->clus_next = next_cluster(clus_temp, SINGLE);
0026e4 933a      	ST   -Y,R19
0026e5 932a      	ST   -Y,R18
0026e6 940e 3861 	CALL SUBOPT_0x9B
0026e8 89a9
0026e9 89ba
0026ea 9650
0026eb 93ed
0026ec 93fc      	__PUTW1SNS 17,16
                 ;    3226 	rp->clus_prev = 0;
0026ed 89a9      	LDD  R26,Y+17
0026ee 89ba      	LDD  R27,Y+17+1
0026ef 9652      	ADIW R26,18
0026f0 e0e0      	LDI  R30,LOW(0)
0026f1 e0f0      	LDI  R31,HIGH(0)
0026f2 93ed      	ST   X+,R30
0026f3 93fc      	ST   X,R31
                 ;    3227 	
                 ;    3228 	addr_calc = off_set / ((long) BPB_BytsPerSec * (long) BPB_SecPerClus);
0026f4 940e 341b 	CALL SUBOPT_0x21
0026f6 85ad
0026f7 85be
0026f8 858f
0026f9 8998      	__GETD2S 13
0026fa 940e 3de2 	CALL __DIVD21U
0026fc 83ec
0026fd 83fd
0026fe 836e
0026ff 837f      	__PUTD1S 4
                 ;    3229 	length_check = off_set % ((long) BPB_BytsPerSec * (long) BPB_SecPerClus);
002700 940e 341b 	CALL SUBOPT_0x21
002702 85ad
002703 85be
002704 858f
002705 8998      	__GETD2S 13
002706 940e 3e1c 	CALL __MODD21U
002708 87e8
002709 87f9
00270a 876a
00270b 877b      	__PUTD1S 8
                 ;    3230 	rp->EOF_flag = 0;
00270c 89a9      	LDD  R26,Y+17
00270d 89ba      	LDD  R27,Y+17+1
00270e 5daa      	SUBI R26,LOW(-550)
00270f 4fbd      	SBCI R27,HIGH(-550)
002710 e0e0      	LDI  R30,LOW(0)
002711 93ec      	ST   X,R30
                 ;    3231 
                 ;    3232 	while (addr_calc)
                 _0x338:
002712 81ec
002713 81fd
002714 816e
002715 817f      	__GETD1S 4
002716 940e 3ff8 	CALL __CPD10
002718 f411      	BRNE PC+3
002719 940c 276b 	JMP _0x33A
                 ;    3233 	{
                 ;    3234 		if (rp->clus_next >= 0xFFF8)
00271b 89e9      	LDD  R30,Y+17
00271c 89fa      	LDD  R31,Y+17+1
00271d 89a0      	LDD  R26,Z+16
00271e 89b1      	LDD  R27,Z+17
00271f 3fa8      	CPI  R26,LOW(0xFFF8)
002720 efef      	LDI  R30,HIGH(0xFFF8)
002721 07be      	CPC  R27,R30
002722 f100      	BRLO _0x33B
                 ;    3235 		{	// trying to position beyond or before file
                 ;    3236 			if ((addr_calc==1) && (length_check==0))
002723 81ac
002724 81bd
002725 818e
002726 819f      	__GETD2S 4
002727 30a1
002728 e0e0
002729 07be
00272a e0e0
00272b 078e
00272c e0e0
00272d 079e      	__CPD2N 0x1
00272e f439      	BRNE _0x33D
00272f 85a8
002730 85b9
002731 858a
002732 859b      	__GETD2S 8
002733 940e 4004 	CALL __CPD02
002735 f009      	BREQ _0x33E
                 _0x33D:
002736 c005      	RJMP _0x33C
                 _0x33E:
                 ;    3237 			{
                 ;    3238 				rp->EOF_flag = 1;
002737 89a9      	LDD  R26,Y+17
002738 89ba      	LDD  R27,Y+17+1
002739 940e 3a71 	CALL SUBOPT_0xD0
                 ;    3239 				break;
00273b c02f      	RJMP _0x33A
                 ;    3240 			}				
                 ;    3241 			rp->error = POS_ERR;
                 _0x33C:
00273c 89a9      	LDD  R26,Y+17
00273d 89ba      	LDD  R27,Y+17+1
00273e 940e 3a2d 	CALL SUBOPT_0xC6
                 ;    3242 			_FF_error = POS_ERR;
002740 940e 3adb 	CALL SUBOPT_0xE0
                 ;    3243 			return (EOF);
002742 c0a3      	RJMP _0x501
                 ;    3244 		}
                 ;    3245 		clus_temp = rp->clus_next;
                 _0x33B:
002743 89a9      	LDD  R26,Y+17
002744 89ba      	LDD  R27,Y+17+1
002745 9650      	ADIW R26,16
002746 912d      	LD   R18,X+
002747 913c      	LD   R19,X
                 ;    3246 		rp->clus_prev = rp->clus_current;
002748 89a9      	LDD  R26,Y+17
002749 89ba      	LDD  R27,Y+17+1
00274a 961e      	ADIW R26,14
00274b 940e 3e4d 	CALL __GETW1P
00274d 89a9
00274e 89ba
00274f 9652
002750 93ed
002751 93fc      	__PUTW1SNS 17,18
                 ;    3247 		rp->clus_current = clus_temp;
002752 01f9      	MOVW R30,R18
002753 89a9
002754 89ba
002755 961e
002756 93ed
002757 93fc      	__PUTW1SNS 17,14
                 ;    3248 		rp->clus_next = next_cluster(clus_temp, CHAIN);
002758 940e 3662 	CALL SUBOPT_0x5D
00275a 89a9
00275b 89ba
00275c 9650
00275d 93ed
00275e 93fc      	__PUTW1SNS 17,16
                 ;    3249 		addr_calc--;
00275f 81ec
002760 81fd
002761 816e
002762 817f      	__GETD1S 4
002763 9731      	SBIW R30,1
002764 4060      	SBCI R22,0
002765 4070      	SBCI R23,0
002766 83ec
002767 83fd
002768 836e
002769 837f      	__PUTD1S 4
                 ;    3250 	}
00276a cfa7      	RJMP _0x338
                 _0x33A:
                 ;    3251 	
                 ;    3252 	addr_calc = clust_to_addr(rp->clus_current);
00276b 89e9      	LDD  R30,Y+17
00276c 89fa      	LDD  R31,Y+17+1
00276d 85a6      	LDD  R26,Z+14
00276e 85b7      	LDD  R27,Z+15
00276f 93ba      	ST   -Y,R27
002770 93aa      	ST   -Y,R26
002771 940e 1065 	CALL _clust_to_addr
002773 83ec
002774 83fd
002775 836e
002776 837f      	__PUTD1S 4
                 ;    3253 	rp->sec_offset = 1;			// Reset Reading Sector
002777 89a9      	LDD  R26,Y+17
002778 89ba      	LDD  R27,Y+17+1
002779 940e 3a7f 	CALL SUBOPT_0xD2
                 ;    3254 	while (length_check >= BPB_BytsPerSec)
                 _0x33F:
00277b 940e 3ae1 	CALL SUBOPT_0xE1
00277d 940e 400f 	CALL __CPD21
00277f f0b0      	BRLO _0x341
                 ;    3255 	{
                 ;    3256 		addr_calc += BPB_BytsPerSec;
002780 940e 389b 	CALL SUBOPT_0xA3
002782 940e 3d12 	CALL __ADDD12
002784 83ec
002785 83fd
002786 836e
002787 837f      	__PUTD1S 4
                 ;    3257 		length_check -= BPB_BytsPerSec;
002788 940e 3ae1 	CALL SUBOPT_0xE1
00278a 940e 3d21 	CALL __SUBD21
00278c 87a8
00278d 87b9
00278e 878a
00278f 879b      	__PUTD2S 8
                 ;    3258 		rp->sec_offset++;
002790 89a9      	LDD  R26,Y+17
002791 89ba      	LDD  R27,Y+17+1
002792 9654      	ADIW R26,20
002793 940e 3ae9 	CALL SUBOPT_0xE2
                 ;    3259 	}
002795 cfe5      	RJMP _0x33F
                 _0x341:
                 ;    3260 	
                 ;    3261 	if (_FF_read(addr_calc)==0)		// Read Current Data Sector
002796 81ec
002797 81fd
002798 816e
002799 817f      	__GETD1S 4
00279a 940e 337d 	CALL SUBOPT_0xC
00279c f419      	BRNE _0x342
                 ;    3262 		return(EOF);		// Read Error  
00279d efef      	LDI  R30,LOW(65535)
00279e efff      	LDI  R31,HIGH(65535)
00279f c046      	RJMP _0x501
                 ;    3263 		
                 ;    3264 	for (n=0; n<BPB_BytsPerSec; n++)
                 _0x342:
0027a0 e000
0027a1 e010      	__GETWRN 16,17,0
                 _0x344:
0027a2 1506
0027a3 0517      	__CPWRR 16,17,6,7
0027a4 f450      	BRSH _0x345
                 ;    3265 		rp->buff[n] = _FF_buff[n];
0027a5 89e9      	LDD  R30,Y+17
0027a6 89fa      	LDD  R31,Y+17+1
0027a7 967c      	ADIW R30,28
0027a8 0fe0      	ADD  R30,R16
0027a9 1ff1      	ADC  R31,R17
0027aa 940e 3873 	CALL SUBOPT_0x9E
                 ;    3266     
                 ;    3267     if ((rp->EOF_flag == 1) && (length_check == 0))
0027ac 5f0f
0027ad 4f1f      	__ADDWRN 16,17,1
0027ae cff3      	RJMP _0x344
                 _0x345:
0027af 89a9      	LDD  R26,Y+17
0027b0 89ba      	LDD  R27,Y+17+1
0027b1 5daa      	SUBI R26,LOW(-550)
0027b2 4fbd      	SBCI R27,HIGH(-550)
0027b3 91ac      	LD   R26,X
0027b4 30a1      	CPI  R26,LOW(0x1)
0027b5 f439      	BRNE _0x347
0027b6 85a8
0027b7 85b9
0027b8 858a
0027b9 859b      	__GETD2S 8
0027ba 940e 4004 	CALL __CPD02
0027bc f009      	BREQ _0x348
                 _0x347:
0027bd c00d      	RJMP _0x346
                 _0x348:
                 ;    3268     	rp->pntr = &rp->buff[BPB_BytsPerSec-1];
0027be 89a9      	LDD  R26,Y+17
0027bf 89ba      	LDD  R27,Y+17+1
0027c0 965c      	ADIW R26,28
0027c1 01f3      	MOVW R30,R6
0027c2 9731      	SBIW R30,1
0027c3 0fea      	ADD  R30,R26
0027c4 1ffb      	ADC  R31,R27
0027c5 89a9
0027c6 89ba
0027c7 5da9
0027c8 4fbd
0027c9 93ed
0027ca 93fc      	__PUTW1SN 17,551
                 ;    3269 	rp->pntr = &rp->buff[length_check];
                 _0x346:
0027cb 89a9      	LDD  R26,Y+17
0027cc 89ba      	LDD  R27,Y+17+1
0027cd 965c      	ADIW R26,28
0027ce 85e8
0027cf 85f9
0027d0 856a
0027d1 857b      	__GETD1S 8
0027d2 0fea      	ADD  R30,R26
0027d3 1ffb      	ADC  R31,R27
0027d4 89a9
0027d5 89ba
0027d6 5da9
0027d7 4fbd
0027d8 93ed
0027d9 93fc      	__PUTW1SN 17,551
                 ;    3270 	rp->position = off_set;
0027da 85ed
0027db 85fe
0027dc 856f
0027dd 8978      	__GETD1S 13
0027de 89a9
0027df 89ba
0027e0 5ea0
0027e1 4fbd
0027e2 940e 3e57 	__PUTD1SN 17,544
                 ;    3271 		
                 ;    3272 	return (0);	
0027e4 e0e0      	LDI  R30,LOW(0)
0027e5 e0f0      	LDI  R31,HIGH(0)
                 _0x501:
0027e6 940e 401d 	CALL __LOADLOCR4
0027e8 9663      	ADIW R28,19
0027e9 9508      	RET
                 ;    3273 }
                 ;    3274 
                 ;    3275 // Return the current position of the file rp with respect to the begining of the file
                 ;    3276 long ftell(FILE *rp)
                 ;    3277 {
                 _ftell:
                 ;    3278 	if (rp==NULL)
0027ea 81e8      	LD   R30,Y
0027eb 81f9      	LDD  R31,Y+1
0027ec 9730      	SBIW R30,0
0027ed f429      	BRNE _0x349
                 ;    3279 		return (EOF);
0027ee efef
0027ef efff
0027f0 ef6f
0027f1 ef7f      	__GETD1N 0xFFFFFFFF
0027f2 c022      	RJMP _0x500
                 ;    3280 	else
                 _0x349:
                 ;    3281 		return (rp->position);
0027f3 940e 3aef 	CALL SUBOPT_0xE3
0027f5 c01f      	RJMP _0x500
                 ;    3282 }
                 ;    3283 
                 ;    3284 // Funtion that returns a '1' for @EOF, '0' otherwise
                 ;    3285 int feof(FILE *rp)
                 ;    3286 {
                 _feof:
                 ;    3287 	if (rp==NULL)
0027f6 81e8      	LD   R30,Y
0027f7 81f9      	LDD  R31,Y+1
0027f8 9730      	SBIW R30,0
0027f9 f419      	BRNE _0x34B
                 ;    3288 		return (EOF);
0027fa efef      	LDI  R30,LOW(65535)
0027fb efff      	LDI  R31,HIGH(65535)
0027fc c018      	RJMP _0x500
                 ;    3289 	
                 ;    3290 	if (rp->length==rp->position)
                 _0x34B:
0027fd 81a8      	LD   R26,Y
0027fe 81b9      	LDD  R27,Y+1
0027ff 5ea4      	SUBI R26,LOW(-540)
002800 4fbd      	SBCI R27,HIGH(-540)
002801 940e 3e51 	CALL __GETD1P
002803 937f      	PUSH R23
002804 936f      	PUSH R22
002805 93ff      	PUSH R31
002806 93ef      	PUSH R30
002807 940e 3aef 	CALL SUBOPT_0xE3
002809 91af      	POP  R26
00280a 91bf      	POP  R27
00280b 918f      	POP  R24
00280c 919f      	POP  R25
00280d 940e 400a 	CALL __CPD12
00280f f419      	BRNE _0x34C
                 ;    3291 		return (1);
002810 e0e1      	LDI  R30,LOW(1)
002811 e0f0      	LDI  R31,HIGH(1)
002812 c002      	RJMP _0x500
                 ;    3292 	else
                 _0x34C:
                 ;    3293 		return (0);
002813 e0e0      	LDI  R30,LOW(0)
002814 e0f0      	LDI  R31,HIGH(0)
                 ;    3294 }
                 _0x500:
002815 9622      	ADIW R28,2
002816 9508      	RET
                 ;    3295 		
                 ;    3296 void dump_file_data_hex(FILE *rp)
                 ;    3297 {
                 _dump_file_data_hex:
                 ;    3298 	unsigned int n, c;
                 ;    3299 	
                 ;    3300 	if (rp==NULL)
002817 940e 365c 	CALL SUBOPT_0x5C
                 ;	*rp -> Y+4
                 ;	n -> R16,R17
                 ;	c -> R18,R19
002819 f409      	BRNE _0x34E
                 ;    3301 		return;
00281a c030      	RJMP _0x4FF
                 ;    3302 
                 ;    3303 	for (n=0; n<0x20; n++)
                 _0x34E:
00281b e000
00281c e010      	__GETWRN 16,17,0
                 _0x350:
00281d 3200
00281e e0e0
00281f 071e      	__CPWRN 16,17,32
002820 f550      	BRSH _0x351
                 ;    3304 	{   
                 ;    3305 		printf("\n\r");
002821 e4ee
002822 e0f3      	__POINTW1FN _0,474
002823 93fa      	ST   -Y,R31
002824 93ea      	ST   -Y,R30
002825 e080      	LDI  R24,0
002826 940e 3228 	CALL _printf
002828 9622      	ADIW R28,2
                 ;    3306 		for (c=0; c<0x10; c++)
002829 e020
00282a e030      	__GETWRN 18,19,0
                 _0x353:
00282b 3120
00282c e0e0
00282d 073e      	__CPWRN 18,19,16
00282e f4c8      	BRSH _0x354
                 ;    3307 			printf("%02X ", rp->buff[(n*0x20)+c]);
00282f edef
002830 e0f3      	__POINTW1FN _0,619
002831 93fa      	ST   -Y,R31
002832 93ea      	ST   -Y,R30
002833 81ae      	LDD  R26,Y+6
002834 81bf      	LDD  R27,Y+6+1
002835 965c      	ADIW R26,28
002836 01f8      	MOVW R30,R16
002837 0fee      	LSL  R30
002838 1fff      	ROL  R31
002839 940e 3d59 	CALL __LSLW4
00283b 0fe2      	ADD  R30,R18
00283c 1ff3      	ADC  R31,R19
00283d 0fae      	ADD  R26,R30
00283e 1fbf      	ADC  R27,R31
00283f 940e 3af6 	CALL SUBOPT_0xE4
002841 e084      	LDI  R24,4
002842 940e 3228 	CALL _printf
002844 9626      	ADIW R28,6
                 ;    3308 	}
002845 5f2f
002846 4f3f      	__ADDWRN 18,19,1
002847 cfe3      	RJMP _0x353
                 _0x354:
002848 5f0f
002849 4f1f      	__ADDWRN 16,17,1
00284a cfd2      	RJMP _0x350
                 _0x351:
                 ;    3309 }
                 _0x4FF:
00284b 940e 401d 	CALL __LOADLOCR4
00284d 9626      	ADIW R28,6
00284e 9508      	RET
                 ;    3310 
                 ;    3311 void dump_file_data_view(FILE *rp)
                 ;    3312 {
                 _dump_file_data_view:
                 ;    3313 	unsigned int n;
                 ;    3314 	
                 ;    3315 	if (rp==NULL)
00284f 931a      	ST   -Y,R17
002850 930a      	ST   -Y,R16
                 ;	*rp -> Y+2
                 ;	n -> R16,R17
002851 81ea      	LDD  R30,Y+2
002852 81fb      	LDD  R31,Y+2+1
002853 9730      	SBIW R30,0
002854 f409      	BRNE _0x355
                 ;    3316 		return;
002855 c01a      	RJMP _0x4FE
                 ;    3317 
                 ;    3318 	printf("\n\r");
                 _0x355:
002856 e4ee
002857 e0f3      	__POINTW1FN _0,474
002858 93fa      	ST   -Y,R31
002859 93ea      	ST   -Y,R30
00285a e080      	LDI  R24,0
00285b 940e 3228 	CALL _printf
00285d 9622      	ADIW R28,2
                 ;    3319 	for (n=0; n<512; n++)
00285e e000
00285f e010      	__GETWRN 16,17,0
                 _0x357:
002860 3000
002861 e0e2
002862 071e      	__CPWRN 16,17,512
002863 f460      	BRSH _0x358
                 ;    3320 		putchar(rp->buff[n]);
002864 81ea      	LDD  R30,Y+2
002865 81fb      	LDD  R31,Y+2+1
002866 967c      	ADIW R30,28
002867 0fe0      	ADD  R30,R16
002868 1ff1      	ADC  R31,R17
002869 81e0      	LD   R30,Z
00286a 93ea      	ST   -Y,R30
00286b 940e 0642 	CALL _putchar
                 ;    3321 }
00286d 5f0f
00286e 4f1f      	__ADDWRN 16,17,1
00286f cff0      	RJMP _0x357
                 _0x358:
                 _0x4FE:
002870 8119      	LDD  R17,Y+1
002871 8108      	LDD  R16,Y+0
002872 9624      	ADIW R28,4
002873 9508      	RET
                 ;    3322 
                 ;    3323 
                 ;    3324 #ifndef _UART_INT_
                 ;    3325 	#define		rx_counter0		(UCSR0A & 0x80)
                 ;    3326 	#define		tx_counter0		((!UCSR0A) & 0x40)
                 ;    3327 	#define		rx_counter1		(UCSR1A & 0x80)
                 ;    3328 	#define		tx_counter1		((!UCSR1A) & 0x40)
                 ;    3329 #endif
                 ;    3330 
                 ;    3331 void port_init(void)
                 ;    3332 {
                 _port_init:
                 ;    3333  PORTA = 0b00000010;	DDRA  = 0x03;   //LCD   
002874 e0e2      	LDI  R30,LOW(2)
002875 bbeb      	OUT  0x1B,R30
002876 e0e3      	LDI  R30,LOW(3)
002877 bbea      	OUT  0x1A,R30
                 ;    3334  PORTB = 0xFF;		DDRB  = 0x00;
002878 efef      	LDI  R30,LOW(255)
002879 bbe8      	OUT  0x18,R30
00287a e0e0      	LDI  R30,LOW(0)
00287b bbe7      	OUT  0x17,R30
                 ;    3335  PORTC = 0xFF; 		DDRC  = 0x00;	  //m103 output only
00287c efef      	LDI  R30,LOW(255)
00287d bbe5      	OUT  0x15,R30
00287e e0e0      	LDI  R30,LOW(0)
00287f bbe4      	OUT  0x14,R30
                 ;    3336  PORTD = 0xFF;		DDRD  = 0x00;
002880 efef      	LDI  R30,LOW(255)
002881 bbe2      	OUT  0x12,R30
002882 e0e0      	LDI  R30,LOW(0)
002883 bbe1      	OUT  0x11,R30
                 ;    3337  PORTE = 0xFF;		DDRE  = 0x00;
002884 efef      	LDI  R30,LOW(255)
002885 b9e3      	OUT  0x3,R30
002886 e0e0      	LDI  R30,LOW(0)
002887 b9e2      	OUT  0x2,R30
                 ;    3338  PORTF = 0xFF;		DDRF  = 0x00;
002888 efef      	LDI  R30,LOW(255)
002889 93e0 0062 	STS  98,R30
00288b e0e0      	LDI  R30,LOW(0)
00288c 93e0 0061 	STS  97,R30
                 ;    3339  PORTG = 0x1F;		DDRG  = 0x00;
00288e e1ef      	LDI  R30,LOW(31)
00288f 93e0 0065 	STS  101,R30
002891 e0e0      	LDI  R30,LOW(0)
002892 93e0 0064 	STS  100,R30
                 ;    3340 }
002894 9508      	RET
                 ;    3341 
                 ;    3342 
                 ;    3343 /*//UART0 initialisation
                 ;    3344 // desired baud rate: 115200
                 ;    3345 // actual: baud rate:115200 (0.0%)
                 ;    3346 // char size: 8 bit
                 ;    3347 // parity: Disabled
                 ;    3348 void uart0_init(void)
                 ;    3349 {
                 ;    3350  UCSR0B = 0x00; //disable while setting baud rate
                 ;    3351  UCSR0A = 0x00;
                 ;    3352  UCSR0C = 0x06;
                 ;    3353 // UBRR0L = 0x07; //set baud rate lo
                 ;    3354 // UBRR0H = 0x00; //set baud rate hi
                 ;    3355  UBRR0H=0x00;
                 ;    3356  UBRR0L=0x08;
                 ;    3357  UCSR0B = 0x18;
                 ;    3358 } */
                 ;    3359 
                 ;    3360 // USART0 initialization
                 ;    3361 // Communication Parameters: 8 Data, 1 Stop, No Parity
                 ;    3362 // USART0 Receiver: On
                 ;    3363 // USART0 Transmitter: On
                 ;    3364 // USART0 Mode: Asynchronous
                 ;    3365 // USART0 Baud rate: 56000
                 ;    3366 void uart0_init(void)
                 ;    3367 {
                 _uart0_init:
                 ;    3368 UCSR0A=0x00;
002895 e0e0      	LDI  R30,LOW(0)
002896 b9eb      	OUT  0xB,R30
                 ;    3369 UCSR0B=0x18;
002897 e1e8      	LDI  R30,LOW(24)
002898 b9ea      	OUT  0xA,R30
                 ;    3370 UCSR0C=0x06;
002899 e0e6      	LDI  R30,LOW(6)
00289a 93e0 0095 	STS  149,R30
                 ;    3371 UBRR0H=0x00;
00289c e0e0      	LDI  R30,LOW(0)
00289d 93e0 0090 	STS  144,R30
                 ;    3372 UBRR0L=0x08;
00289f e0e8      	LDI  R30,LOW(8)
0028a0 b9e9      	OUT  0x9,R30
                 ;    3373 }
0028a1 9508      	RET
                 ;    3374 
                 ;    3375 
                 ;    3376 
                 ;    3377 /*
                 ;    3378 // USART0 initialization
                 ;    3379 // Communication Parameters: 8 Data, 1 Stop, No Parity
                 ;    3380 // USART0 Receiver: On
                 ;    3381 // USART0 Transmitter: On
                 ;    3382 // USART0 Mode: Asynchronous
                 ;    3383 // USART0 Baud rate: 56000
                 ;    3384 void uart0_init(void)
                 ;    3385 {
                 ;    3386 UCSR0A=0x00;
                 ;    3387 UCSR0B=0x18;
                 ;    3388 UCSR0C=0x06;
                 ;    3389 UBRR0H=0x00;
                 ;    3390 UBRR0L=0x08;
                 ;    3391 } 
                 ;    3392 */
                 ;    3393 //UART1 initialisation
                 ;    3394 // desired baud rate:115200
                 ;    3395 // actual baud rate:115200 (0.0%)
                 ;    3396 // char size: 8 bit
                 ;    3397 // parity: Disabled
                 ;    3398 void uart1_init(void)
                 ;    3399 {
                 _uart1_init:
                 ;    3400  UCSR1B = 0x00; //disable while setting baud rate
0028a2 e0e0      	LDI  R30,LOW(0)
0028a3 93e0 009a 	STS  154,R30
                 ;    3401  UCSR1A = 0x00;
0028a5 93e0 009b 	STS  155,R30
                 ;    3402  UCSR1C = 0x06;
0028a7 e0e6      	LDI  R30,LOW(6)
0028a8 93e0 009d 	STS  157,R30
                 ;    3403  UBRR1L = 0x07; //set baud rate lo
0028aa e0e7      	LDI  R30,LOW(7)
0028ab 93e0 0099 	STS  153,R30
                 ;    3404  UBRR1H = 0x00; //set baud rate hi
0028ad e0e0      	LDI  R30,LOW(0)
0028ae 93e0 0098 	STS  152,R30
                 ;    3405  UCSR1B = 0x18;
0028b0 e1e8      	LDI  R30,LOW(24)
0028b1 93e0 009a 	STS  154,R30
                 ;    3406 }
0028b3 9508      	RET
                 ;    3407 
                 ;    3408 
                 ;    3409 //call this routine to initialise all peripherals
                 ;    3410 void init_devices(void)
                 ;    3411 {
                 _init_devices:
                 ;    3412  //stop errant interrupts until set up
                 ;    3413  CLI(); //disable all interrupts
0028b4 94f8      	cli
                 ;    3414  XDIV  = 0x00; //xtal divider
0028b5 e0e0      	LDI  R30,LOW(0)
0028b6 bfec      	OUT  0x3C,R30
                 ;    3415  XMCRA = 0x00; //external memory
0028b7 93e0 006d 	STS  109,R30
                 ;    3416  port_init();
0028b9 940e 2874 	CALL _port_init
                 ;    3417  uart0_init();
0028bb 940e 2895 	CALL _uart0_init
                 ;    3418  uart1_init();
0028bd 940e 28a2 	CALL _uart1_init
                 ;    3419 
                 ;    3420  MCUCR = 0x00;
0028bf e0e0      	LDI  R30,LOW(0)
0028c0 bfe5      	OUT  0x35,R30
                 ;    3421  EICRA = 0x00; //extended ext ints
0028c1 93e0 006a 	STS  106,R30
                 ;    3422  EICRB = 0x00; //extended ext ints
0028c3 bfea      	OUT  0x3A,R30
                 ;    3423  EIMSK = 0x00;
0028c4 bfe9      	OUT  0x39,R30
                 ;    3424  TIMSK = 0x00; //timer interrupt sources
0028c5 bfe7      	OUT  0x37,R30
                 ;    3425  ETIMSK = 0x00; //extended timer interrupt sources
0028c6 93e0 007d 	STS  125,R30
                 ;    3426  SEI(); //re-enable interrupts
0028c8 9478      	sei
                 ;    3427  //all peripherals are now initialised
                 ;    3428 }
0028c9 9508      	RET
                 ;    3429 
                 ;    3430 // Declare your global variables here 
                 ;    3431 extern unsigned char _FF_buff[512];
                 ;    3432 
                 ;    3433 extern unsigned char rtc_hour, rtc_min, rtc_sec;
                 ;    3434 extern unsigned char rtc_date, rtc_month;
                 ;    3435 extern unsigned int rtc_year;
                 ;    3436 
                 ;    3437 char menu_level;
                 
                 	.DSEG
                 _menu_level:
0007c6           	.BYTE 0x1
                 ;    3438 FILE *file1;
                 _file1:
0007c7           	.BYTE 0x2
                 ;    3439 
                 ;    3440 
                 ;    3441 
                 ;    3442 void display_demo_commands(void)
                 ;    3443 {
                 
                 	.CSEG
                 _display_demo_commands:
                 ;    3444 	printf("\r\nTest Commands:");
0028ca eee5
0028cb e0f3      	__POINTW1FN _0,625
0028cc 93fa      	ST   -Y,R31
0028cd 93ea      	ST   -Y,R30
0028ce e080      	LDI  R24,0
0028cf 940e 3228 	CALL _printf
0028d1 9622      	ADIW R28,2
                 ;    3445 	printf("\r\n  (1)-Initialize Media      (2)-Read Directory Files");
0028d2 efe6
0028d3 e0f3      	__POINTW1FN _0,642
0028d4 93fa      	ST   -Y,R31
0028d5 93ea      	ST   -Y,R30
0028d6 e080      	LDI  R24,0
0028d7 940e 3228 	CALL _printf
0028d9 9622      	ADIW R28,2
                 ;    3446 	printf("\r\n  (3)-Create File           (4)-Delete File");
0028da e2ed
0028db e0f4      	__POINTW1FN _0,697
0028dc 93fa      	ST   -Y,R31
0028dd 93ea      	ST   -Y,R30
0028de e080      	LDI  R24,0
0028df 940e 3228 	CALL _printf
0028e1 9622      	ADIW R28,2
                 ;    3447 	printf("\r\n  (5)-Rename File           (6)-Open File");
0028e2 e5eb
0028e3 e0f4      	__POINTW1FN _0,743
0028e4 93fa      	ST   -Y,R31
0028e5 93ea      	ST   -Y,R30
0028e6 e080      	LDI  R24,0
0028e7 940e 3228 	CALL _printf
0028e9 9622      	ADIW R28,2
                 ;    3448 	printf("\r\n  (7)-Make Directory        (8)-Delete Directory");
0028ea e8e7
0028eb e0f4      	__POINTW1FN _0,787
0028ec 93fa      	ST   -Y,R31
0028ed 93ea      	ST   -Y,R30
0028ee e080      	LDI  R24,0
0028ef 940e 3228 	CALL _printf
0028f1 9622      	ADIW R28,2
                 ;    3449 	printf("\r\n  (9)-Change Working Dir    (0)-Get File Info");
0028f2 ebea
0028f3 e0f4      	__POINTW1FN _0,838
0028f4 93fa      	ST   -Y,R31
0028f5 93ea      	ST   -Y,R30
0028f6 e080      	LDI  R24,0
0028f7 940e 3228 	CALL _printf
0028f9 9622      	ADIW R28,2
                 ;    3450 	printf("\r\n  (F)-Quick Format Card     (V)-Get Media Serial & Label");
0028fa eeea
0028fb e0f4      	__POINTW1FN _0,886
0028fc 93fa      	ST   -Y,R31
0028fd 93ea      	ST   -Y,R30
0028fe e080      	LDI  R24,0
0028ff 940e 3228 	CALL _printf
002901 9622      	ADIW R28,2
                 ;    3451 	printf("\r\n  (c)-Display Time/Date     (C)-Set Time/Date\r\n");
002902 e2e5
002903 e0f5      	__POINTW1FN _0,945
002904 93fa      	ST   -Y,R31
002905 93ea      	ST   -Y,R30
002906 e080      	LDI  R24,0
002907 940e 3228 	CALL _printf
002909 c037      	RJMP _0x4FD
                 ;    3452 }
                 ;    3453 
                 ;    3454 void display_file_commands(void)
                 ;    3455 {
                 _display_file_commands:
                 ;    3456 	printf("\r\nOpen File Commands:");
00290a e5e7
00290b e0f5      	__POINTW1FN _0,995
00290c 93fa      	ST   -Y,R31
00290d 93ea      	ST   -Y,R30
00290e e080      	LDI  R24,0
00290f 940e 3228 	CALL _printf
002911 9622      	ADIW R28,2
                 ;    3457 	printf("\r\n  (1)-ftell               (2)-fseek");
002912 e6ed
002913 e0f5      	__POINTW1FN _0,1017
002914 93fa      	ST   -Y,R31
002915 93ea      	ST   -Y,R30
002916 e080      	LDI  R24,0
002917 940e 3228 	CALL _printf
002919 9622      	ADIW R28,2
                 ;    3458 	printf("\r\n  (3)-fgetc               (4)-ungetc");
00291a e9e3
00291b e0f5      	__POINTW1FN _0,1055
00291c 93fa      	ST   -Y,R31
00291d 93ea      	ST   -Y,R30
00291e e080      	LDI  R24,0
00291f 940e 3228 	CALL _printf
002921 9622      	ADIW R28,2
                 ;    3459 	printf("\r\n  (5)-Read file till END  (6)-Write to File");
002922 ebea
002923 e0f5      	__POINTW1FN _0,1094
002924 93fa      	ST   -Y,R31
002925 93ea      	ST   -Y,R30
002926 e080      	LDI  R24,0
002927 940e 3228 	CALL _printf
002929 9622      	ADIW R28,2
                 ;    3460 	printf("\r\n  (7)-Dump Buffer - HEX   (8)-Dump Buffer - ASCII");
00292a eee8
00292b e0f5      	__POINTW1FN _0,1140
00292c 93fa      	ST   -Y,R31
00292d 93ea      	ST   -Y,R30
00292e e080      	LDI  R24,0
00292f 940e 3228 	CALL _printf
002931 9622      	ADIW R28,2
                 ;    3461 	printf("\r\n  (9)-fflush              (0)-fclose");
002932 e1ec
002933 e0f6      	__POINTW1FN _0,1192
002934 93fa      	ST   -Y,R31
002935 93ea      	ST   -Y,R30
002936 e080      	LDI  R24,0
002937 940e 3228 	CALL _printf
002939 9622      	ADIW R28,2
                 ;    3462 	printf("\r\n  (E)-Free File Memory\r\n");
00293a e4e3
00293b e0f6      	__POINTW1FN _0,1231
00293c 93fa      	ST   -Y,R31
00293d 93ea      	ST   -Y,R30
00293e e080      	LDI  R24,0
00293f 940e 3228 	CALL _printf
                 _0x4FD:
002941 9622      	ADIW R28,2
                 ;    3463 }
002942 9508      	RET
                 ;    3464                                 
                 ;    3465 void flush_receive(void)
                 ;    3466 {
                 _flush_receive:
                 ;    3467 	while (rx_counter0)
                 _0x359:
002943 9b5f      	SBIS 0xB,7
002944 c003      	RJMP _0x35B
                 ;    3468 		getchar();
002945 940e 0632 	CALL _getchar
                 ;    3469 }                          
002947 cffb      	RJMP _0x359
                 _0x35B:
002948 9508      	RET
                 ;    3470                           
                 ;    3471 int get_input_str(char *input_str, int max_size)
                 ;    3472 {
                 _get_input_str:
                 ;    3473 	int i;
                 ;    3474 	char c;           
                 ;    3475 
                 ;    3476 	for (i=0; i<max_size;)
002949 940e 4017 	CALL __SAVELOCR3
                 ;	*input_str -> Y+5
                 ;	max_size -> Y+3
                 ;	i -> R16,R17
                 ;	c -> R18
00294b e000
00294c e010      	__GETWRN 16,17,0
                 _0x35D:
00294d 81eb      	LDD  R30,Y+3
00294e 81fc      	LDD  R31,Y+3+1
00294f 170e      	CP   R16,R30
002950 071f      	CPC  R17,R31
002951 f5bc      	BRGE _0x35E
                 ;    3477 	{
                 ;    3478     	c = getchar();
002952 940e 0632 	CALL _getchar
002954 2f2e      	MOV  R18,R30
                 ;    3479         if ((c=='\n')||(c=='\r'))	// if its a Line Feed
002955 302a      	CPI  R18,10
002956 f011      	BREQ _0x360
002957 302d      	CPI  R18,13
002958 f421      	BRNE _0x35F
                 _0x360:
                 ;    3480 		{
                 ;    3481 			*input_str = '\0';		// null terminate the string and 
002959 940e 3afd 	CALL SUBOPT_0xE5
                 ;    3482 			return i;				// return the length
00295b 01f8      	MOVW R30,R16
00295c c02f      	RJMP _0x4FC
                 ;    3483 		}                            
                 ;    3484 		else if (c == 8)			// backspace
                 _0x35F:
00295d 3028      	CPI  R18,8
00295e f4c1      	BRNE _0x363
                 ;    3485 		{
                 ;    3486 			if (i > 0) 
00295f 2400      	CLR  R0
002960 1600      	CP   R0,R16
002961 0601      	CPC  R0,R17
002962 f49c      	BRGE _0x364
                 ;    3487 			{
                 ;    3488 				putchar(c);
002963 932a      	ST   -Y,R18
002964 940e 0642 	CALL _putchar
                 ;    3489 				putchar(' ');
002966 e2e0      	LDI  R30,LOW(32)
002967 93ea      	ST   -Y,R30
002968 940e 0642 	CALL _putchar
                 ;    3490 				putchar(c);
00296a 932a      	ST   -Y,R18
00296b 940e 0642 	CALL _putchar
                 ;    3491 				input_str--;
00296d 81ed      	LDD  R30,Y+5
00296e 81fe      	LDD  R31,Y+5+1
00296f 9731      	SBIW R30,1
002970 83ed      	STD  Y+5,R30
002971 83fe      	STD  Y+5+1,R31
                 ;    3492 				*input_str = '\0';
002972 940e 3afd 	CALL SUBOPT_0xE5
                 ;    3493 				i--;
002974 5001
002975 4010      	__SUBWRN 16,17,1
                 ;    3494 			}
                 ;    3495 		}       
                 _0x364:
                 ;    3496 		else if (c == 0x1B)	   		// ESC
002976 c011      	RJMP _0x365
                 _0x363:
002977 312b      	CPI  R18,27
002978 f429      	BRNE _0x366
                 ;    3497 		{            
                 ;    3498 			*input_str = '\0';		// null terminate the string
002979 940e 3afd 	CALL SUBOPT_0xE5
                 ;    3499 			return 0;				// flag escape with 0 lenght 
00297b e0e0      	LDI  R30,LOW(0)
00297c e0f0      	LDI  R31,HIGH(0)
00297d c00e      	RJMP _0x4FC
                 ;    3500 		}
                 ;    3501 		else
                 _0x366:
                 ;    3502 		{
                 ;    3503 			putchar(c);
00297e 932a      	ST   -Y,R18
00297f 940e 0642 	CALL _putchar
                 ;    3504 			*input_str++ = c;
002981 81ad      	LDD  R26,Y+5
002982 81be      	LDD  R27,Y+5+1
002983 932d      	ST   X+,R18
002984 83ad      	STD  Y+5,R26
002985 83be      	STD  Y+5+1,R27
                 ;    3505 			i++;             		// only increment on valid entries!
002986 5f0f
002987 4f1f      	__ADDWRN 16,17,1
                 ;    3506 		}
                 _0x365:
                 ;    3507 	}        
002988 cfc4      	RJMP _0x35D
                 _0x35E:
                 ;    3508 	*input_str = '\0';	// null terminate       
002989 940e 3afd 	CALL SUBOPT_0xE5
                 ;    3509 	return i;
00298b 01f8      	MOVW R30,R16
                 _0x4FC:
00298c 940e 401e 	CALL __LOADLOCR3
00298e 9627      	ADIW R28,7
00298f 9508      	RET
                 ;    3510 }
                 ;    3511                                         
                 ;    3512 void set_date_time(void)
                 ;    3513 {                           
                 ;    3514 	char myinstr[25];
                 ;    3515 	char *next_str;
                 ;    3516 	int input_vals[6];
                 ;    3517 	char c;
                 ;    3518 	#ifdef _ICCAVR_
                 ;    3519 		char d_str[3], semi_str[4];
                 ;    3520 		cstrcpy(d_str, "%d");
                 ;    3521 		cstrcpy(semi_str, "/: ");
                 ;    3522 	#endif
                 ;    3523 	printf("\n\rSend Date and Time as mm/dd/yyyy hh:mm:ss[ENTER]\n\r");
                 ;	myinstr -> Y+15
                 ;	*next_str -> R16,R17
                 ;	input_vals -> Y+3
                 ;	c -> R18
                 ;    3524 	if (get_input_str(myinstr,20) == 0)
                 ;    3525 		return;         
                 ;    3526 	next_str = myinstr;
                 ;    3527 	for (c=0;((c<6) && (strlen(next_str) != 0));c++)                         
                 ;    3528 	{
                 ;    3529 		#ifdef _CVAVR_
                 ;    3530 			sscanf(next_str,"%d",&(input_vals[c]));
                 ;    3531 			// find next delimiter
                 ;    3532 			next_str = strpbrkf(next_str,"/: ");
                 ;    3533 		#else		
                 ;    3534 			sscanf(next_str, d_str,&(input_vals[c]));
                 ;    3535 			// find next delimiter
                 ;    3536 			next_str = strpbrk(next_str,semi_str);
                 ;    3537 		#endif
                 ;    3538 		// if not null, move past delimiter
                 ;    3539 		if (next_str != '\0')
                 ;    3540 			next_str++;
                 ;    3541 	}
                 ;    3542 //	rtc_set_time(input_vals[3], input_vals[4], input_vals[5]);
                 ;    3543 //    rtc_set_date(input_vals[1],input_vals[0],input_vals[2]);  
                 ;    3544 //    rtc_get_timeNdate(&rtc_hour, &rtc_min, &rtc_sec, &rtc_date, &rtc_month, (int *)&rtc_year);	    			
                 ;    3545 //    printf("\r\n%02d/%02d/%04d %02d:%02d:%02d", rtc_month,rtc_date,rtc_year,rtc_hour,rtc_min,rtc_sec);
                 ;    3546 }
                 ;    3547 
                 ;    3548 void print_result(int result,char error_flag,int bad_compare_value)
                 ;    3549 {                 
                 _print_result:
                 ;    3550 	if (result != bad_compare_value)
002990 81e8      	LD   R30,Y
002991 81f9      	LDD  R31,Y+1
002992 81ab      	LDD  R26,Y+3
002993 81bc      	LDD  R27,Y+3+1
002994 17ea      	CP   R30,R26
002995 07fb      	CPC  R31,R27
002996 f031      	BREQ _0x36F
                 ;    3551 		printf("\r\n - OK!");
002997 e9ea
002998 e0f6      	__POINTW1FN _0,1318
002999 93fa      	ST   -Y,R31
00299a 93ea      	ST   -Y,R30
00299b e080      	LDI  R24,0
00299c c011      	RJMP _0x52C
                 ;    3552 	else
                 _0x36F:
                 ;    3553 	{
                 ;    3554 		if (error_flag == 1)
00299d 81aa      	LDD  R26,Y+2
00299e 30a1      	CPI  R26,LOW(0x1)
00299f f449      	BRNE _0x371
                 ;    3555 	 		printf("\r\n - ERROR! - %X", _FF_error);
0029a0 eae3
0029a1 e0f6      	__POINTW1FN _0,1327
0029a2 940e 3b02 	CALL SUBOPT_0xE6
0029a4 e084      	LDI  R24,4
0029a5 940e 3228 	CALL _printf
0029a7 9626      	ADIW R28,6
                 ;    3556 	 	else                                        
0029a8 c008      	RJMP _0x372
                 _0x371:
                 ;    3557 	 		printf("\r\n - ERROR!");	 	
0029a9 ebe4
0029aa e0f6      	__POINTW1FN _0,1344
0029ab 93fa      	ST   -Y,R31
0029ac 93ea      	ST   -Y,R30
0029ad e080      	LDI  R24,0
                 _0x52C:
0029ae 940e 3228 	CALL _printf
0029b0 9622      	ADIW R28,2
                 ;    3558 	 }
                 _0x372:
                 ;    3559 }
0029b1 9625      	ADIW R28,5
0029b2 9508      	RET
                 ;    3560 
                 ;    3561 long get_addr_entry(char addr_size)
                 ;    3562 {            	
                 _get_addr_entry:
                 ;    3563 	unsigned char test_char;
                 ;    3564 	unsigned long addr_sd;
                 ;    3565 	unsigned int n;
                 ;    3566 	
                 ;    3567    	test_char = getchar();
0029b3 9724      	SBIW R28,4
0029b4 940e 4017 	CALL __SAVELOCR3
                 ;	addr_size -> Y+7
                 ;	test_char -> R16
                 ;	addr_sd -> Y+3
                 ;	n -> R17,R18
0029b6 940e 3b0c 	CALL SUBOPT_0xE7
                 ;    3568 	putchar(test_char);
                 ;    3569     test_char = ascii_to_char(test_char);
0029b8 940e 3b12 	CALL SUBOPT_0xE8
                 ;    3570     addr_sd = test_char;
0029ba 2fe0      	MOV  R30,R16
0029bb 27ff      	CLR  R31
0029bc 2766      	CLR  R22
0029bd 2777      	CLR  R23
0029be 83eb
0029bf 83fc
0029c0 836d
0029c1 837e      	__PUTD1S 3
                 ;    3571     for (n=0; n<addr_size; n++)
0029c2 e010
0029c3 e020      	__GETWRN 17,18,0
                 _0x374:
0029c4 81ef      	LDD  R30,Y+7
0029c5 2fa1
0029c6 2fb2      	__GETW2R 17,18
0029c7 e0f0      	LDI  R31,0
0029c8 17ae      	CP   R26,R30
0029c9 07bf      	CPC  R27,R31
0029ca f010      	BRLO PC+3
0029cb 940c 2a0d 	JMP _0x375
                 ;    3572     {
                 ;    3573     	test_char = getchar();
0029cd 940e 3b0c 	CALL SUBOPT_0xE7
                 ;    3574         putchar(test_char);
                 ;    3575         if (test_char == 0x8)
0029cf 3008      	CPI  R16,8
0029d0 f471      	BRNE _0x376
                 ;    3576         {
                 ;    3577         	n -= 2;
0029d1 5012
0029d2 4020      	__SUBWRN 17,18,2
                 ;    3578             addr_sd >>= 8;
0029d3 81ab
0029d4 81bc
0029d5 818d
0029d6 819e      	__GETD2S 3
0029d7 e0e8      	LDI  R30,LOW(8)
0029d8 940e 3d4d 	CALL __LSRD12
0029da 83eb
0029db 83fc
0029dc 836d
0029dd 837e      	__PUTD1S 3
                 ;    3579         }
                 ;    3580         else if ((test_char=='\r')||(test_char=='\n'))
0029de c009      	RJMP _0x377
                 _0x376:
0029df 300d      	CPI  R16,13
0029e0 f011      	BREQ _0x379
0029e1 300a      	CPI  R16,10
0029e2 f429      	BRNE _0x378
                 _0x379:
                 ;    3581         	return addr_sd;
0029e3 81eb
0029e4 81fc
0029e5 816d
0029e6 817e      	__GETD1S 3
0029e7 c029      	RJMP _0x4FB
                 ;    3582         if (test_char == 0x1B)
                 _0x378:
                 _0x377:
0029e8 310b      	CPI  R16,27
0029e9 f429      	BRNE _0x37B
                 ;    3583         	return EOF;
0029ea efef
0029eb efff
0029ec ef6f
0029ed ef7f      	__GETD1N 0xFFFFFFFF
0029ee c022      	RJMP _0x4FB
                 ;    3584     	test_char = ascii_to_char(test_char);
                 _0x37B:
0029ef 940e 3b12 	CALL SUBOPT_0xE8
                 ;    3585     	addr_sd = addr_sd << 4;
0029f1 81ab
0029f2 81bc
0029f3 818d
0029f4 819e      	__GETD2S 3
0029f5 e0e4      	LDI  R30,LOW(4)
0029f6 940e 3d41 	CALL __LSLD12
0029f8 83eb
0029f9 83fc
0029fa 836d
0029fb 837e      	__PUTD1S 3
                 ;    3586     	addr_sd |= test_char;
0029fc 2fe0      	MOV  R30,R16
0029fd 81ab
0029fe 81bc
0029ff 818d
002a00 819e      	__GETD2S 3
002a01 27ff      	CLR  R31
002a02 2766      	CLR  R22
002a03 2777      	CLR  R23
002a04 940e 3d26 	CALL __ORD12
002a06 83eb
002a07 83fc
002a08 836d
002a09 837e      	__PUTD1S 3
                 ;    3587     }               
002a0a 5f1f
002a0b 4f2f      	__ADDWRN 17,18,1
002a0c cfb7      	RJMP _0x374
                 _0x375:
                 ;    3588     return addr_sd;
002a0d 81eb
002a0e 81fc
002a0f 816d
002a10 817e      	__GETD1S 3
                 _0x4FB:
002a11 940e 401e 	CALL __LOADLOCR3
002a13 9628      	ADIW R28,8
002a14 9508      	RET
                 ;    3589 }
                 ;    3590 
                 ;    3591 void handle_level1(unsigned char test_char)
                 ;    3592 {                           
                 _handle_level1:
                 ;    3593 	unsigned char *pointer, sd_temp[14], sd_temp2[24], create_info[22], modify_info[22];
                 ;    3594 	unsigned int status, n;
                 ;    3595 	unsigned long addr_sd, c;
                 ;    3596 	char print_demo_flag;
                 ;    3597 	pointer = 0;
002a15 97ef      	SBIW R28,63
002a16 976c      	SBIW R28,28
002a17 940e 4014 	CALL __SAVELOCR6
                 ;	test_char -> Y+97
                 ;	*pointer -> R16,R17
                 ;	sd_temp -> Y+83
                 ;	sd_temp2 -> Y+59
                 ;	create_info -> Y+37
                 ;	modify_info -> Y+15
                 ;	status -> R18,R19
                 ;	n -> R20,R21
                 ;	addr_sd -> Y+11
                 ;	c -> Y+7
                 ;	print_demo_flag -> Y+6
002a19 e000
002a1a e010      	__GETWRN 16,17,0
                 ;    3598 	print_demo_flag = 1;	// assume for now that we will recognize the command!
002a1b e0e1      	LDI  R30,LOW(1)
002a1c 83ee      	STD  Y+6,R30
                 ;    3599 	
                 ;    3600    	switch(test_char)
002a1d 01fe
002a1e 59ef
002a1f 4fff
002a20 81e0      	__GETB1SX 97
                 ;    3601    	{	
                 ;    3602    		case '$':
002a21 32e4      	CPI  R30,LOW(0x24)
002a22 f471      	BRNE _0x37F
                 ;    3603 	  		#ifdef _DEBUG_ON_
                 ;    3604     		printf("\r\nJumping to Bootloader");
002a23 ece0
002a24 e0f6      	__POINTW1FN _0,1356
002a25 93fa      	ST   -Y,R31
002a26 93ea      	ST   -Y,R30
002a27 e080      	LDI  R24,0
002a28 940e 3228 	CALL _printf
002a2a 9622      	ADIW R28,2
                 ;    3605     		while(tx_counter0);
                 _0x380:
002a2b b1eb      	IN   R30,0xB
002a2c 940e 3d85 	CALL __LNEGB1
002a2e 74e0      	ANDI R30,LOW(0x40)
002a2f f7d9      	BRNE _0x380
                 ;    3606     		#endif
                 ;    3607 //			#asm("jmp 0xFC00");
                 ;    3608 		   	break;
002a30 c29e      	RJMP _0x37E
                 ;    3609        	case '1':
                 _0x37F:
002a31 33e1      	CPI  R30,LOW(0x31)
002a32 f481      	BRNE _0x383
                 ;    3610        		printf("\r\nInitializing... ");
002a33 ede8
002a34 e0f6      	__POINTW1FN _0,1380
002a35 93fa      	ST   -Y,R31
002a36 93ea      	ST   -Y,R30
002a37 e080      	LDI  R24,0
002a38 940e 3228 	CALL _printf
002a3a 9622      	ADIW R28,2
                 ;    3611        		print_result(initialize_media(),0,0);
002a3b 940e 0747 	CALL _initialize_media
002a3d e0f0      	LDI  R31,0
002a3e 940e 3b17 	CALL SUBOPT_0xE9
002a40 940e 3b1c 	CALL SUBOPT_0xEA
                 ;    3612    			break;
002a42 c28c      	RJMP _0x37E
                 ;    3613 
                 ;    3614    		#ifdef _DEBUG_ON_
                 ;    3615    		case '2':
                 _0x383:
002a43 33e2      	CPI  R30,LOW(0x32)
002a44 f419      	BRNE _0x384
                 ;    3616    			read_directory();
002a45 940e 0ec9 	CALL _read_directory
                 ;    3617       		break;
002a47 c287      	RJMP _0x37E
                 ;    3618        	#endif
                 ;    3619 
                 ;    3620        	#ifndef _READ_ONLY_
                 ;    3621        	case '3':
                 _0x384:
002a48 33e3      	CPI  R30,LOW(0x33)
002a49 f579      	BRNE _0x385
                 ;    3622        		printf("\r\nCreating File:  ");
002a4a eeeb
002a4b e0f6      	__POINTW1FN _0,1399
002a4c 93fa      	ST   -Y,R31
002a4d 93ea      	ST   -Y,R30
002a4e e080      	LDI  R24,0
002a4f 940e 3b22 	CALL SUBOPT_0xEB
                 ;    3623 			if (get_input_str(sd_temp2, 24) != 0)
002a51 940e 3b28 	CALL SUBOPT_0xEC
002a53 f121      	BREQ _0x386
                 ;    3624 			{
                 ;    3625 
                 ;    3626 printf ("My  Point1");
002a54 efee
002a55 e0f6      	__POINTW1FN _0,1418
002a56 93fa      	ST   -Y,R31
002a57 93ea      	ST   -Y,R30
002a58 e080      	LDI  R24,0
002a59 940e 3b22 	CALL SUBOPT_0xEB
                 ;    3627 
                 ;    3628    	    		file1 = fcreate(sd_temp2, 0);
002a5b 940e 3b17 	CALL SUBOPT_0xE9
002a5d 940e 1dee 	CALL _fcreate
002a5f 93e0 07c7 	STS  _file1,R30
002a61 93f0 07c8 	STS  _file1+1,R31
                 ;    3629 printf ("My  Point2");
002a63 e0e9
002a64 e0f7      	__POINTW1FN _0,1429
002a65 93fa      	ST   -Y,R31
002a66 93ea      	ST   -Y,R30
002a67 e080      	LDI  R24,0
002a68 940e 3b32 	CALL SUBOPT_0xED
                 ;    3630    	    		print_result((int)file1,1,NULL);
002a6a 940e 36e9 	CALL SUBOPT_0x71
002a6c 940e 3b1c 	CALL SUBOPT_0xEA
                 ;    3631         		if (file1 != 0)
002a6e 91e0 07c7 	LDS  R30,_file1
002a70 91f0 07c8 	LDS  R31,_file1+1
002a72 9730      	SBIW R30,0
002a73 f021      	BREQ _0x387
                 ;    3632        				fclose(file1);
002a74 93fa      	ST   -Y,R31
002a75 93ea      	ST   -Y,R30
002a76 940e 2059 	CALL _fclose
                 ;    3633    			}
                 _0x387:
                 ;    3634        		break;
                 _0x386:
002a78 c256      	RJMP _0x37E
                 ;    3635        	case '4':
                 _0x385:
002a79 33e4      	CPI  R30,LOW(0x34)
002a7a f4a9      	BRNE _0x388
                 ;    3636        		printf("\r\nDeleting File:  ");
002a7b e1e4
002a7c e0f7      	__POINTW1FN _0,1440
002a7d 93fa      	ST   -Y,R31
002a7e 93ea      	ST   -Y,R30
002a7f e080      	LDI  R24,0
002a80 940e 3b22 	CALL SUBOPT_0xEB
                 ;    3637 			if (get_input_str(sd_temp2, 24) != 0)
002a82 940e 3b28 	CALL SUBOPT_0xEC
002a84 f051      	BREQ _0x389
                 ;    3638 				print_result(remove(sd_temp2),1,EOF);
002a85 01fe      	MOVW R30,R28
002a86 96fb      	ADIW R30,59
002a87 93fa      	ST   -Y,R31
002a88 93ea      	ST   -Y,R30
002a89 940e 1ecd 	CALL _remove
002a8b 940e 36e9 	CALL SUBOPT_0x71
002a8d 940e 3b3a 	CALL SUBOPT_0xEE
                 ;    3639        		break;
                 _0x389:
002a8f c23f      	RJMP _0x37E
                 ;    3640        	case '5':
                 _0x388:
002a90 33e5      	CPI  R30,LOW(0x35)
002a91 f521      	BRNE _0x38A
                 ;    3641        		printf("\r\nRename File:\r\n  Old Name:  ");
002a92 e2e7
002a93 e0f7      	__POINTW1FN _0,1459
002a94 93fa      	ST   -Y,R31
002a95 93ea      	ST   -Y,R30
002a96 e080      	LDI  R24,0
002a97 940e 3b22 	CALL SUBOPT_0xEB
                 ;    3642 			if (get_input_str(sd_temp2, 24) != 0)
002a99 940e 3b28 	CALL SUBOPT_0xEC
002a9b f0c9      	BREQ _0x38B
                 ;    3643 			{               
                 ;    3644         		printf("\r\n  New Name:  ");
002a9c e4e5
002a9d e0f7      	__POINTW1FN _0,1489
002a9e 93fa      	ST   -Y,R31
002a9f 93ea      	ST   -Y,R30
002aa0 e080      	LDI  R24,0
002aa1 940e 3b40 	CALL SUBOPT_0xEF
                 ;    3645 				flush_receive();    	// clear out any hanging characters from last entry
                 ;    3646 				if (get_input_str(sd_temp, 12) != 0)
002aa3 940e 3b45 	CALL SUBOPT_0xF0
002aa5 f079      	BREQ _0x38C
                 ;    3647     	       		print_result(rename(sd_temp2, sd_temp),1,EOF);
002aa6 01fe      	MOVW R30,R28
002aa7 96fb      	ADIW R30,59
002aa8 93fa      	ST   -Y,R31
002aa9 93ea      	ST   -Y,R30
002aaa 01fe      	MOVW R30,R28
002aab 5aeb      	SUBI R30,LOW(-(85))
002aac 4fff      	SBCI R31,HIGH(-(85))
002aad 93fa      	ST   -Y,R31
002aae 93ea      	ST   -Y,R30
002aaf 940e 1f68 	CALL _rename
002ab1 940e 36e9 	CALL SUBOPT_0x71
002ab3 940e 3b3a 	CALL SUBOPT_0xEE
                 ;    3648     		}
                 _0x38C:
                 ;    3649         	break;
                 _0x38B:
002ab5 c219      	RJMP _0x37E
                 ;    3650        	#endif
                 ;    3651        	case '6':
                 _0x38A:
002ab6 33e6      	CPI  R30,LOW(0x36)
002ab7 f011      	BREQ PC+3
002ab8 940c 2b26 	JMP _0x38D
                 ;    3652        		printf("\n\rOpen file:  ");
002aba e5e5
002abb e0f7      	__POINTW1FN _0,1505
002abc 93fa      	ST   -Y,R31
002abd 93ea      	ST   -Y,R30
002abe e080      	LDI  R24,0
002abf 940e 3b22 	CALL SUBOPT_0xEB
                 ;    3653 			if (get_input_str(sd_temp2, 24) != 0)
002ac1 940e 3b28 	CALL SUBOPT_0xEC
002ac3 f411      	BRNE PC+3
002ac4 940c 2b25 	JMP _0x38E
                 ;    3654 			{
                 ;    3655           		printf("\r\nChoose:  (1)-READ  (2)-WRITE  (3)-APPEND");
002ac6 e6e4
002ac7 e0f7      	__POINTW1FN _0,1520
002ac8 93fa      	ST   -Y,R31
002ac9 93ea      	ST   -Y,R30
002aca e080      	LDI  R24,0
002acb 940e 3b40 	CALL SUBOPT_0xEF
                 ;    3656 				flush_receive();    	// clear out any hanging characters from last entry          		
                 ;    3657        			status = getchar();
002acd 940e 3b52 	CALL SUBOPT_0xF1
                 ;    3658        			switch (status)
002acf 01f9      	MOVW R30,R18
                 ;    3659         		{
                 ;    3660    	    			case '1':
002ad0 33e1      	CPI  R30,LOW(0x31)
002ad1 e0a0      	LDI  R26,HIGH(0x31)
002ad2 07fa      	CPC  R31,R26
002ad3 f459      	BRNE _0x392
                 ;    3661        					printf("  -- READ");
002ad4 e8ef
002ad5 e0f7      	__POINTW1FN _0,1563
002ad6 93fa      	ST   -Y,R31
002ad7 93ea      	ST   -Y,R30
002ad8 e080      	LDI  R24,0
002ad9 940e 3b22 	CALL SUBOPT_0xEB
                 ;    3662        					file1 = fopen(sd_temp2, READ);
002adb 93fa      	ST   -Y,R31
002adc 93ea      	ST   -Y,R30
002add e0e1      	LDI  R30,LOW(1)
002ade c01d      	RJMP _0x52D
                 ;    3663        					break;
                 ;    3664         			case '2':
                 _0x392:
002adf 33e2      	CPI  R30,LOW(0x32)
002ae0 e0a0      	LDI  R26,HIGH(0x32)
002ae1 07fa      	CPC  R31,R26
002ae2 f459      	BRNE _0x393
                 ;    3665    	    				printf("  -- WRITE");
002ae3 e9e9
002ae4 e0f7      	__POINTW1FN _0,1573
002ae5 93fa      	ST   -Y,R31
002ae6 93ea      	ST   -Y,R30
002ae7 e080      	LDI  R24,0
002ae8 940e 3b22 	CALL SUBOPT_0xEB
                 ;    3666        					file1 = fopen(sd_temp2, WRITE);
002aea 93fa      	ST   -Y,R31
002aeb 93ea      	ST   -Y,R30
002aec e0e2      	LDI  R30,LOW(2)
002aed c00e      	RJMP _0x52D
                 ;    3667        					break;
                 ;    3668        				case '3':
                 _0x393:
002aee 33e3      	CPI  R30,LOW(0x33)
002aef e0a0      	LDI  R26,HIGH(0x33)
002af0 07fa      	CPC  R31,R26
002af1 f489      	BRNE _0x391
                 ;    3669        					printf("  -- APPEND");
002af2 eae4
002af3 e0f7      	__POINTW1FN _0,1584
002af4 93fa      	ST   -Y,R31
002af5 93ea      	ST   -Y,R30
002af6 e080      	LDI  R24,0
002af7 940e 3b22 	CALL SUBOPT_0xEB
                 ;    3670         				file1 = fopen(sd_temp2, APPEND);
002af9 93fa      	ST   -Y,R31
002afa 93ea      	ST   -Y,R30
002afb e0e3      	LDI  R30,LOW(3)
                 _0x52D:
002afc 93ea      	ST   -Y,R30
002afd 940e 1c6d 	CALL _fopen
002aff 93e0 07c7 	STS  _file1,R30
002b01 93f0 07c8 	STS  _file1+1,R31
                 ;    3671    	    				break;
                 ;    3672        			}
                 _0x391:
                 ;    3673        			if (file1==0)
002b03 91e0 07c7 	LDS  R30,_file1
002b05 91f0 07c8 	LDS  R31,_file1+1
002b07 9730      	SBIW R30,0
002b08 f441      	BRNE _0x395
                 ;    3674        				printf("\r\nFileOpen Error = %x", _FF_error);
002b09 ebe0
002b0a e0f7      	__POINTW1FN _0,1596
002b0b 940e 3b02 	CALL SUBOPT_0xE6
002b0d e084      	LDI  R24,4
002b0e d719      	RCALL _printf
002b0f 9626      	ADIW R28,6
                 ;    3675         		else
002b10 c014      	RJMP _0x396
                 _0x395:
                 ;    3676    	    		{
                 ;    3677        				printf("\r\nSuccess!!!  -  %s - Opened! \r\n",sd_temp2);
002b11 ece6
002b12 e0f7      	__POINTW1FN _0,1618
002b13 93fa      	ST   -Y,R31
002b14 93ea      	ST   -Y,R30
002b15 01fe      	MOVW R30,R28
002b16 96fd      	ADIW R30,61
002b17 2766      	CLR  R22
002b18 2777      	CLR  R23
002b19 940e 3e66 	CALL __PUTPARD1
002b1b e084      	LDI  R24,4
002b1c d70b      	RCALL _printf
002b1d 9626      	ADIW R28,6
                 ;    3678        				menu_level = 2;
002b1e e0e2      	LDI  R30,LOW(2)
002b1f 93e0 07c6 	STS  _menu_level,R30
                 ;    3679        				display_file_commands();
002b21 940e 290a 	CALL _display_file_commands
                 ;    3680        				print_demo_flag = 0;
002b23 e0e0      	LDI  R30,LOW(0)
002b24 83ee      	STD  Y+6,R30
                 ;    3681        			}
                 _0x396:
                 ;    3682    			}
                 ;    3683    			break;
                 _0x38E:
002b25 c1a9      	RJMP _0x37E
                 ;    3684        	case '7':
                 _0x38D:
002b26 33e7      	CPI  R30,LOW(0x37)
002b27 f4a9      	BRNE _0x397
                 ;    3685 			printf("\r\nMake Directory:  ");
002b28 eee7
002b29 e0f7      	__POINTW1FN _0,1651
002b2a 93fa      	ST   -Y,R31
002b2b 93ea      	ST   -Y,R30
002b2c e080      	LDI  R24,0
002b2d 940e 3b22 	CALL SUBOPT_0xEB
                 ;    3686     		if (get_input_str(sd_temp2, 24) != 0)
002b2f 940e 3b28 	CALL SUBOPT_0xEC
002b31 f051      	BREQ _0x398
                 ;    3687     	    	print_result(mkdir(sd_temp2),0,EOF);
002b32 01fe      	MOVW R30,R28
002b33 96fb      	ADIW R30,59
002b34 93fa      	ST   -Y,R31
002b35 93ea      	ST   -Y,R30
002b36 940e 1748 	CALL _mkdir
002b38 940e 3b17 	CALL SUBOPT_0xE9
002b3a 940e 3b3a 	CALL SUBOPT_0xEE
                 ;    3688     	 	break;
                 _0x398:
002b3c c192      	RJMP _0x37E
                 ;    3689 		case '8':
                 _0x397:
002b3d 33e8      	CPI  R30,LOW(0x38)
002b3e f4a9      	BRNE _0x399
                 ;    3690        		printf("\r\nDelete Directory:  ");
002b3f efeb
002b40 e0f7      	__POINTW1FN _0,1671
002b41 93fa      	ST   -Y,R31
002b42 93ea      	ST   -Y,R30
002b43 e080      	LDI  R24,0
002b44 940e 3b22 	CALL SUBOPT_0xEB
                 ;    3691     		if (get_input_str(sd_temp2, 24) != 0)
002b46 940e 3b28 	CALL SUBOPT_0xEC
002b48 f051      	BREQ _0x39A
                 ;    3692     	 		print_result(rmdir(sd_temp2),0,EOF);
002b49 01fe      	MOVW R30,R28
002b4a 96fb      	ADIW R30,59
002b4b 93fa      	ST   -Y,R31
002b4c 93ea      	ST   -Y,R30
002b4d 940e 18ea 	CALL _rmdir
002b4f 940e 3b17 	CALL SUBOPT_0xE9
002b51 940e 3b3a 	CALL SUBOPT_0xEE
                 ;    3693         	break;
                 _0x39A:
002b53 c17b      	RJMP _0x37E
                 ;    3694 		case '9':
                 _0x399:
002b54 33e9      	CPI  R30,LOW(0x39)
002b55 f4a9      	BRNE _0x39B
                 ;    3695         	printf("\r\nChange Current Directory to:  ");
002b56 e1e1
002b57 e0f8      	__POINTW1FN _0,1693
002b58 93fa      	ST   -Y,R31
002b59 93ea      	ST   -Y,R30
002b5a e080      	LDI  R24,0
002b5b 940e 3b22 	CALL SUBOPT_0xEB
                 ;    3696     		if (get_input_str(sd_temp2, 24) != 0)
002b5d 940e 3b28 	CALL SUBOPT_0xEC
002b5f f051      	BREQ _0x39C
                 ;    3697     	    	print_result(chdir(sd_temp2),0,EOF);
002b60 01fe      	MOVW R30,R28
002b61 96fb      	ADIW R30,59
002b62 93fa      	ST   -Y,R31
002b63 93ea      	ST   -Y,R30
002b64 940e 19e7 	CALL _chdir
002b66 940e 3b17 	CALL SUBOPT_0xE9
002b68 940e 3b3a 	CALL SUBOPT_0xEE
                 ;    3698           	break;
                 _0x39C:
002b6a c164      	RJMP _0x37E
                 ;    3699 		case '0':
                 _0x39B:
002b6b 33e0      	CPI  R30,LOW(0x30)
002b6c f011      	BREQ PC+3
002b6d 940c 2bdc 	JMP _0x39D
                 ;    3700         	printf("\r\nGet File Info for:  ");
002b6f e3e2
002b70 e0f8      	__POINTW1FN _0,1726
002b71 93fa      	ST   -Y,R31
002b72 93ea      	ST   -Y,R30
002b73 e080      	LDI  R24,0
002b74 d6b3      	RCALL _printf
002b75 9622      	ADIW R28,2
                 ;    3701     		if (get_input_str(sd_temp, 12) != 0)
002b76 940e 3b45 	CALL SUBOPT_0xF0
002b78 f411      	BRNE PC+3
002b79 940c 2bdb 	JMP _0x39E
                 ;    3702     		{
                 ;    3703     	    	if (fget_file_info(sd_temp, &addr_sd, create_info, modify_info, pointer, &n)!=EOF)
002b7b 01fe      	MOVW R30,R28
002b7c 5aed      	SUBI R30,LOW(-(83))
002b7d 4fff      	SBCI R31,HIGH(-(83))
002b7e 93fa      	ST   -Y,R31
002b7f 93ea      	ST   -Y,R30
002b80 01fe      	MOVW R30,R28
002b81 963d      	ADIW R30,13
002b82 93fa      	ST   -Y,R31
002b83 93ea      	ST   -Y,R30
002b84 01fe      	MOVW R30,R28
002b85 96b9      	ADIW R30,41
002b86 93fa      	ST   -Y,R31
002b87 93ea      	ST   -Y,R30
002b88 01fe      	MOVW R30,R28
002b89 9675      	ADIW R30,21
002b8a 93fa      	ST   -Y,R31
002b8b 93ea      	ST   -Y,R30
002b8c 931a      	ST   -Y,R17
002b8d 930a      	ST   -Y,R16
002b8e b7ed      	IN   R30,SPL
002b8f b7fe      	IN   R31,SPH
002b90 9731      	SBIW R30,1
002b91 93fa      	ST   -Y,R31
002b92 93ea      	ST   -Y,R30
002b93 935f      	PUSH R21
002b94 934f      	PUSH R20
002b95 940e 2080 	CALL _fget_file_info
002b97 914f      	POP  R20
002b98 915f      	POP  R21
002b99 3fef      	CPI  R30,LOW(0xFFFF)
002b9a efaf      	LDI  R26,HIGH(0xFFFF)
002b9b 07fa      	CPC  R31,R26
002b9c f1b9      	BREQ _0x39F
                 ;    3704         	    {
                 ;    3705             		printf("\r\n  File Size:  %ld bytes\r\n  Create Time:  ", addr_sd);
002b9d e4e9
002b9e e0f8      	__POINTW1FN _0,1749
002b9f 940e 3b57 	CALL SUBOPT_0xF2
002ba1 e084      	LDI  R24,4
002ba2 d685      	RCALL _printf
002ba3 9626      	ADIW R28,6
                 ;    3706             		puts(create_info);
002ba4 01fe      	MOVW R30,R28
002ba5 96b5      	ADIW R30,37
002ba6 93fa      	ST   -Y,R31
002ba7 93ea      	ST   -Y,R30
002ba8 940e 3c71 	CALL _puts
                 ;    3707             		printf("\r  Modify Time:  ");
002baa e7e5
002bab e0f8      	__POINTW1FN _0,1793
002bac 93fa      	ST   -Y,R31
002bad 93ea      	ST   -Y,R30
002bae e080      	LDI  R24,0
002baf d678      	RCALL _printf
002bb0 9622      	ADIW R28,2
                 ;    3708             		puts(modify_info);
002bb1 01fe      	MOVW R30,R28
002bb2 963f      	ADIW R30,15
002bb3 93fa      	ST   -Y,R31
002bb4 93ea      	ST   -Y,R30
002bb5 940e 3c71 	CALL _puts
                 ;    3709 					printf("\r  Attributes:  0x%X\n", *pointer);
002bb7 e8e7
002bb8 e0f8      	__POINTW1FN _0,1811
002bb9 93fa      	ST   -Y,R31
002bba 93ea      	ST   -Y,R30
002bbb 01d8      	MOVW R26,R16
002bbc 940e 3af6 	CALL SUBOPT_0xE4
002bbe e084      	LDI  R24,4
002bbf d668      	RCALL _printf
002bc0 9626      	ADIW R28,6
                 ;    3710         	    	printf("\r  Starting Cluster:  0x%lX @ ADDR: 0x%lX\r\n", n, clust_to_addr(n));
002bc1 e9ed
002bc2 e0f8      	__POINTW1FN _0,1833
002bc3 93fa      	ST   -Y,R31
002bc4 93ea      	ST   -Y,R30
002bc5 01fa      	MOVW R30,R20
002bc6 2766      	CLR  R22
002bc7 2777      	CLR  R23
002bc8 940e 3e66 	CALL __PUTPARD1
002bca 935a      	ST   -Y,R21
002bcb 934a      	ST   -Y,R20
002bcc 940e 1065 	CALL _clust_to_addr
002bce 940e 3e66 	CALL __PUTPARD1
002bd0 e088      	LDI  R24,8
002bd1 d656      	RCALL _printf
002bd2 962a      	ADIW R28,10
                 ;    3711      			}
                 ;    3712             	else
002bd3 c007      	RJMP _0x3A0
                 _0x39F:
                 ;    3713             		printf("\r\n - ERROR! - %X\r\n", _FF_error);
002bd4 ece9
002bd5 e0f8      	__POINTW1FN _0,1877
002bd6 940e 3b02 	CALL SUBOPT_0xE6
002bd8 e084      	LDI  R24,4
002bd9 d64e      	RCALL _printf
002bda 9626      	ADIW R28,6
                 ;    3714         	}
                 _0x3A0:
                 ;    3715             break;
                 _0x39E:
002bdb c0f3      	RJMP _0x37E
                 ;    3716         case 'F':
                 _0x39D:
002bdc 34e6      	CPI  R30,LOW(0x46)
002bdd f011      	BREQ PC+3
002bde 940c 2c36 	JMP _0x3A1
                 ;    3717         	printf("\r\nQuick Format Card and delete all existing data?  (Y)es  (N)o\r\n  ");
002be0 edec
002be1 e0f8      	__POINTW1FN _0,1896
002be2 93fa      	ST   -Y,R31
002be3 93ea      	ST   -Y,R30
002be4 e080      	LDI  R24,0
002be5 940e 3b60 	CALL SUBOPT_0xF3
                 ;    3718             c = getchar();
002be7 27ff      	CLR  R31
002be8 2766      	CLR  R22
002be9 2777      	CLR  R23
002bea 83ef
002beb 87f8
002bec 8769
002bed 877a      	__PUTD1S 7
                 ;    3719             putchar(c);
002bee 81ef      	LDD  R30,Y+7
002bef 93ea      	ST   -Y,R30
002bf0 940e 0642 	CALL _putchar
                 ;    3720             if ((c=='Y')||(c=='y'))
002bf2 81af
002bf3 85b8
002bf4 8589
002bf5 859a      	__GETD2S 7
002bf6 35a9
002bf7 e0e0
002bf8 07be
002bf9 e0e0
002bfa 078e
002bfb e0e0
002bfc 079e      	__CPD2N 0x59
002bfd f041      	BREQ _0x3A3
002bfe 37a9
002bff e0e0
002c00 07be
002c01 e0e0
002c02 078e
002c03 e0e0
002c04 079e      	__CPD2N 0x79
002c05 f471      	BRNE _0x3A2
                 _0x3A3:
                 ;    3721             {
                 ;    3722             	printf("es - ");
002c06 e1ef
002c07 e0f9      	__POINTW1FN _0,1963
002c08 93fa      	ST   -Y,R31
002c09 93ea      	ST   -Y,R30
002c0a e080      	LDI  R24,0
002c0b d61c      	RCALL _printf
002c0c 9622      	ADIW R28,2
                 ;    3723             	print_result(fquickformat(),0,EOF);
002c0d 940e 1661 	CALL _fquickformat
002c0f 940e 3b17 	CALL SUBOPT_0xE9
002c11 940e 3b3a 	CALL SUBOPT_0xEE
                 ;    3724             }
                 ;    3725             else if ((c=='N')||(c=='n'))
002c13 c021      	RJMP _0x3A5
                 _0x3A2:
002c14 81af
002c15 85b8
002c16 8589
002c17 859a      	__GETD2S 7
002c18 34ae
002c19 e0e0
002c1a 07be
002c1b e0e0
002c1c 078e
002c1d e0e0
002c1e 079e      	__CPD2N 0x4E
002c1f f041      	BREQ _0x3A7
002c20 36ae
002c21 e0e0
002c22 07be
002c23 e0e0
002c24 078e
002c25 e0e0
002c26 079e      	__CPD2N 0x6E
002c27 f431      	BRNE _0x3A6
                 _0x3A7:
                 ;    3726             	printf("o - Cancelled\r\n");
002c28 e2e5
002c29 e0f9      	__POINTW1FN _0,1969
002c2a 93fa      	ST   -Y,R31
002c2b 93ea      	ST   -Y,R30
002c2c e080      	LDI  R24,0
002c2d c005      	RJMP _0x52E
                 ;    3727             else
                 _0x3A6:
                 ;    3728             	printf(" - Ivnalid Response - Cancelled\r\n");
002c2e e3e5
002c2f e0f9      	__POINTW1FN _0,1985
002c30 93fa      	ST   -Y,R31
002c31 93ea      	ST   -Y,R30
002c32 e080      	LDI  R24,0
                 _0x52E:
002c33 d5f4      	RCALL _printf
002c34 9622      	ADIW R28,2
                 ;    3729             break;	
                 _0x3A5:
002c35 c099      	RJMP _0x37E
                 ;    3730          case '-':
                 _0x3A1:
002c36 32ed      	CPI  R30,LOW(0x2D)
002c37 f539      	BRNE _0x3AA
                 ;    3731          	printf("\n\rRead MMC - Enter Address: ");
002c38 e5e7
002c39 e0f9      	__POINTW1FN _0,2019
002c3a 93fa      	ST   -Y,R31
002c3b 93ea      	ST   -Y,R30
002c3c e080      	LDI  R24,0
002c3d 940e 3b65 	CALL SUBOPT_0xF4
                 ;    3732             addr_sd = get_addr_entry(7);
002c3f 87eb
002c40 87fc
002c41 876d
002c42 877e      	__PUTD1S 11
                 ;    3733             if (addr_sd!=EOF)
002c43 85ab
002c44 85bc
002c45 858d
002c46 859e      	__GETD2S 11
002c47 3faf
002c48 efef
002c49 07be
002c4a efef
002c4b 078e
002c4c efef
002c4d 079e      	__CPD2N 0xFFFFFFFF
002c4e f079      	BREQ _0x3AB
                 ;    3734             {
                 ;    3735 				printf("\n\rCalc. address: %lx", addr_sd);
002c4f e7e4
002c50 e0f9      	__POINTW1FN _0,2048
002c51 940e 3b57 	CALL SUBOPT_0xF2
002c53 e084      	LDI  R24,4
002c54 d5d3      	RCALL _printf
002c55 9626      	ADIW R28,6
                 ;    3736     	   		_FF_read_disp(addr_sd);
002c56 85eb
002c57 85fc
002c58 856d
002c59 857e      	__GETD1S 11
002c5a 940e 3e66 	CALL __PUTPARD1
002c5c 940e 0bad 	CALL __FF_read_disp
                 ;    3737     		}
                 ;    3738        		break;
                 _0x3AB:
002c5e c070      	RJMP _0x37E
                 ;    3739    		#ifndef _READ_ONLY_
                 ;    3740    		case 'E':
                 _0x3AA:
002c5f 34e5      	CPI  R30,LOW(0x45)
002c60 f421      	BRNE _0x3AC
                 ;    3741    			_FF_error = 0;
002c61 e0e0      	LDI  R30,LOW(0)
002c62 93e0 073c 	STS  __FF_error,R30
                 ;    3742    			break;
002c64 c06a      	RJMP _0x37E
                 ;    3743    		#ifdef _DEBUG_ON_
                 ;    3744    		case 'N':
                 _0x3AC:
002c65 34ee      	CPI  R30,LOW(0x4E)
002c66 f521      	BRNE _0x3AD
                 ;    3745    			status = prev_cluster(0);
002c67 940e 36c4 	CALL SUBOPT_0x6D
002c69 019f      	MOVW R18,R30
                 ;    3746    			printf("\n\rFinding Next Avaliable Cluster:  [%X],  _FF_error = [%X]", status, _FF_error);
002c6a e8e9
002c6b e0f9      	__POINTW1FN _0,2069
002c6c 93fa      	ST   -Y,R31
002c6d 93ea      	ST   -Y,R30
002c6e 01f9      	MOVW R30,R18
002c6f 2766      	CLR  R22
002c70 2777      	CLR  R23
002c71 940e 3e66 	CALL __PUTPARD1
002c73 91e0 073c 	LDS  R30,__FF_error
002c75 27ff      	CLR  R31
002c76 2766      	CLR  R22
002c77 2777      	CLR  R23
002c78 940e 3e66 	CALL __PUTPARD1
002c7a e088      	LDI  R24,8
002c7b d5ac      	RCALL _printf
002c7c 962a      	ADIW R28,10
                 ;    3747    			printf("\n\rLocated @ 0x%lX", clust_to_addr(status));
002c7d ece4
002c7e e0f9      	__POINTW1FN _0,2128
002c7f 93fa      	ST   -Y,R31
002c80 93ea      	ST   -Y,R30
002c81 933a      	ST   -Y,R19
002c82 932a      	ST   -Y,R18
002c83 940e 1065 	CALL _clust_to_addr
002c85 940e 3e66 	CALL __PUTPARD1
002c87 e084      	LDI  R24,4
002c88 d59f      	RCALL _printf
002c89 9626      	ADIW R28,6
                 ;    3748    			break;
002c8a c044      	RJMP _0x37E
                 ;    3749    		case 'M':
                 _0x3AD:
002c8b 34ed      	CPI  R30,LOW(0x4D)
002c8c f551      	BRNE _0x3AE
                 ;    3750    			printf("\r\nPoint Cluster: 0x");
002c8d ede6
002c8e e0f9      	__POINTW1FN _0,2146
002c8f 93fa      	ST   -Y,R31
002c90 93ea      	ST   -Y,R30
002c91 e080      	LDI  R24,0
002c92 940e 3b6c 	CALL SUBOPT_0xF5
                 ;    3751    			addr_sd = get_addr_entry(4);
002c94 87eb
002c95 87fc
002c96 876d
002c97 877e      	__PUTD1S 11
                 ;    3752    			printf("\r\nTo Cluster: 0x");
002c98 eeea
002c99 e0f9      	__POINTW1FN _0,2166
002c9a 93fa      	ST   -Y,R31
002c9b 93ea      	ST   -Y,R30
002c9c e080      	LDI  R24,0
002c9d 940e 3b6c 	CALL SUBOPT_0xF5
                 ;    3753    			status = get_addr_entry(4);
002c9f 019f      	MOVW R18,R30
                 ;    3754    			if (write_clus_table(addr_sd, status, SINGLE))
002ca0 85eb      	LDD  R30,Y+11
002ca1 85fc      	LDD  R31,Y+11+1
002ca2 93fa      	ST   -Y,R31
002ca3 93ea      	ST   -Y,R30
002ca4 933a      	ST   -Y,R19
002ca5 932a      	ST   -Y,R18
002ca6 940e 3aca 	CALL SUBOPT_0xDE
002ca8 f031      	BREQ _0x3AF
                 ;    3755    				printf("  -  OK!!!");
002ca9 efeb
002caa e0f9      	__POINTW1FN _0,2183
002cab 93fa      	ST   -Y,R31
002cac 93ea      	ST   -Y,R30
002cad e080      	LDI  R24,0
002cae c005      	RJMP _0x52F
                 ;    3756    			else
                 _0x3AF:
                 ;    3757    				printf("  -  ERROR!!!");
002caf e0e6
002cb0 e0fa      	__POINTW1FN _0,2194
002cb1 93fa      	ST   -Y,R31
002cb2 93ea      	ST   -Y,R30
002cb3 e080      	LDI  R24,0
                 _0x52F:
002cb4 d573      	RCALL _printf
002cb5 9622      	ADIW R28,2
                 ;    3758    			break;
002cb6 c018      	RJMP _0x37E
                 ;    3759    		#endif	
                 ;    3760    		#endif         
                 ;    3761 #ifdef _SD_MMC_MEDIA_
                 ;    3762    		case 'R':
                 _0x3AE:
002cb7 35e2      	CPI  R30,LOW(0x52)
002cb8 f419      	BRNE _0x3B1
                 ;    3763 			reset_sd();
002cb9 940e 0b2b 	CALL _reset_sd
                 ;    3764         	break;
002cbb c013      	RJMP _0x37E
                 ;    3765    		case 'I':
                 _0x3B1:
002cbc 34e9      	CPI  R30,LOW(0x49)
002cbd f419      	BRNE _0x3B2
                 ;    3766         	init_sd();
002cbe 940e 0b6c 	CALL _init_sd
                 ;    3767         	break;
002cc0 c00e      	RJMP _0x37E
                 ;    3768 #endif
                 ;    3769 		#ifdef _RTC_ON_
                 ;    3770     	case 'c':
                 ;    3771         	rtc_get_timeNdate(&rtc_hour, &rtc_min, &rtc_sec, &rtc_date, &rtc_month, (int *)&rtc_year);	    			
                 ;    3772         	printf("\r\n%02d/%02d/%04d %02d:%02d:%02d", rtc_month,rtc_date,rtc_year,rtc_hour,rtc_min,rtc_sec);
                 ;    3773         	break;
                 ;    3774     	case 'C':
                 ;    3775     		set_date_time();
                 ;    3776     		break;
                 ;    3777     	#endif
                 ;    3778        	case 'V':
                 _0x3B2:
002cc1 35e6      	CPI  R30,LOW(0x56)
002cc2 f451      	BRNE _0x3B4
                 ;    3779        		printf("\r\nVolume Serial Number and Label:");
002cc3 e1e4
002cc4 e0fa      	__POINTW1FN _0,2208
002cc5 93fa      	ST   -Y,R31
002cc6 93ea      	ST   -Y,R30
002cc7 e080      	LDI  R24,0
002cc8 d55f      	RCALL _printf
002cc9 9622      	ADIW R28,2
                 ;    3780        		GetVolID();
002cca 940e 1045 	CALL _GetVolID
                 ;    3781        		break;
002ccc c002      	RJMP _0x37E
                 ;    3782     	default:
                 _0x3B4:
                 ;    3783     		print_demo_flag = 0;
002ccd e0e0      	LDI  R30,LOW(0)
002cce 83ee      	STD  Y+6,R30
                 ;    3784     		break;
                 ;    3785     }                                                  
                 _0x37E:
                 ;    3786     // if this was a valid command, finish by printing the commands
                 ;    3787 	if (print_demo_flag == 1)
002ccf 81ae      	LDD  R26,Y+6
002cd0 30a1      	CPI  R26,LOW(0x1)
002cd1 f411      	BRNE _0x3B5
                 ;    3788 		display_demo_commands(); 
002cd2 940e 28ca 	CALL _display_demo_commands
                 ;    3789 }
                 _0x3B5:
002cd4 940e 401b 	CALL __LOADLOCR6
002cd6 96ef      	ADIW R28,63
002cd7 96a3      	ADIW R28,35
002cd8 9508      	RET
                 ;    3790 
                 ;    3791 
                 ;    3792 void handle_level2(unsigned char testchar)
                 ;    3793 {
                 _handle_level2:
                 ;    3794 	unsigned int status, c;
                 ;    3795 	unsigned long addr_sd;
                 ;    3796 
                 ;    3797 	switch (testchar)
002cd9 9724      	SBIW R28,4
002cda 940e 4016 	CALL __SAVELOCR4
                 ;	testchar -> Y+8
                 ;	status -> R16,R17
                 ;	c -> R18,R19
                 ;	addr_sd -> Y+4
002cdc 85e8      	LDD  R30,Y+8
                 ;    3798 	{
                 ;    3799     	case '1':
002cdd 33e1      	CPI  R30,LOW(0x31)
002cde f491      	BRNE _0x3B9
                 ;    3800         	printf("\n\rftell:  position = 0x%lX", ftell(file1));
002cdf e3e6
002ce0 e0fa      	__POINTW1FN _0,2242
002ce1 93fa      	ST   -Y,R31
002ce2 93ea      	ST   -Y,R30
002ce3 91e0 07c7 	LDS  R30,_file1
002ce5 91f0 07c8 	LDS  R31,_file1+1
002ce7 93fa      	ST   -Y,R31
002ce8 93ea      	ST   -Y,R30
002ce9 940e 27ea 	CALL _ftell
002ceb 940e 3e66 	CALL __PUTPARD1
002ced e084      	LDI  R24,4
002cee d539      	RCALL _printf
002cef 9626      	ADIW R28,6
                 ;    3801     		break;
002cf0 c148      	RJMP _0x3B8
                 ;    3802 		case '2':
                 _0x3B9:
002cf1 33e2      	CPI  R30,LOW(0x32)
002cf2 f011      	BREQ PC+3
002cf3 940c 2d4e 	JMP _0x3BA
                 ;    3803     		printf("\n\rfseek:  Offset = 0x");
002cf5 e5e1
002cf6 e0fa      	__POINTW1FN _0,2269
002cf7 93fa      	ST   -Y,R31
002cf8 93ea      	ST   -Y,R30
002cf9 e080      	LDI  R24,0
002cfa 940e 3b65 	CALL SUBOPT_0xF4
                 ;    3804     		addr_sd = get_addr_entry(7);
002cfc 83ec
002cfd 83fd
002cfe 836e
002cff 837f      	__PUTD1S 4
                 ;    3805     		if (addr_sd==EOF)
002d00 81ac
002d01 81bd
002d02 818e
002d03 819f      	__GETD2S 4
002d04 3faf
002d05 efef
002d06 07be
002d07 efef
002d08 078e
002d09 efef
002d0a 079e      	__CPD2N 0xFFFFFFFF
002d0b f409      	BRNE _0x3BB
                 ;    3806     			break;
002d0c c12c      	RJMP _0x3B8
                 ;    3807 			printf("=%lX\r\n    Mode:  (1)-SEEK_CUR  (2)-SEEK_END  (3)-SEEK_SET :", addr_sd);
                 _0x3BB:
002d0d e6e7
002d0e e0fa      	__POINTW1FN _0,2291
002d0f 940e 3b73 	CALL SUBOPT_0xF6
002d11 e084      	LDI  R24,4
002d12 d515      	RCALL _printf
002d13 9626      	ADIW R28,6
                 ;    3808     		status = getchar();
002d14 940e 3b7c 	CALL SUBOPT_0xF7
                 ;    3809 			switch (status)
002d16 01f8      	MOVW R30,R16
                 ;    3810 			{
                 ;    3811         		case '1':
002d17 33e1      	CPI  R30,LOW(0x31)
002d18 e0a0      	LDI  R26,HIGH(0x31)
002d19 07fa      	CPC  R31,R26
002d1a f451      	BRNE _0x3BF
                 ;    3812 			    	printf("  -- SEEK_CUR");
002d1b eae3
002d1c e0fa      	__POINTW1FN _0,2351
002d1d 93fa      	ST   -Y,R31
002d1e 93ea      	ST   -Y,R30
002d1f e080      	LDI  R24,0
002d20 d507      	RCALL _printf
002d21 9622      	ADIW R28,2
                 ;    3813         			status = 0;
002d22 e000
002d23 e010      	__GETWRN 16,17,0
                 ;    3814 				    break;
002d24 c01b      	RJMP _0x3BE
                 ;    3815     	   		case '2':
                 _0x3BF:
002d25 33e2      	CPI  R30,LOW(0x32)
002d26 e0a0      	LDI  R26,HIGH(0x32)
002d27 07fa      	CPC  R31,R26
002d28 f451      	BRNE _0x3C0
                 ;    3816         			printf("  -- SEEK_END");
002d29 ebe1
002d2a e0fa      	__POINTW1FN _0,2365
002d2b 93fa      	ST   -Y,R31
002d2c 93ea      	ST   -Y,R30
002d2d e080      	LDI  R24,0
002d2e d4f9      	RCALL _printf
002d2f 9622      	ADIW R28,2
                 ;    3817 				    status = 1;
002d30 e001
002d31 e010      	__GETWRN 16,17,1
                 ;    3818         			break;
002d32 c00d      	RJMP _0x3BE
                 ;    3819 			    case '3':
                 _0x3C0:
002d33 33e3      	CPI  R30,LOW(0x33)
002d34 e0a0      	LDI  R26,HIGH(0x33)
002d35 07fa      	CPC  R31,R26
002d36 f449      	BRNE _0x3BE
                 ;    3820         			printf("  -- SEEK_SET");
002d37 ebef
002d38 e0fa      	__POINTW1FN _0,2379
002d39 93fa      	ST   -Y,R31
002d3a 93ea      	ST   -Y,R30
002d3b e080      	LDI  R24,0
002d3c d4eb      	RCALL _printf
002d3d 9622      	ADIW R28,2
                 ;    3821 			        status = 2;
002d3e e002
002d3f e010      	__GETWRN 16,17,2
                 ;    3822         			break;
                 ;    3823        		}
                 _0x3BE:
                 ;    3824 			print_result(fseek(file1, addr_sd, status),0,EOF);
002d40 91e0 07c7 	LDS  R30,_file1
002d42 91f0 07c8 	LDS  R31,_file1+1
002d44 940e 3b73 	CALL SUBOPT_0xF6
002d46 930a      	ST   -Y,R16
002d47 940e 2695 	CALL _fseek
002d49 940e 3b17 	CALL SUBOPT_0xE9
002d4b 940e 3b3a 	CALL SUBOPT_0xEE
                 ;    3825 			break;
002d4d c0eb      	RJMP _0x3B8
                 ;    3826 		case '3':
                 _0x3BA:
002d4e 33e3      	CPI  R30,LOW(0x33)
002d4f f419      	BRNE _0x3C2
                 ;    3827         	putchar(fgetc(file1));
002d50 940e 3b81 	CALL SUBOPT_0xF8
                 ;    3828     		break;
002d52 c0e6      	RJMP _0x3B8
                 ;    3829       	case '4':
                 _0x3C2:
002d53 33e4      	CPI  R30,LOW(0x34)
002d54 f491      	BRNE _0x3C3
                 ;    3830         	printf("\r\nEnter character to push back: ");
002d55 eced
002d56 e0fa      	__POINTW1FN _0,2393
002d57 93fa      	ST   -Y,R31
002d58 93ea      	ST   -Y,R30
002d59 e080      	LDI  R24,0
002d5a 940e 3b60 	CALL SUBOPT_0xF3
                 ;    3831     		putchar(ungetc(getchar(), file1)); 
002d5c 940e 3b8c 	CALL SUBOPT_0xF9
002d5e 93ea      	ST   -Y,R30
002d5f 940e 0642 	CALL _putchar
                 ;    3832     		printf(" - OK!\r\n");
002d61 eeee
002d62 e0fa      	__POINTW1FN _0,2426
002d63 93fa      	ST   -Y,R31
002d64 93ea      	ST   -Y,R30
002d65 e080      	LDI  R24,0
002d66 c0d0      	RJMP _0x530
                 ;    3833         	break;
                 ;    3834   		case '5':
                 _0x3C3:
002d67 33e5      	CPI  R30,LOW(0x35)
002d68 f471      	BRNE _0x3C4
                 ;    3835         	while (feof(file1)==0)
                 _0x3C5:
002d69 91e0 07c7 	LDS  R30,_file1
002d6b 91f0 07c8 	LDS  R31,_file1+1
002d6d 93fa      	ST   -Y,R31
002d6e 93ea      	ST   -Y,R30
002d6f 940e 27f6 	CALL _feof
002d71 9730      	SBIW R30,0
002d72 f419      	BRNE _0x3C7
                 ;    3836     			putchar(fgetc(file1));
002d73 940e 3b81 	CALL SUBOPT_0xF8
                 ;    3837         	break;
002d75 cff3      	RJMP _0x3C5
                 _0x3C7:
002d76 c0c2      	RJMP _0x3B8
                 ;    3838 		#ifndef _READ_ONLY_
                 ;    3839     	case '6':
                 _0x3C4:
002d77 33e6      	CPI  R30,LOW(0x36)
002d78 f5b9      	BRNE _0x3C8
                 ;    3840         	printf("\r\nWrite to file:   Press [ESC] to end 'Write' mode\r\n");
002d79 efe7
002d7a e0fa      	__POINTW1FN _0,2435
002d7b 93fa      	ST   -Y,R31
002d7c 93ea      	ST   -Y,R30
002d7d e080      	LDI  R24,0
002d7e 940e 3b60 	CALL SUBOPT_0xF3
                 ;    3841     		status = getchar();
002d80 2f0e      	MOV  R16,R30
002d81 2711      	CLR  R17
                 ;    3842         	while (status!=0x1b)
                 _0x3C9:
002d82 e1eb      	LDI  R30,LOW(27)
002d83 e0f0      	LDI  R31,HIGH(27)
002d84 17e0      	CP   R30,R16
002d85 07f1      	CPC  R31,R17
002d86 f141      	BREQ _0x3CB
                 ;    3843     		{
                 ;    3844         		if (fputc(status, file1)!=EOF)
002d87 930a      	ST   -Y,R16
002d88 91e0 07c7 	LDS  R30,_file1
002d8a 91f0 07c8 	LDS  R31,_file1+1
002d8c 93fa      	ST   -Y,R31
002d8d 93ea      	ST   -Y,R30
002d8e 940e 24ea 	CALL _fputc
002d90 3fef      	CPI  R30,LOW(0xFFFF)
002d91 efaf      	LDI  R26,HIGH(0xFFFF)
002d92 07fa      	CPC  R31,R26
002d93 f089      	BREQ _0x3CC
                 ;    3845     			{
                 ;    3846         			if (status==0x08)
002d94 e0e8      	LDI  R30,LOW(8)
002d95 e0f0      	LDI  R31,HIGH(8)
002d96 17e0      	CP   R30,R16
002d97 07f1      	CPC  R31,R17
002d98 f431      	BRNE _0x3CD
                 ;    3847     	    		{	// Backspace pressed
                 ;    3848     					ungetc('0', file1);
002d99 e3e0      	LDI  R30,LOW(48)
002d9a 940e 3b8c 	CALL SUBOPT_0xF9
                 ;    3849         				ungetc('0', file1);
002d9c e3e0      	LDI  R30,LOW(48)
002d9d 940e 3b8c 	CALL SUBOPT_0xF9
                 ;    3850         			}
                 ;    3851     				putchar(status);
                 _0x3CD:
002d9f 930a      	ST   -Y,R16
002da0 940e 0642 	CALL _putchar
                 ;    3852     		    	status = getchar();
002da2 940e 3b7c 	CALL SUBOPT_0xF7
                 ;    3853     			}
                 ;    3854     		    else
002da4 c009      	RJMP _0x3CE
                 _0x3CC:
                 ;    3855     			{
                 ;    3856     		    	printf("\r\nWrite ERROR!!!");
002da5 e2ec
002da6 e0fb      	__POINTW1FN _0,2488
002da7 93fa      	ST   -Y,R31
002da8 93ea      	ST   -Y,R30
002da9 e080      	LDI  R24,0
002daa d47d      	RCALL _printf
002dab 9622      	ADIW R28,2
                 ;    3857     				status = 0x1b;					// exit the while loop
002dac e10b
002dad e010      	__GETWRN 16,17,27
                 ;    3858     			}
                 _0x3CE:
                 ;    3859 			}
002dae cfd3      	RJMP _0x3C9
                 _0x3CB:
                 ;    3860 			break;
002daf c089      	RJMP _0x3B8
                 ;    3861    		#endif
                 ;    3862     	case '7':
                 _0x3C8:
002db0 33e7      	CPI  R30,LOW(0x37)
002db1 f449      	BRNE _0x3CF
                 ;    3863         	dump_file_data_hex(file1);
002db2 91e0 07c7 	LDS  R30,_file1
002db4 91f0 07c8 	LDS  R31,_file1+1
002db6 93fa      	ST   -Y,R31
002db7 93ea      	ST   -Y,R30
002db8 940e 2817 	CALL _dump_file_data_hex
                 ;    3864 			break;
002dba c07e      	RJMP _0x3B8
                 ;    3865 		case '8':
                 _0x3CF:
002dbb 33e8      	CPI  R30,LOW(0x38)
002dbc f449      	BRNE _0x3D0
                 ;    3866         	dump_file_data_view(file1);
002dbd 91e0 07c7 	LDS  R30,_file1
002dbf 91f0 07c8 	LDS  R31,_file1+1
002dc1 93fa      	ST   -Y,R31
002dc2 93ea      	ST   -Y,R30
002dc3 940e 284f 	CALL _dump_file_data_view
                 ;    3867 			break;
002dc5 c073      	RJMP _0x3B8
                 ;    3868 		#ifndef _READ_ONLY_
                 ;    3869         case '9':
                 _0x3D0:
002dc6 33e9      	CPI  R30,LOW(0x39)
002dc7 f481      	BRNE _0x3D1
                 ;    3870     		printf("\n\rFile Flushing...");
002dc8 e3ed
002dc9 e0fb      	__POINTW1FN _0,2505
002dca 93fa      	ST   -Y,R31
002dcb 93ea      	ST   -Y,R30
002dcc e080      	LDI  R24,0
002dcd 940e 3b32 	CALL SUBOPT_0xED
                 ;    3871       		print_result(fflush(file1),0,EOF);
002dcf 93fa      	ST   -Y,R31
002dd0 93ea      	ST   -Y,R30
002dd1 940e 2013 	CALL _fflush
002dd3 940e 3b17 	CALL SUBOPT_0xE9
002dd5 940e 3b3a 	CALL SUBOPT_0xEE
                 ;    3872 			break;
002dd7 c061      	RJMP _0x3B8
                 ;    3873    		#endif
                 ;    3874     	case '0':
                 _0x3D1:
002dd8 33e0      	CPI  R30,LOW(0x30)
002dd9 f4c9      	BRNE _0x3D2
                 ;    3875     		printf("\n\rFile Closing...");  
002dda e5e0
002ddb e0fb      	__POINTW1FN _0,2524
002ddc 93fa      	ST   -Y,R31
002ddd 93ea      	ST   -Y,R30
002dde e080      	LDI  R24,0
002ddf 940e 3b32 	CALL SUBOPT_0xED
                 ;    3876     		status = fclose(file1);
002de1 93fa      	ST   -Y,R31
002de2 93ea      	ST   -Y,R30
002de3 940e 2059 	CALL _fclose
002de5 018f      	MOVW R16,R30
                 ;    3877         	print_result(status,0,EOF);
002de6 940e 3b95 	CALL SUBOPT_0xFA
002de8 940e 3b3a 	CALL SUBOPT_0xEE
                 ;    3878         	if (status==0)
002dea 2e00      	MOV  R0,R16
002deb 2a01      	OR   R0,R17
002dec f429      	BRNE _0x3D3
                 ;    3879         		file1 = NULL;
002ded e0e0      	LDI  R30,0
002dee 93e0 07c7 	STS  _file1,R30
002df0 93e0 07c8 	STS  _file1+1,R30
                 ;    3880 			break;
                 _0x3D3:
002df2 c046      	RJMP _0x3B8
                 ;    3881 		case 'E':
                 _0x3D2:
002df3 34e5      	CPI  R30,LOW(0x45)
002df4 f011      	BREQ PC+3
002df5 940c 2e39 	JMP _0x3B8
                 ;    3882         	printf("\r\nClose File w/o saving buffered data?  (Y)es  (N)o\r\n  ");
002df7 e6e2
002df8 e0fb      	__POINTW1FN _0,2542
002df9 93fa      	ST   -Y,R31
002dfa 93ea      	ST   -Y,R30
002dfb e080      	LDI  R24,0
002dfc d42b      	RCALL _printf
002dfd 9622      	ADIW R28,2
                 ;    3883             c = getchar();
002dfe 940e 3b52 	CALL SUBOPT_0xF1
                 ;    3884             putchar(c);
002e00 932a      	ST   -Y,R18
002e01 940e 0642 	CALL _putchar
                 ;    3885             if ((c=='Y')||(c=='y'))
002e03 e5e9      	LDI  R30,LOW(89)
002e04 e0f0      	LDI  R31,HIGH(89)
002e05 17e2      	CP   R30,R18
002e06 07f3      	CPC  R31,R19
002e07 f029      	BREQ _0x3D6
002e08 e7e9      	LDI  R30,LOW(121)
002e09 e0f0      	LDI  R31,HIGH(121)
002e0a 17e2      	CP   R30,R18
002e0b 07f3      	CPC  R31,R19
002e0c f4a9      	BRNE _0x3D5
                 _0x3D6:
                 ;    3886             {
                 ;    3887             	printf("es - ");
002e0d e1ef
002e0e e0f9      	__POINTW1FN _0,1963
002e0f 93fa      	ST   -Y,R31
002e10 93ea      	ST   -Y,R30
002e11 e080      	LDI  R24,0
002e12 940e 3b32 	CALL SUBOPT_0xED
                 ;    3888             	print_result(ffreemem(file1),0,EOF);
002e14 93fa      	ST   -Y,R31
002e15 93ea      	ST   -Y,R30
002e16 940e 2073 	CALL _ffreemem
002e18 940e 3b17 	CALL SUBOPT_0xE9
002e1a 940e 3b3a 	CALL SUBOPT_0xEE
                 ;    3889         		file1 = NULL;
002e1c e0e0      	LDI  R30,0
002e1d 93e0 07c7 	STS  _file1,R30
002e1f 93e0 07c8 	STS  _file1+1,R30
                 ;    3890             }
                 ;    3891             else if ((c=='N')||(c=='n'))
002e21 c017      	RJMP _0x3D8
                 _0x3D5:
002e22 e4ee      	LDI  R30,LOW(78)
002e23 e0f0      	LDI  R31,HIGH(78)
002e24 17e2      	CP   R30,R18
002e25 07f3      	CPC  R31,R19
002e26 f029      	BREQ _0x3DA
002e27 e6ee      	LDI  R30,LOW(110)
002e28 e0f0      	LDI  R31,HIGH(110)
002e29 17e2      	CP   R30,R18
002e2a 07f3      	CPC  R31,R19
002e2b f431      	BRNE _0x3D9
                 _0x3DA:
                 ;    3892             	printf("o - Cancelled\r\n");
002e2c e2e5
002e2d e0f9      	__POINTW1FN _0,1969
002e2e 93fa      	ST   -Y,R31
002e2f 93ea      	ST   -Y,R30
002e30 e080      	LDI  R24,0
002e31 c005      	RJMP _0x530
                 ;    3893             else
                 _0x3D9:
                 ;    3894             	printf(" - Ivnalid Response - Cancelled\r\n");
002e32 e3e5
002e33 e0f9      	__POINTW1FN _0,1985
002e34 93fa      	ST   -Y,R31
002e35 93ea      	ST   -Y,R30
002e36 e080      	LDI  R24,0
                 _0x530:
002e37 d3f0      	RCALL _printf
002e38 9622      	ADIW R28,2
                 ;    3895             break;	
                 _0x3D8:
                 ;    3896 	}
                 _0x3B8:
                 ;    3897 	if (file1 == NULL) 
002e39 91e0 07c7 	LDS  R30,_file1
002e3b 91f0 07c8 	LDS  R31,_file1+1
002e3d 9730      	SBIW R30,0
002e3e f431      	BRNE _0x3DD
                 ;    3898 	{
                 ;    3899 		menu_level = 1;
002e3f e0e1      	LDI  R30,LOW(1)
002e40 93e0 07c6 	STS  _menu_level,R30
                 ;    3900 		display_demo_commands();
002e42 940e 28ca 	CALL _display_demo_commands
                 ;    3901 	}
                 ;    3902 	else if ((testchar != '0') && (testchar != '3'))
002e44 c008      	RJMP _0x3DE
                 _0x3DD:
002e45 85a8      	LDD  R26,Y+8
002e46 33a0      	CPI  R26,LOW(0x30)
002e47 f011      	BREQ _0x3E0
002e48 33a3      	CPI  R26,LOW(0x33)
002e49 f409      	BRNE _0x3E1
                 _0x3E0:
002e4a c002      	RJMP _0x3DF
                 _0x3E1:
                 ;    3903 		display_file_commands();
002e4b 940e 290a 	CALL _display_file_commands
                 ;    3904 }
                 _0x3DF:
                 _0x3DE:
002e4d 940e 401d 	CALL __LOADLOCR4
002e4f 9629      	ADIW R28,9
002e50 9508      	RET
                 ;    3905 
                 ;    3906 extern char _bss_end;
                 ;    3907 
                 ;    3908 main()
                 ;    3909 {
                 _main:
                 ;    3910  	unsigned char test_char;
                 ;    3911 	
                 ;    3912 	init_devices();
                 ;	test_char -> R16
002e51 940e 28b4 	CALL _init_devices
                 ;    3913 
                 ;    3914 	#ifdef _ICCAVR_
                 ;    3915 		_NewHeap(&_bss_end + 1, &_bss_end + 701);
                 ;    3916 	#endif
                 ;    3917 	
                 ;    3918 //	twi_setup();    
                 ;    3919 
                 ;    3920 	menu_level = 1;
002e53 e0e1      	LDI  R30,LOW(1)
002e54 93e0 07c6 	STS  _menu_level,R30
                 ;    3921 	printf("\r\nMicrocontroller Reset!!!\r\n");
002e56 e9ea
002e57 e0fb      	__POINTW1FN _0,2598
002e58 93fa      	ST   -Y,R31
002e59 93ea      	ST   -Y,R30
002e5a e080      	LDI  R24,0
002e5b d3cc      	RCALL _printf
002e5c 9622      	ADIW R28,2
                 ;    3922 	printf("\r\nPress '1' to initialize media:");
002e5d ebe7
002e5e e0fb      	__POINTW1FN _0,2627
002e5f 93fa      	ST   -Y,R31
002e60 93ea      	ST   -Y,R30
002e61 e080      	LDI  R24,0
002e62 d3c5      	RCALL _printf
002e63 9622      	ADIW R28,2
                 ;    3923 
                 ;    3924 	test_char = 1;
002e64 e001      	LDI  R16,LOW(1)
                 ;    3925 	while (test_char != '1')
                 _0x3E2:
002e65 3301      	CPI  R16,49
002e66 f019      	BREQ _0x3E4
                 ;    3926 	{
                 ;    3927 		test_char = getchar();
002e67 940e 3b0c 	CALL SUBOPT_0xE7
                 ;    3928                 putchar (test_char);
                 ;    3929 	}
002e69 cffb      	RJMP _0x3E2
                 _0x3E4:
                 ;    3930 	while (initialize_media()==0)
                 _0x3E5:
002e6a 940e 0747 	CALL _initialize_media
002e6c 30e0      	CPI  R30,0
002e6d f499      	BRNE _0x3E7
                 ;    3931 	{
                 ;    3932 		printf("\r\n  ERROR!!!\r\n");
002e6e ede8
002e6f e0fb      	__POINTW1FN _0,2660
002e70 93fa      	ST   -Y,R31
002e71 93ea      	ST   -Y,R30
002e72 e080      	LDI  R24,0
002e73 d3b4      	RCALL _printf
002e74 9622      	ADIW R28,2
                 ;    3933 		printf("\r\nPress '1' to initialize media:");
002e75 ebe7
002e76 e0fb      	__POINTW1FN _0,2627
002e77 93fa      	ST   -Y,R31
002e78 93ea      	ST   -Y,R30
002e79 e080      	LDI  R24,0
002e7a d3ad      	RCALL _printf
002e7b 9622      	ADIW R28,2
                 ;    3934 		while (getchar()!='1')
                 _0x3E8:
002e7c 940e 0632 	CALL _getchar
002e7e 33e1      	CPI  R30,LOW(0x31)
002e7f f7e1      	BRNE _0x3E8
                 ;    3935 			;
                 ;    3936 	}
002e80 cfe9      	RJMP _0x3E5
                 _0x3E7:
                 ;    3937 	printf("\r\n  OK!!!");    
002e81 eee7
002e82 e0fb      	__POINTW1FN _0,2675
002e83 93fa      	ST   -Y,R31
002e84 93ea      	ST   -Y,R30
002e85 e080      	LDI  R24,0
002e86 940e 33ca 	CALL SUBOPT_0x16
                 ;    3938 	PORTA = 0x01;           //  -LCD 
002e88 bbeb      	OUT  0x1B,R30
                 ;    3939 	display_demo_commands();
002e89 940e 28ca 	CALL _display_demo_commands
                 ;    3940 	
                 ;    3941 	while (1)
                 _0x3EB:
                 ;    3942     {
                 ;    3943     	// Place your code here
                 ;    3944 /*	    if (rx_counter1)
                 ;    3945 	    {
                 ;    3946 	    	if (getchar1()==0x24)
                 ;    3947 	    	{
                 ;    3948 		    	#ifdef _DEBUG_ON_
                 ;    3949 		    		printf("\r\nJumping to Bootloader");
                 ;    3950 			    	while(tx_counter1);
                 ;    3951 		    	#endif
                 ;    3952 //	    		#asm("jmp 0xFC00");
                 ;    3953 	    	}
                 ;    3954 	    }
                 ;    3955 */	    if (rx_counter0)
002e8b 9b5f      	SBIS 0xB,7
002e8c c00e      	RJMP _0x3EE
                 ;    3956 	    {
                 ;    3957 	    	test_char = getchar();
002e8d 940e 0632 	CALL _getchar
002e8f 2f0e      	MOV  R16,R30
                 ;    3958 	    	if (menu_level == 1)
002e90 91a0 07c6 	LDS  R26,_menu_level
002e92 30a1      	CPI  R26,LOW(0x1)
002e93 f421      	BRNE _0x3EF
                 ;    3959 	    		handle_level1(test_char);
002e94 930a      	ST   -Y,R16
002e95 940e 2a15 	CALL _handle_level1
                 ;    3960 	    	else
002e97 c003      	RJMP _0x3F0
                 _0x3EF:
                 ;    3961 	    		handle_level2(test_char);
002e98 930a      	ST   -Y,R16
002e99 940e 2cd9 	CALL _handle_level2
                 ;    3962 	    }
                 _0x3F0:
                 ;    3963     }
                 _0x3EE:
002e9b cfef      	RJMP _0x3EB
                 ;    3964 	return (0);
                 _0x3F1:
002e9c cfff      	RJMP _0x3F1
                 ;    3965 }
                 
                 __put_G2:
002e9d 81a8      	LD   R26,Y
002e9e 81b9      	LDD  R27,Y+1
002e9f 940e 3e4d 	CALL __GETW1P
002ea1 9730      	SBIW R30,0
002ea2 f031      	BREQ _0x3F2
002ea3 940e 3ae9 	CALL SUBOPT_0xE2
002ea5 9731      	SBIW R30,1
002ea6 81aa      	LDD  R26,Y+2
002ea7 83a0      	STD  Z+0,R26
002ea8 c004      	RJMP _0x3F3
                 _0x3F2:
002ea9 81ea      	LDD  R30,Y+2
002eaa 93ea      	ST   -Y,R30
002eab 940e 0642 	CALL _putchar
                 _0x3F3:
002ead 9623      	ADIW R28,3
002eae 9508      	RET
                 __ftoa_G2:
002eaf 940e 3ab7 	CALL SUBOPT_0xDB
002eb1 85a8      	LDD  R26,Y+8
002eb2 30a6      	CPI  R26,LOW(0x6)
002eb3 f010      	BRLO _0x3F4
002eb4 e0e5      	LDI  R30,LOW(5)
002eb5 87e8      	STD  Y+8,R30
                 _0x3F4:
002eb6 85e8      	LDD  R30,Y+8
002eb7 e5ac      	LDI  R26,LOW(__fround_G2*2)
002eb8 e0b1      	LDI  R27,HIGH(__fround_G2*2)
002eb9 e0f0      	LDI  R31,0
002eba 940e 3d5d 	CALL __LSLW2
002ebc 0fea      	ADD  R30,R26
002ebd 1ffb      	ADC  R31,R27
002ebe 940e 3e60 	CALL __GETD1PF
002ec0 85a9
002ec1 85ba
002ec2 858b
002ec3 859c      	__GETD2S 9
002ec4 940e 3f17 	CALL __ADDF12
002ec6 87e9
002ec7 87fa
002ec8 876b
002ec9 877c      	__PUTD1S 9
002eca e000      	LDI  R16,LOW(0)
002ecb e0e0
002ecc e0f0
002ecd e860
002ece e37f      	__GETD1N 0x3F800000
002ecf 83ea
002ed0 83fb
002ed1 836c
002ed2 837d      	__PUTD1S 2
                 _0x3F5:
002ed3 81ea
002ed4 81fb
002ed5 816c
002ed6 817d      	__GETD1S 2
002ed7 85a9
002ed8 85ba
002ed9 858b
002eda 859c      	__GETD2S 9
002edb 940e 3fd8 	CALL __CMPF12
002edd f080      	BRLO _0x3F7
002ede 81aa
002edf 81bb
002ee0 818c
002ee1 819d      	__GETD2S 2
002ee2 e0e0
002ee3 e0f0
002ee4 e260
002ee5 e471      	__GETD1N 0x41200000
002ee6 940e 3f65 	CALL __MULF12
002ee8 83ea
002ee9 83fb
002eea 836c
002eeb 837d      	__PUTD1S 2
002eec 5f0f      	SUBI R16,-LOW(1)
002eed cfe5      	RJMP _0x3F5
                 _0x3F7:
002eee 3000      	CPI  R16,0
002eef f429      	BRNE _0x3F8
002ef0 940e 3b9a 	CALL SUBOPT_0xFB
002ef2 e3e0      	LDI  R30,LOW(48)
002ef3 93ec      	ST   X,R30
002ef4 c02a      	RJMP _0x3F9
                 _0x3F8:
                 _0x3FA:
002ef5 2fe0      	MOV  R30,R16
002ef6 5001      	SUBI R16,1
002ef7 30e0      	CPI  R30,0
002ef8 f131      	BREQ _0x3FC
002ef9 81aa
002efa 81bb
002efb 818c
002efc 819d      	__GETD2S 2
002efd 940e 3ba1 	CALL SUBOPT_0xFC
002eff 83ea
002f00 83fb
002f01 836c
002f02 837d      	__PUTD1S 2
002f03 85a9
002f04 85ba
002f05 858b
002f06 859c      	__GETD2S 9
002f07 940e 3bb1 	CALL SUBOPT_0xFD
002f09 940e 3b9a 	CALL SUBOPT_0xFB
002f0b 940e 3bb7 	CALL SUBOPT_0xFE
002f0d 81aa
002f0e 81bb
002f0f 818c
002f10 819d      	__GETD2S 2
002f11 27ff      	CLR  R31
002f12 2766      	CLR  R22
002f13 2777      	CLR  R23
002f14 940e 3ed9 	CALL __CDF1
002f16 940e 3f65 	CALL __MULF12
002f18 85a9
002f19 85ba
002f1a 858b
002f1b 859c      	__GETD2S 9
002f1c 940e 3bbc 	CALL SUBOPT_0xFF
002f1e cfd6      	RJMP _0x3FA
                 _0x3FC:
                 _0x3F9:
002f1f 85e8      	LDD  R30,Y+8
002f20 30e0      	CPI  R30,0
002f21 f419      	BRNE _0x3FD
002f22 940e 3bc5 	CALL SUBOPT_0x100
002f24 c02c      	RJMP _0x4FA
                 _0x3FD:
002f25 940e 3b9a 	CALL SUBOPT_0xFB
002f27 e2ee      	LDI  R30,LOW(46)
002f28 93ec      	ST   X,R30
                 _0x3FE:
002f29 85e8      	LDD  R30,Y+8
002f2a 50e1      	SUBI R30,LOW(1)
002f2b 87e8      	STD  Y+8,R30
002f2c 5fef      	SUBI R30,-LOW(1)
002f2d f109      	BREQ _0x400
002f2e 85a9
002f2f 85ba
002f30 858b
002f31 859c      	__GETD2S 9
002f32 e0e0
002f33 e0f0
002f34 e260
002f35 e471      	__GETD1N 0x41200000
002f36 940e 3f65 	CALL __MULF12
002f38 87e9
002f39 87fa
002f3a 876b
002f3b 877c      	__PUTD1S 9
002f3c 940e 3ea6 	CALL __CFD1
002f3e 2f1e      	MOV  R17,R30
002f3f 940e 3b9a 	CALL SUBOPT_0xFB
002f41 940e 3bb7 	CALL SUBOPT_0xFE
002f43 85a9
002f44 85ba
002f45 858b
002f46 859c      	__GETD2S 9
002f47 27ff      	CLR  R31
002f48 2766      	CLR  R22
002f49 2777      	CLR  R23
002f4a 940e 3ed9 	CALL __CDF1
002f4c 940e 3bbc 	CALL SUBOPT_0xFF
002f4e cfda      	RJMP _0x3FE
                 _0x400:
002f4f 940e 3bc5 	CALL SUBOPT_0x100
                 _0x4FA:
002f51 8119      	LDD  R17,Y+1
002f52 8108      	LDD  R16,Y+0
002f53 962d      	ADIW R28,13
002f54 9508      	RET
                 __ftoe_G2:
002f55 9724      	SBIW R28,4
002f56 940e 4017 	CALL __SAVELOCR3
002f58 e0e0
002f59 e0f0
002f5a e860
002f5b e37f      	__GETD1N 0x3F800000
002f5c 83eb
002f5d 83fc
002f5e 836d
002f5f 837e      	__PUTD1S 3
002f60 85aa      	LDD  R26,Y+10
002f61 30a6      	CPI  R26,LOW(0x6)
002f62 f010      	BRLO _0x401
002f63 e0e5      	LDI  R30,LOW(5)
002f64 87ea      	STD  Y+10,R30
                 _0x401:
002f65 850a      	LDD  R16,Y+10
                 _0x402:
002f66 2fe0      	MOV  R30,R16
002f67 5001      	SUBI R16,1
002f68 30e0      	CPI  R30,0
002f69 f019      	BREQ _0x404
002f6a 940e 3bca 	CALL SUBOPT_0x101
002f6c cff9      	RJMP _0x402
                 _0x404:
002f6d 85eb
002f6e 85fc
002f6f 856d
002f70 857e      	__GETD1S 11
002f71 940e 3ff8 	CALL __CPD10
002f73 f421      	BRNE _0x405
002f74 e020      	LDI  R18,LOW(0)
002f75 940e 3bca 	CALL SUBOPT_0x101
002f77 c03a      	RJMP _0x406
                 _0x405:
002f78 852a      	LDD  R18,Y+10
002f79 940e 3bd9 	CALL SUBOPT_0x102
002f7b f009      	BREQ PC+2
002f7c f410      	BRCC PC+3
002f7d 940c 2f89 	JMP  _0x407
002f7f 940e 3bca 	CALL SUBOPT_0x101
                 _0x408:
002f81 940e 3bd9 	CALL SUBOPT_0x102
002f83 f020      	BRLO _0x40A
002f84 940e 3be4 	CALL SUBOPT_0x103
002f86 5f2f      	SUBI R18,-LOW(1)
002f87 cff9      	RJMP _0x408
                 _0x40A:
002f88 c015      	RJMP _0x40B
                 _0x407:
                 _0x40C:
002f89 940e 3bd9 	CALL SUBOPT_0x102
002f8b f480      	BRSH _0x40E
002f8c 85ab
002f8d 85bc
002f8e 858d
002f8f 859e      	__GETD2S 11
002f90 e0e0
002f91 e0f0
002f92 e260
002f93 e471      	__GETD1N 0x41200000
002f94 940e 3f65 	CALL __MULF12
002f96 87eb
002f97 87fc
002f98 876d
002f99 877e      	__PUTD1S 11
002f9a 5021      	SUBI R18,LOW(1)
002f9b cfed      	RJMP _0x40C
                 _0x40E:
002f9c 940e 3bca 	CALL SUBOPT_0x101
                 _0x40B:
002f9e 85eb
002f9f 85fc
002fa0 856d
002fa1 857e      	__GETD1S 11
002fa2 e0a0
002fa3 e0b0
002fa4 e080
002fa5 e39f      	__GETD2N 0x3F000000
002fa6 940e 3f17 	CALL __ADDF12
002fa8 87eb
002fa9 87fc
002faa 876d
002fab 877e      	__PUTD1S 11
002fac 940e 3bd9 	CALL SUBOPT_0x102
002fae f018      	BRLO _0x40F
002faf 940e 3be4 	CALL SUBOPT_0x103
002fb1 5f2f      	SUBI R18,-LOW(1)
                 _0x40F:
                 _0x406:
002fb2 e000      	LDI  R16,LOW(0)
                 _0x410:
002fb3 85ea      	LDD  R30,Y+10
002fb4 17e0      	CP   R30,R16
002fb5 f1a0      	BRLO _0x412
002fb6 81ab
002fb7 81bc
002fb8 818d
002fb9 819e      	__GETD2S 3
002fba 940e 3ba1 	CALL SUBOPT_0xFC
002fbc 83eb
002fbd 83fc
002fbe 836d
002fbf 837e      	__PUTD1S 3
002fc0 85ab
002fc1 85bc
002fc2 858d
002fc3 859e      	__GETD2S 11
002fc4 940e 3bb1 	CALL SUBOPT_0xFD
002fc6 940e 3bf3 	CALL SUBOPT_0x104
002fc8 940e 3bb7 	CALL SUBOPT_0xFE
002fca 27ff      	CLR  R31
002fcb 2766      	CLR  R22
002fcc 2777      	CLR  R23
002fcd 940e 3ed9 	CALL __CDF1
002fcf 81ab
002fd0 81bc
002fd1 818d
002fd2 819e      	__GETD2S 3
002fd3 940e 3f65 	CALL __MULF12
002fd5 85ab
002fd6 85bc
002fd7 858d
002fd8 859e      	__GETD2S 11
002fd9 940e 3e70 	CALL __SWAPD12
002fdb 940e 3f10 	CALL __SUBF12
002fdd 87eb
002fde 87fc
002fdf 876d
002fe0 877e      	__PUTD1S 11
002fe1 2fe0      	MOV  R30,R16
002fe2 5f0f      	SUBI R16,-1
002fe3 30e0      	CPI  R30,0
002fe4 f671      	BRNE _0x410
002fe5 940e 3bf3 	CALL SUBOPT_0x104
002fe7 e2ee      	LDI  R30,LOW(46)
002fe8 93ec      	ST   X,R30
002fe9 cfc9      	RJMP _0x410
                 _0x412:
002fea 940e 378f 	CALL SUBOPT_0x87
002fec 9731      	SBIW R30,1
002fed 85a9      	LDD  R26,Y+9
002fee 83a0      	STD  Z+0,R26
002fef 3020      	CPI  R18,0
002ff0 f42c      	BRGE _0x414
002ff1 940e 3bf3 	CALL SUBOPT_0x104
002ff3 e2ed      	LDI  R30,LOW(45)
002ff4 93ec      	ST   X,R30
002ff5 9521      	NEG  R18
                 _0x414:
002ff6 302a      	CPI  R18,10
002ff7 f044      	BRLT _0x415
002ff8 940e 378f 	CALL SUBOPT_0x87
002ffa 940e 3bfa 	CALL SUBOPT_0x105
002ffc 940e 3dca 	CALL __DIVB21
002ffe 940e 3bff 	CALL SUBOPT_0x106
                 _0x415:
003000 940e 378f 	CALL SUBOPT_0x87
003002 940e 3bfa 	CALL SUBOPT_0x105
003004 940e 3e0d 	CALL __MODB21
003006 940e 3bff 	CALL SUBOPT_0x106
003008 81af      	LDD  R26,Y+7
003009 85b8      	LDD  R27,Y+7+1
00300a e0e0      	LDI  R30,LOW(0)
00300b 93ec      	ST   X,R30
00300c 940e 401e 	CALL __LOADLOCR3
00300e 962f      	ADIW R28,15
00300f 9508      	RET
                 __print_G2:
003010 976c      	SBIW R28,28
003011 940e 4014 	CALL __SAVELOCR6
003013 e000      	LDI  R16,0
                 _0x416:
003014 a1ee      	LDD  R30,Y+38
003015 a1ff      	LDD  R31,Y+38+1
003016 9631      	ADIW R30,1
003017 a3ee      	STD  Y+38,R30
003018 a3ff      	STD  Y+38+1,R31
003019 9731      	SBIW R30,1
00301a 91e4      	LPM  R30,Z
00301b 2f3e      	MOV  R19,R30
00301c 30e0      	CPI  R30,0
00301d f411      	BRNE PC+3
00301e 940c 3224 	JMP _0x418
003020 2fe0      	MOV  R30,R16
003021 30e0      	CPI  R30,0
003022 f439      	BRNE _0x41C
003023 3235      	CPI  R19,37
003024 f411      	BRNE _0x41D
003025 e001      	LDI  R16,LOW(1)
003026 c002      	RJMP _0x41E
                 _0x41D:
003027 940e 3c03 	CALL SUBOPT_0x107
                 _0x41E:
003029 c1f9      	RJMP _0x41B
                 _0x41C:
00302a 30e1      	CPI  R30,LOW(0x1)
00302b f4c9      	BRNE _0x41F
00302c 3235      	CPI  R19,37
00302d f421      	BRNE _0x420
00302e 940e 3c03 	CALL SUBOPT_0x107
003030 e000      	LDI  R16,LOW(0)
003031 c1f1      	RJMP _0x41B
                 _0x420:
003032 e002      	LDI  R16,LOW(2)
003033 e0e0      	LDI  R30,LOW(0)
003034 8be9      	STD  Y+17,R30
003035 e010      	LDI  R17,LOW(0)
003036 323d      	CPI  R19,45
003037 f411      	BRNE _0x421
003038 e011      	LDI  R17,LOW(1)
003039 c1e9      	RJMP _0x41B
                 _0x421:
00303a 323b      	CPI  R19,43
00303b f419      	BRNE _0x422
00303c e2eb      	LDI  R30,LOW(43)
00303d 8be9      	STD  Y+17,R30
00303e c1e4      	RJMP _0x41B
                 _0x422:
00303f 3230      	CPI  R19,32
003040 f419      	BRNE _0x423
003041 e2e0      	LDI  R30,LOW(32)
003042 8be9      	STD  Y+17,R30
003043 c1df      	RJMP _0x41B
                 _0x423:
003044 c002      	RJMP _0x424
                 _0x41F:
003045 30e2      	CPI  R30,LOW(0x2)
003046 f439      	BRNE _0x425
                 _0x424:
003047 e040      	LDI  R20,LOW(0)
003048 e003      	LDI  R16,LOW(3)
003049 3330      	CPI  R19,48
00304a f411      	BRNE _0x426
00304b 6810      	ORI  R17,LOW(128)
00304c c1d6      	RJMP _0x41B
                 _0x426:
00304d c002      	RJMP _0x427
                 _0x425:
00304e 30e3      	CPI  R30,LOW(0x3)
00304f f4a1      	BRNE _0x428
                 _0x427:
003050 3330      	CPI  R19,48
003051 f010      	BRLO _0x42A
003052 333a      	CPI  R19,58
003053 f008      	BRLO _0x42B
                 _0x42A:
003054 c009      	RJMP _0x429
                 _0x42B:
003055 2fa4      	MOV  R26,R20
003056 e0ea      	LDI  R30,LOW(10)
003057 9fea      	MUL  R30,R26
003058 2de0      	MOV  R30,R0
003059 2f4e      	MOV  R20,R30
00305a 2fe3      	MOV  R30,R19
00305b 53e0      	SUBI R30,LOW(48)
00305c 0f4e      	ADD  R20,R30
00305d c1c5      	RJMP _0x41B
                 _0x429:
00305e e050      	LDI  R21,LOW(0)
00305f 323e      	CPI  R19,46
003060 f411      	BRNE _0x42C
003061 e004      	LDI  R16,LOW(4)
003062 c1c0      	RJMP _0x41B
                 _0x42C:
003063 c011      	RJMP _0x42D
                 _0x428:
003064 30e4      	CPI  R30,LOW(0x4)
003065 f4a9      	BRNE _0x42F
003066 3330      	CPI  R19,48
003067 f010      	BRLO _0x431
003068 333a      	CPI  R19,58
003069 f008      	BRLO _0x432
                 _0x431:
00306a c00a      	RJMP _0x430
                 _0x432:
00306b 6210      	ORI  R17,LOW(32)
00306c 2fa5      	MOV  R26,R21
00306d e0ea      	LDI  R30,LOW(10)
00306e 9fea      	MUL  R30,R26
00306f 2de0      	MOV  R30,R0
003070 2f5e      	MOV  R21,R30
003071 2fe3      	MOV  R30,R19
003072 53e0      	SUBI R30,LOW(48)
003073 0f5e      	ADD  R21,R30
003074 c1ae      	RJMP _0x41B
                 _0x430:
                 _0x42D:
003075 363c      	CPI  R19,108
003076 f419      	BRNE _0x433
003077 6012      	ORI  R17,LOW(2)
003078 e005      	LDI  R16,LOW(5)
003079 c1a9      	RJMP _0x41B
                 _0x433:
00307a c004      	RJMP _0x434
                 _0x42F:
00307b 30e5      	CPI  R30,LOW(0x5)
00307c f011      	BREQ PC+3
00307d 940c 3223 	JMP _0x41B
                 _0x434:
00307f 2fe3      	MOV  R30,R19
003080 36e3      	CPI  R30,LOW(0x63)
003081 f431      	BRNE _0x439
003082 940e 3c0a 	CALL SUBOPT_0x108
003084 91ec      	LD   R30,X
003085 940e 3c11 	CALL SUBOPT_0x109
003087 c19a      	RJMP _0x43A
                 _0x439:
003088 34e5      	CPI  R30,LOW(0x45)
003089 f011      	BREQ _0x43D
00308a 36e5      	CPI  R30,LOW(0x65)
00308b f409      	BRNE _0x43E
                 _0x43D:
00308c c004      	RJMP _0x43F
                 _0x43E:
00308d 36e6      	CPI  R30,LOW(0x66)
00308e f011      	BREQ PC+3
00308f 940c 30d3 	JMP _0x440
                 _0x43F:
003091 01fe      	MOVW R30,R28
003092 9672      	ADIW R30,18
003093 87ea      	STD  Y+10,R30
003094 87fb      	STD  Y+10+1,R31
003095 940e 3c0a 	CALL SUBOPT_0x108
003097 940e 3e51 	CALL __GETD1P
003099 83ee
00309a 83ff
00309b 8768
00309c 8779      	__PUTD1S 6
00309d 01df      	MOVW R26,R30
00309e 01cb      	MOVW R24,R22
00309f 940e 4000 	CALL __CPD20
0030a1 f024      	BRLT _0x441
0030a2 89a9      	LDD  R26,Y+17
0030a3 32ab      	CPI  R26,LOW(0x2B)
0030a4 f049      	BREQ _0x443
0030a5 c012      	RJMP _0x444
                 _0x441:
0030a6 81ee
0030a7 81ff
0030a8 8568
0030a9 8579      	__GETD1S 6
0030aa 940e 3e7d 	CALL __ANEGF1
0030ac 940e 3c18 	CALL SUBOPT_0x10A
                 _0x443:
0030ae ff17      	SBRS R17,7
0030af c004      	RJMP _0x445
0030b0 89e9      	LDD  R30,Y+17
0030b1 940e 3c11 	CALL SUBOPT_0x109
0030b3 c004      	RJMP _0x446
                 _0x445:
0030b4 940e 3c1f 	CALL SUBOPT_0x10B
0030b6 89a9      	LDD  R26,Y+17
0030b7 83a0      	STD  Z+0,R26
                 _0x446:
                 _0x444:
0030b8 ff15      	SBRS R17,5
0030b9 e055      	LDI  R21,LOW(5)
0030ba 3636      	CPI  R19,102
0030bb f449      	BRNE _0x448
0030bc 940e 3c26 	CALL SUBOPT_0x10C
0030be 85ef      	LDD  R30,Y+15
0030bf 89f8      	LDD  R31,Y+15+1
0030c0 93fa      	ST   -Y,R31
0030c1 93ea      	ST   -Y,R30
0030c2 940e 2eaf 	CALL __ftoa_G2
0030c4 c009      	RJMP _0x449
                 _0x448:
0030c5 940e 3c26 	CALL SUBOPT_0x10C
0030c7 933a      	ST   -Y,R19
0030c8 89e8      	LDD  R30,Y+16
0030c9 89f9      	LDD  R31,Y+16+1
0030ca 93fa      	ST   -Y,R31
0030cb 93ea      	ST   -Y,R30
0030cc 940e 2f55 	CALL __ftoe_G2
                 _0x449:
0030ce 01fe      	MOVW R30,R28
0030cf 9672      	ADIW R30,18
0030d0 940e 3c2e 	CALL SUBOPT_0x10D
0030d2 c01e      	RJMP _0x44A
                 _0x440:
0030d3 37e3      	CPI  R30,LOW(0x73)
0030d4 f439      	BRNE _0x44C
0030d5 940e 3c0a 	CALL SUBOPT_0x108
0030d7 940e 3e4d 	CALL __GETW1P
0030d9 940e 3c2e 	CALL SUBOPT_0x10D
0030db c00e      	RJMP _0x44D
                 _0x44C:
0030dc 37e0      	CPI  R30,LOW(0x70)
0030dd f4c1      	BRNE _0x44F
0030de 940e 3c0a 	CALL SUBOPT_0x108
0030e0 940e 3e4d 	CALL __GETW1P
0030e2 87ea      	STD  Y+10,R30
0030e3 87fb      	STD  Y+10+1,R31
0030e4 93fa      	ST   -Y,R31
0030e5 93ea      	ST   -Y,R30
0030e6 940e 3c8a 	CALL _strlenf
0030e8 2f0e      	MOV  R16,R30
0030e9 6018      	ORI  R17,LOW(8)
                 _0x44D:
0030ea 771f      	ANDI R17,LOW(127)
0030eb 3050      	CPI  R21,0
0030ec f011      	BREQ _0x451
0030ed 1750      	CP   R21,R16
0030ee f008      	BRLO _0x452
                 _0x451:
0030ef c001      	RJMP _0x450
                 _0x452:
0030f0 2f05      	MOV  R16,R21
                 _0x450:
                 _0x44A:
0030f1 e050      	LDI  R21,LOW(0)
0030f2 e0e0      	LDI  R30,LOW(0)
0030f3 8be8      	STD  Y+16,R30
0030f4 e020      	LDI  R18,LOW(0)
0030f5 c077      	RJMP _0x453
                 _0x44F:
0030f6 36e4      	CPI  R30,LOW(0x64)
0030f7 f011      	BREQ _0x456
0030f8 36e9      	CPI  R30,LOW(0x69)
0030f9 f411      	BRNE _0x457
                 _0x456:
0030fa 6014      	ORI  R17,LOW(4)
0030fb c002      	RJMP _0x458
                 _0x457:
0030fc 37e5      	CPI  R30,LOW(0x75)
0030fd f4c1      	BRNE _0x459
                 _0x458:
0030fe e0ea      	LDI  R30,LOW(10)
0030ff 8be8      	STD  Y+16,R30
003100 ff11      	SBRS R17,1
003101 c00a      	RJMP _0x45A
003102 e0e0
003103 ecfa
003104 e96a
003105 e37b      	__GETD1N 0x3B9ACA00
003106 87ec
003107 87fd
003108 876e
003109 877f      	__PUTD1S 12
00310a e00a      	LDI  R16,LOW(10)
00310b c029      	RJMP _0x45B
                 _0x45A:
00310c e1e0
00310d e2f7
00310e e060
00310f e070      	__GETD1N 0x2710
003110 87ec
003111 87fd
003112 876e
003113 877f      	__PUTD1S 12
003114 e005      	LDI  R16,LOW(5)
003115 c01f      	RJMP _0x45B
                 _0x459:
003116 35e8      	CPI  R30,LOW(0x58)
003117 f411      	BRNE _0x45D
003118 6018      	ORI  R17,LOW(8)
003119 c004      	RJMP _0x45E
                 _0x45D:
00311a 37e8      	CPI  R30,LOW(0x78)
00311b f011      	BREQ PC+3
00311c 940c 3222 	JMP _0x49C
                 _0x45E:
00311e e1e0      	LDI  R30,LOW(16)
00311f 8be8      	STD  Y+16,R30
003120 ff11      	SBRS R17,1
003121 c00a      	RJMP _0x460
003122 e0e0
003123 e0f0
003124 e060
003125 e170      	__GETD1N 0x10000000
003126 87ec
003127 87fd
003128 876e
003129 877f      	__PUTD1S 12
00312a e008      	LDI  R16,LOW(8)
00312b c009      	RJMP _0x45B
                 _0x460:
00312c e0e0
00312d e1f0
00312e e060
00312f e070      	__GETD1N 0x1000
003130 87ec
003131 87fd
003132 876e
003133 877f      	__PUTD1S 12
003134 e004      	LDI  R16,LOW(4)
                 _0x45B:
003135 3050      	CPI  R21,0
003136 f011      	BREQ _0x461
003137 771f      	ANDI R17,LOW(127)
003138 c001      	RJMP _0x462
                 _0x461:
003139 e051      	LDI  R21,LOW(1)
                 _0x462:
00313a ff11      	SBRS R17,1
00313b c005      	RJMP _0x463
00313c 940e 3c0a 	CALL SUBOPT_0x108
00313e 940e 3e51 	CALL __GETD1P
003140 c00f      	RJMP _0x531
                 _0x463:
003141 ff12      	SBRS R17,2
003142 c007      	RJMP _0x465
003143 940e 3c0a 	CALL SUBOPT_0x108
003145 940e 3e4d 	CALL __GETW1P
003147 940e 3d80 	CALL __CWD1
003149 c006      	RJMP _0x531
                 _0x465:
00314a 940e 3c0a 	CALL SUBOPT_0x108
00314c 940e 3e4d 	CALL __GETW1P
00314e 2766      	CLR  R22
00314f 2777      	CLR  R23
                 _0x531:
003150 83ee
003151 83ff
003152 8768
003153 8779      	__PUTD1S 6
003154 ff12      	SBRS R17,2
003155 c016      	RJMP _0x467
003156 81ae
003157 81bf
003158 8588
003159 8599      	__GETD2S 6
00315a 940e 4000 	CALL __CPD20
00315c f444      	BRGE _0x468
00315d 81ee
00315e 81ff
00315f 8568
003160 8579      	__GETD1S 6
003161 940e 3d2f 	CALL __ANEGD1
003163 940e 3c18 	CALL SUBOPT_0x10A
                 _0x468:
003165 89e9      	LDD  R30,Y+17
003166 30e0      	CPI  R30,0
003167 f019      	BREQ _0x469
003168 5f0f      	SUBI R16,-LOW(1)
003169 5f5f      	SUBI R21,-LOW(1)
00316a c001      	RJMP _0x46A
                 _0x469:
00316b 7f1b      	ANDI R17,LOW(251)
                 _0x46A:
                 _0x467:
00316c 2f25      	MOV  R18,R21
                 _0x453:
00316d fd10      	SBRC R17,0
00316e c014      	RJMP _0x46B
                 _0x46C:
00316f 1704      	CP   R16,R20
003170 f410      	BRSH _0x46F
003171 1724      	CP   R18,R20
003172 f008      	BRLO _0x470
                 _0x46F:
003173 c00f      	RJMP _0x46E
                 _0x470:
003174 ff17      	SBRS R17,7
003175 c008      	RJMP _0x471
003176 ff12      	SBRS R17,2
003177 c004      	RJMP _0x472
003178 7f1b      	ANDI R17,LOW(251)
003179 8939      	LDD  R19,Y+17
00317a 5001      	SUBI R16,LOW(1)
00317b c001      	RJMP _0x473
                 _0x472:
00317c e330      	LDI  R19,LOW(48)
                 _0x473:
00317d c001      	RJMP _0x474
                 _0x471:
00317e e230      	LDI  R19,LOW(32)
                 _0x474:
00317f 940e 3c03 	CALL SUBOPT_0x107
003181 5041      	SUBI R20,LOW(1)
003182 cfec      	RJMP _0x46C
                 _0x46E:
                 _0x46B:
                 _0x475:
003183 1705      	CP   R16,R21
003184 f4a0      	BRSH _0x477
003185 6110      	ORI  R17,LOW(16)
003186 ff12      	SBRS R17,2
003187 c009      	RJMP _0x478
003188 7f1b      	ANDI R17,LOW(251)
003189 89e9      	LDD  R30,Y+17
00318a 940e 3c11 	CALL SUBOPT_0x109
00318c 3040      	CPI  R20,0
00318d f009      	BREQ _0x479
00318e 5041      	SUBI R20,LOW(1)
                 _0x479:
00318f 5001      	SUBI R16,LOW(1)
003190 5051      	SUBI R21,LOW(1)
                 _0x478:
003191 e3e0      	LDI  R30,LOW(48)
003192 940e 3c11 	CALL SUBOPT_0x109
003194 3040      	CPI  R20,0
003195 f009      	BREQ _0x47A
003196 5041      	SUBI R20,LOW(1)
                 _0x47A:
003197 5051      	SUBI R21,LOW(1)
003198 cfea      	RJMP _0x475
                 _0x477:
003199 2f20      	MOV  R18,R16
00319a 89e8      	LDD  R30,Y+16
00319b 30e0      	CPI  R30,0
00319c f4d1      	BRNE _0x47B
                 _0x47C:
00319d 3020      	CPI  R18,0
00319e f0b9      	BREQ _0x47E
00319f ff13      	SBRS R17,3
0031a0 c004      	RJMP _0x47F
0031a1 940e 3c1f 	CALL SUBOPT_0x10B
0031a3 91e4      	LPM  R30,Z
0031a4 c005      	RJMP _0x532
                 _0x47F:
0031a5 85aa      	LDD  R26,Y+10
0031a6 85bb      	LDD  R27,Y+10+1
0031a7 91ed      	LD   R30,X+
0031a8 87aa      	STD  Y+10,R26
0031a9 87bb      	STD  Y+10+1,R27
                 _0x532:
0031aa 93ea      	ST   -Y,R30
0031ab a1eb      	LDD  R30,Y+35
0031ac a1fc      	LDD  R31,Y+35+1
0031ad 93fa      	ST   -Y,R31
0031ae 93ea      	ST   -Y,R30
0031af 940e 2e9d 	CALL __put_G2
0031b1 3040      	CPI  R20,0
0031b2 f009      	BREQ _0x481
0031b3 5041      	SUBI R20,LOW(1)
                 _0x481:
0031b4 5021      	SUBI R18,LOW(1)
0031b5 cfe7      	RJMP _0x47C
                 _0x47E:
0031b6 c062      	RJMP _0x482
                 _0x47B:
                 _0x484:
0031b7 85ec
0031b8 85fd
0031b9 856e
0031ba 857f      	__GETD1S 12
0031bb 81ae
0031bc 81bf
0031bd 8588
0031be 8599      	__GETD2S 6
0031bf 940e 3de2 	CALL __DIVD21U
0031c1 2f3e      	MOV  R19,R30
0031c2 303a      	CPI  R19,10
0031c3 f030      	BRLO _0x486
0031c4 ff13      	SBRS R17,3
0031c5 c002      	RJMP _0x487
0031c6 5c39      	SUBI R19,-LOW(55)
0031c7 c001      	RJMP _0x488
                 _0x487:
0031c8 5a39      	SUBI R19,-LOW(87)
                 _0x488:
0031c9 c001      	RJMP _0x489
                 _0x486:
0031ca 5d30      	SUBI R19,-LOW(48)
                 _0x489:
0031cb fd14      	SBRC R17,4
0031cc c026      	RJMP _0x48B
0031cd 3331      	CPI  R19,49
0031ce f460      	BRSH _0x48D
0031cf 85ac
0031d0 85bd
0031d1 858e
0031d2 859f      	__GETD2S 12
0031d3 30a1
0031d4 e0e0
0031d5 07be
0031d6 e0e0
0031d7 078e
0031d8 e0e0
0031d9 079e      	__CPD2N 0x1
0031da f409      	BRNE _0x48C
                 _0x48D:
0031db c00d      	RJMP _0x48F
                 _0x48C:
0031dc 1752      	CP   R21,R18
0031dd f010      	BRLO _0x490
0031de e330      	LDI  R19,LOW(48)
0031df c009      	RJMP _0x48F
                 _0x490:
0031e0 1742      	CP   R20,R18
0031e1 f010      	BRLO _0x492
0031e2 ff10      	SBRS R17,0
0031e3 c001      	RJMP _0x493
                 _0x492:
0031e4 c013      	RJMP _0x491
                 _0x493:
0031e5 e230      	LDI  R19,LOW(32)
0031e6 ff17      	SBRS R17,7
0031e7 c00b      	RJMP _0x494
0031e8 e330      	LDI  R19,LOW(48)
                 _0x48F:
0031e9 6110      	ORI  R17,LOW(16)
0031ea ff12      	SBRS R17,2
0031eb c007      	RJMP _0x495
0031ec 7f1b      	ANDI R17,LOW(251)
0031ed 89e9      	LDD  R30,Y+17
0031ee 940e 3c11 	CALL SUBOPT_0x109
0031f0 3040      	CPI  R20,0
0031f1 f009      	BREQ _0x496
0031f2 5041      	SUBI R20,LOW(1)
                 _0x496:
                 _0x495:
                 _0x494:
                 _0x48B:
0031f3 940e 3c03 	CALL SUBOPT_0x107
0031f5 3040      	CPI  R20,0
0031f6 f009      	BREQ _0x497
0031f7 5041      	SUBI R20,LOW(1)
                 _0x497:
                 _0x491:
0031f8 5021      	SUBI R18,LOW(1)
0031f9 85ec
0031fa 85fd
0031fb 856e
0031fc 857f      	__GETD1S 12
0031fd 81ae
0031fe 81bf
0031ff 8588
003200 8599      	__GETD2S 6
003201 940e 3e1c 	CALL __MODD21U
003203 83ee
003204 83ff
003205 8768
003206 8779      	__PUTD1S 6
003207 89e8      	LDD  R30,Y+16
003208 85ac
003209 85bd
00320a 858e
00320b 859f      	__GETD2S 12
00320c 27ff      	CLR  R31
00320d 2766      	CLR  R22
00320e 2777      	CLR  R23
00320f 940e 3de2 	CALL __DIVD21U
003211 87ec
003212 87fd
003213 876e
003214 877f      	__PUTD1S 12
003215 940e 3ff8 	CALL __CPD10
003217 f009      	BREQ _0x485
003218 cf9e      	RJMP _0x484
                 _0x485:
                 _0x482:
003219 ff10      	SBRS R17,0
00321a c007      	RJMP _0x498
                 _0x499:
00321b 3040      	CPI  R20,0
00321c f029      	BREQ _0x49B
00321d 5041      	SUBI R20,LOW(1)
00321e e2e0      	LDI  R30,LOW(32)
00321f 940e 3c11 	CALL SUBOPT_0x109
003221 cff9      	RJMP _0x499
                 _0x49B:
                 _0x498:
                 _0x49C:
                 _0x43A:
003222 e000      	LDI  R16,LOW(0)
                 _0x41B:
003223 cdf0      	RJMP _0x416
                 _0x418:
003224 940e 401b 	CALL __LOADLOCR6
003226 96a8      	ADIW R28,40
003227 9508      	RET
                 _printf:
003228 92ff      	PUSH R15
003229 2ef8      	MOV  R15,R24
00322a 9722      	SBIW R28,2
00322b 931a      	ST   -Y,R17
00322c 930a      	ST   -Y,R16
00322d 01de      	MOVW R26,R28
00322e 940e 3d0e 	CALL __ADDW2R15
003230 018d      	MOVW R16,R26
003231 e0e0      	LDI  R30,0
003232 83ea      	STD  Y+2,R30
003233 83eb      	STD  Y+2+1,R30
003234 01de      	MOVW R26,R28
003235 9614      	ADIW R26,4
003236 940e 3d0e 	CALL __ADDW2R15
003238 940e 3e4d 	CALL __GETW1P
00323a 93fa      	ST   -Y,R31
00323b 93ea      	ST   -Y,R30
00323c 931a      	ST   -Y,R17
00323d 930a      	ST   -Y,R16
00323e 01fe      	MOVW R30,R28
00323f 9636      	ADIW R30,6
003240 93fa      	ST   -Y,R31
003241 93ea      	ST   -Y,R30
003242 940e 3010 	CALL __print_G2
003244 8119      	LDD  R17,Y+1
003245 8108      	LDD  R16,Y+0
003246 9624      	ADIW R28,4
003247 90ff      	POP  R15
003248 9508      	RET
                 _allocate_block_G3:
003249 9722      	SBIW R28,2
00324a 940e 4014 	CALL __SAVELOCR6
00324c e204
00324d e018      	__GETWRN 16,17,2084
00324e 01d8      	MOVW R26,R16
00324f e0e0      	LDI  R30,LOW(0)
003250 e0f0      	LDI  R31,HIGH(0)
003251 93ed      	ST   X+,R30
003252 93fc      	ST   X,R31
                 _0x4E6:
003253 2e00      	MOV  R0,R16
003254 2a01      	OR   R0,R17
003255 f199      	BREQ _0x4E8
003256 01d8      	MOVW R26,R16
003257 940e 3e4d 	CALL __GETW1P
003259 0fe0      	ADD  R30,R16
00325a 1ff1      	ADC  R31,R17
00325b 9634      	ADIW R30,4
00325c 01af      	MOVW R20,R30
00325d 940e 3c36 	CALL SUBOPT_0x10E
00325f 9730      	SBIW R30,0
003260 f019      	BREQ _0x4E9
003261 832e
003262 833f      	__PUTWSR 18,19,6
003263 c004      	RJMP _0x4EA
                 _0x4E9:
003264 e0e0      	LDI  R30,LOW(4352)
003265 e1f1      	LDI  R31,HIGH(4352)
003266 83ee      	STD  Y+6,R30
003267 83ff      	STD  Y+6+1,R31
                 _0x4EA:
003268 81ee      	LDD  R30,Y+6
003269 81ff      	LDD  R31,Y+6+1
00326a 1be4      	SUB  R30,R20
00326b 0bf5      	SBC  R31,R21
00326c 01df      	MOVW R26,R30
00326d 85e8      	LDD  R30,Y+8
00326e 85f9      	LDD  R31,Y+8+1
00326f 9634      	ADIW R30,4
003270 17ae      	CP   R26,R30
003271 07bf      	CPC  R27,R31
003272 f098      	BRLO _0x4EB
003273 01fa      	MOVW R30,R20
003274 01d8
003275 9612
003276 93ed
003277 93fc      	__PUTW1RNS 16,2
003278 01f9      	MOVW R30,R18
003279 01da
00327a 9612
00327b 93ed
00327c 93fc      	__PUTW1RNS 20,2
00327d 85e8      	LDD  R30,Y+8
00327e 85f9      	LDD  R31,Y+8+1
00327f 01da      	MOVW R26,R20
003280 93ed      	ST   X+,R30
003281 93fc      	ST   X,R31
003282 5f4c
003283 4f5f      	__ADDWRN 20,21,4
003284 01fa      	MOVW R30,R20
003285 c005      	RJMP _0x4F9
                 _0x4EB:
003286 2f02
003287 2f13      	__MOVEWRR 16,17,18,19
003288 cfca      	RJMP _0x4E6
                 _0x4E8:
003289 e0e0      	LDI  R30,LOW(0)
00328a e0f0      	LDI  R31,HIGH(0)
                 _0x4F9:
00328b 940e 401b 	CALL __LOADLOCR6
00328d 962a      	ADIW R28,10
00328e 9508      	RET
                 _find_prev_block_G3:
00328f 940e 4016 	CALL __SAVELOCR4
003291 e204
003292 e018      	__GETWRN 16,17,2084
                 _0x4EC:
003293 2e00      	MOV  R0,R16
003294 2a01      	OR   R0,R17
003295 f069      	BREQ _0x4EE
003296 940e 3c36 	CALL SUBOPT_0x10E
003298 01df      	MOVW R26,R30
003299 81ec      	LDD  R30,Y+4
00329a 81fd      	LDD  R31,Y+4+1
00329b 17ea      	CP   R30,R26
00329c 07fb      	CPC  R31,R27
00329d f411      	BRNE _0x4EF
00329e 01f8      	MOVW R30,R16
00329f c005      	RJMP _0x4F8
                 _0x4EF:
0032a0 2f02
0032a1 2f13      	__MOVEWRR 16,17,18,19
0032a2 cff0      	RJMP _0x4EC
                 _0x4EE:
0032a3 e0e0      	LDI  R30,LOW(0)
0032a4 e0f0      	LDI  R31,HIGH(0)
                 _0x4F8:
0032a5 940e 401d 	CALL __LOADLOCR4
0032a7 9626      	ADIW R28,6
0032a8 9508      	RET
                 _realloc:
0032a9 9722      	SBIW R28,2
0032aa 940e 4014 	CALL __SAVELOCR6
0032ac 85ea      	LDD  R30,Y+10
0032ad 85fb      	LDD  R31,Y+10+1
0032ae 9730      	SBIW R30,0
0032af f411      	BRNE PC+3
0032b0 940c 32f0 	JMP _0x4F0
0032b2 9734      	SBIW R30,4
0032b3 018f      	MOVW R16,R30
0032b4 931a      	ST   -Y,R17
0032b5 930a      	ST   -Y,R16
0032b6 940e 328f 	CALL _find_prev_block_G3
0032b8 019f      	MOVW R18,R30
0032b9 9730      	SBIW R30,0
0032ba f1a9      	BREQ _0x4F1
0032bb 01d8      	MOVW R26,R16
0032bc 9612      	ADIW R26,2
0032bd 940e 3e4d 	CALL __GETW1P
0032bf 01d9
0032c0 9612
0032c1 93ed
0032c2 93fc      	__PUTW1RNS 18,2
0032c3 85e8      	LDD  R30,Y+8
0032c4 85f9      	LDD  R31,Y+8+1
0032c5 9730      	SBIW R30,0
0032c6 f149      	BREQ _0x4F2
0032c7 93fa      	ST   -Y,R31
0032c8 93ea      	ST   -Y,R30
0032c9 940e 3249 	CALL _allocate_block_G3
0032cb 01af      	MOVW R20,R30
0032cc 9730      	SBIW R30,0
0032cd f0e9      	BREQ _0x4F3
0032ce 01d8      	MOVW R26,R16
0032cf 940e 3e4d 	CALL __GETW1P
0032d1 83ee      	STD  Y+6,R30
0032d2 83ff      	STD  Y+6+1,R31
0032d3 01df      	MOVW R26,R30
0032d4 85e8      	LDD  R30,Y+8
0032d5 85f9      	LDD  R31,Y+8+1
0032d6 17ae      	CP   R26,R30
0032d7 07bf      	CPC  R27,R31
0032d8 f420      	BRSH _0x4F4
0032d9 81ee      	LDD  R30,Y+6
0032da 81ff      	LDD  R31,Y+6+1
0032db 87e8      	STD  Y+8,R30
0032dc 87f9      	STD  Y+8+1,R31
                 _0x4F4:
0032dd 935a      	ST   -Y,R21
0032de 934a      	ST   -Y,R20
0032df 85ec      	LDD  R30,Y+12
0032e0 85fd      	LDD  R31,Y+12+1
0032e1 93fa      	ST   -Y,R31
0032e2 93ea      	ST   -Y,R30
0032e3 85ec      	LDD  R30,Y+12
0032e4 85fd      	LDD  R31,Y+12+1
0032e5 93fa      	ST   -Y,R31
0032e6 93ea      	ST   -Y,R30
0032e7 940e 3c46 	CALL _memmove
0032e9 01fa      	MOVW R30,R20
0032ea c007      	RJMP _0x4F7
                 _0x4F3:
0032eb 01f8      	MOVW R30,R16
0032ec 01d9
0032ed 9612
0032ee 93ed
0032ef 93fc      	__PUTW1RNS 18,2
                 _0x4F2:
                 _0x4F1:
                 _0x4F0:
0032f0 e0e0      	LDI  R30,LOW(0)
0032f1 e0f0      	LDI  R31,HIGH(0)
                 _0x4F7:
0032f2 940e 401b 	CALL __LOADLOCR6
0032f4 962c      	ADIW R28,12
0032f5 9508      	RET
                 _malloc:
0032f6 931a      	ST   -Y,R17
0032f7 930a      	ST   -Y,R16
0032f8 e000
0032f9 e010      	__GETWRN 16,17,0
0032fa 81ea      	LDD  R30,Y+2
0032fb 81fb      	LDD  R31,Y+2+1
0032fc 9730      	SBIW R30,0
0032fd f079      	BREQ _0x4F5
0032fe 93fa      	ST   -Y,R31
0032ff 93ea      	ST   -Y,R30
003300 940e 3249 	CALL _allocate_block_G3
003302 018f      	MOVW R16,R30
003303 9730      	SBIW R30,0
003304 f041      	BREQ _0x4F6
003305 940e 3b95 	CALL SUBOPT_0xFA
003307 81ed      	LDD  R30,Y+5
003308 81fe      	LDD  R31,Y+5+1
003309 93fa      	ST   -Y,R31
00330a 93ea      	ST   -Y,R30
00330b 940e 3c63 	CALL _memset
                 _0x4F6:
                 _0x4F5:
00330d 01f8      	MOVW R30,R16
00330e 8119      	LDD  R17,Y+1
00330f 8108      	LDD  R16,Y+0
003310 9624      	ADIW R28,4
003311 9508      	RET
                 _free:
003312 81e8      	LD   R30,Y
003313 81f9      	LDD  R31,Y+1
003314 93fa      	ST   -Y,R31
003315 93ea      	ST   -Y,R30
003316 e0e0      	LDI  R30,LOW(0)
003317 e0f0      	LDI  R31,HIGH(0)
003318 93fa      	ST   -Y,R31
003319 93ea      	ST   -Y,R30
00331a 940e 32a9 	CALL _realloc
00331c 9622      	ADIW R28,2
00331d 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x0:
00331e e0e8      	LDI  R30,LOW(8)
00331f e0f0      	LDI  R31,HIGH(8)
003320 940e 3d8a 	CALL __MULW12U
003322 0fe6      	ADD  R30,R22
003323 1ff7      	ADC  R31,R23
003324 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x1:
003325 940e 0647 	CALL __FF_spi
003327 85ae      	LDD  R26,Y+14
003328 27bb      	CLR  R27
003329 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x2:
00332a 940e 3d4d 	CALL __LSRD12
00332c 2f0e      	MOV  R16,R30
00332d 930a      	ST   -Y,R16
00332e 940e 0647 	CALL __FF_spi
003330 85ea
003331 85fb
003332 856c
003333 857d      	__GETD1S 10
003334 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x3:
003335 2f0e      	MOV  R16,R30
003336 930a      	ST   -Y,R16
003337 940c 0647 	JMP  __FF_spi
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 8 TIMES
                 SUBOPT_0x4:
003339 940e 0647 	CALL __FF_spi
00333b efef      	LDI  R30,LOW(255)
00333c 93ea      	ST   -Y,R30
00333d 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 22 TIMES
                 SUBOPT_0x5:
00333e efef      	LDI  R30,LOW(255)
00333f 93ea      	ST   -Y,R30
003340 940c 0647 	JMP  __FF_spi
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x6:
003342 27ff      	CLR  R31
003343 2766      	CLR  R22
003344 2777      	CLR  R23
003345 83ee
003346 83ff
003347 8768
003348 8779      	__PUTD1S 6
003349 81ae
00334a 81bf
00334b 8588
00334c 8599      	__GETD2S 6
00334d 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x7:
00334e 27ff      	CLR  R31
00334f 2766      	CLR  R22
003350 2777      	CLR  R23
003351 83ee
003352 83ff
003353 8768
003354 8779      	__PUTD1S 6
003355 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x8:
003356 91a0 0500 	LDS  R26,_OCR_REG
003358 91b0 0501 	LDS  R27,_OCR_REG+1
00335a 9180 0502 	LDS  R24,_OCR_REG+2
00335c 9190 0503 	LDS  R25,_OCR_REG+3
00335e 940e 3d26 	CALL __ORD12
003360 93e0 0500 	STS  _OCR_REG,R30
003362 93f0 0501 	STS  _OCR_REG+1,R31
003364 9360 0502 	STS  _OCR_REG+2,R22
003366 9370 0503 	STS  _OCR_REG+3,R23
003368 cfd5      	RJMP SUBOPT_0x5
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x9:
003369 efef      	LDI  R30,LOW(255)
00336a 93ea      	ST   -Y,R30
00336b cfcd      	RJMP SUBOPT_0x4
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xA:
00336c e5e0      	LDI  R30,LOW(80)
00336d b9ed      	OUT  0xD,R30
00336e e0e0      	LDI  R30,LOW(0)
00336f 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES
                 SUBOPT_0xB:
003370 81e9
003371 81fa
003372 816b
003373 817c      	__GETD1S 1
003374 5fef
003375 4fff
003376 4f6f
003377 4f7f      	__SUBD1N -1
003378 83e9
003379 83fa
00337a 836b
00337b 837c      	__PUTD1S 1
00337c 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 33 TIMES
                 SUBOPT_0xC:
00337d 940e 3e66 	CALL __PUTPARD1
00337f 940e 0c33 	CALL __FF_read
003381 30e0      	CPI  R30,0
003382 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xD:
003383 940e 3228 	CALL _printf
003385 9622      	ADIW R28,2
003386 e0e1      	LDI  R30,LOW(1)
003387 93e0 073c 	STS  __FF_error,R30
003389 e0e0      	LDI  R30,LOW(0)
00338a 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0xE:
00338b 2766      	CLR  R22
00338c 2777      	CLR  R23
00338d 01df      	MOVW R26,R30
00338e 01cb      	MOVW R24,R22
00338f 01f3      	MOVW R30,R6
003390 2766      	CLR  R22
003391 2777      	CLR  R23
003392 940e 3db7 	CALL __MULD12
003394 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 6 TIMES
                 SUBOPT_0xF:
003395 e0f0      	LDI  R31,0
003396 2bea      	OR   R30,R26
003397 2bfb      	OR   R31,R27
003398 2766      	CLR  R22
003399 2777      	CLR  R23
00339a 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x10:
00339b 27ff      	CLR  R31
00339c 2766      	CLR  R22
00339d 2777      	CLR  R23
00339e 01df      	MOVW R26,R30
00339f 01cb      	MOVW R24,R22
0033a0 e1e8      	LDI  R30,LOW(24)
0033a1 940e 3d41 	CALL __LSLD12
0033a3 01df      	MOVW R26,R30
0033a4 01cb      	MOVW R24,R22
0033a5 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x11:
0033a6 27ff      	CLR  R31
0033a7 2766      	CLR  R22
0033a8 2777      	CLR  R23
0033a9 940e 3d75 	CALL __LSLD16
0033ab 940e 3d26 	CALL __ORD12
0033ad 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x12:
0033ae 27ff      	CLR  R31
0033af 2766      	CLR  R22
0033b0 2777      	CLR  R23
0033b1 01df      	MOVW R26,R30
0033b2 01cb      	MOVW R24,R22
0033b3 e0e8      	LDI  R30,LOW(8)
0033b4 940e 3d41 	CALL __LSLD12
0033b6 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES
                 SUBOPT_0x13:
0033b7 9731      	SBIW R30,1
0033b8 01df      	MOVW R26,R30
0033b9 01f3      	MOVW R30,R6
0033ba 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x14:
0033bb 93ea      	ST   -Y,R30
0033bc e0e0
0033bd e0f0
0033be e060
0033bf e070      	__GETD1N 0x0
0033c0 940e 3e66 	CALL __PUTPARD1
0033c2 940e 064e 	CALL _send_cmd
0033c4 2f0e      	MOV  R16,R30
0033c5 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x15:
0033c6 e5e0      	LDI  R30,LOW(80)
0033c7 b9ed      	OUT  0xD,R30
0033c8 e0e1      	LDI  R30,LOW(1)
0033c9 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x16:
0033ca 940e 3228 	CALL _printf
0033cc 9622      	ADIW R28,2
0033cd e0e1      	LDI  R30,LOW(1)
0033ce 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x17:
0033cf e0e4      	LDI  R30,LOW(4)
0033d0 93e0 073c 	STS  __FF_error,R30
0033d2 e0e0      	LDI  R30,LOW(0)
0033d3 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x18:
0033d4 940e 0741 	CALL _clear_sd_buff
0033d6 e0e7      	LDI  R30,LOW(7)
0033d7 93ea      	ST   -Y,R30
0033d8 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x19:
0033d9 940e 3e66 	CALL __PUTPARD1
0033db 940e 064e 	CALL _send_cmd
0033dd 2f0e      	MOV  R16,R30
0033de 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x1A:
0033df 5fec      	SUBI R30,LOW(-__FF_buff)
0033e0 4ffa      	SBCI R31,HIGH(-__FF_buff)
0033e1 81e0      	LD   R30,Z
0033e2 27ff      	CLR  R31
0033e3 2766      	CLR  R22
0033e4 2777      	CLR  R23
0033e5 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x1B:
0033e6 01f3      	MOVW R30,R6
0033e7 81ad
0033e8 81be
0033e9 818f
0033ea 8598      	__GETD2S 5
0033eb 2766      	CLR  R22
0033ec 2777      	CLR  R23
0033ed 940e 3e1c 	CALL __MODD21U
0033ef 940e 3ff8 	CALL __CPD10
0033f1 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x1C:
0033f2 e0e3      	LDI  R30,LOW(3)
0033f3 93e0 073c 	STS  __FF_error,R30
0033f5 e0e0      	LDI  R30,LOW(0)
0033f6 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES
                 SUBOPT_0x1D:
0033f7 91ec      	LD   R30,X
0033f8 93ea      	ST   -Y,R30
0033f9 940e 0d39 	CALL _valid_file_char
0033fb 9730      	SBIW R30,0
0033fc 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x1E:
0033fd 8def      	LDD  R30,Y+31
0033fe a1f8      	LDD  R31,Y+31+1
0033ff 9631      	ADIW R30,1
003400 8fef      	STD  Y+31,R30
003401 a3f8      	STD  Y+31+1,R31
003402 9731      	SBIW R30,1
003403 01de      	MOVW R26,R28
003404 9616      	ADIW R26,6
003405 0fae      	ADD  R26,R30
003406 1fbf      	ADC  R27,R31
003407 e2e0      	LDI  R30,LOW(32)
003408 93ec      	ST   X,R30
003409 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x1F:
00340a a1ab      	LDD  R26,Y+35
00340b a1bc      	LDD  R27,Y+35+1
00340c e0e0
00340d e0f0
00340e e060
00340f e070      	__GETD1N 0x0
003410 940e 3e57 	CALL __PUTDP1
003412 efef      	LDI  R30,LOW(65535)
003413 efff      	LDI  R31,HIGH(65535)
003414 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x20:
003415 8def      	LDD  R30,Y+31
003416 a1f8      	LDD  R31,Y+31+1
003417 9631      	ADIW R30,1
003418 8fef      	STD  Y+31,R30
003419 a3f8      	STD  Y+31+1,R31
00341a 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x21:
00341b 01f3      	MOVW R30,R6
00341c 2766      	CLR  R22
00341d 2777      	CLR  R23
00341e 01df      	MOVW R26,R30
00341f 01cb      	MOVW R24,R22
003420 2de8      	MOV  R30,R8
003421 27ff      	CLR  R31
003422 2766      	CLR  R22
003423 2777      	CLR  R23
003424 940e 3db7 	CALL __MULD12
003426 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES
                 SUBOPT_0x22:
003427 8def      	LDD  R30,Y+31
003428 a1f8      	LDD  R31,Y+31+1
003429 2766      	CLR  R22
00342a 2777      	CLR  R23
00342b 01df      	MOVW R26,R30
00342c 01cb      	MOVW R24,R22
00342d 01f3      	MOVW R30,R6
00342e 2766      	CLR  R22
00342f 2777      	CLR  R23
003430 940e 3db7 	CALL __MULD12
003432 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 13 TIMES
                 SUBOPT_0x23:
003433 01fa      	MOVW R30,R20
003434 0fee      	LSL  R30
003435 1fff      	ROL  R31
003436 940e 3d59 	CALL __LSLW4
003438 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x24:
003439 2766      	CLR  R22
00343a 2777      	CLR  R23
00343b 940e 3d12 	CALL __ADDD12
00343d 8fe9
00343e 8ffa
00343f 8f6b
003440 8f7c      	__PUTD1S 25
003441 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x25:
003442 8de9
003443 8dfa
003444 8d6b
003445 8d7c      	__GETD1S 25
003446 a1ab      	LDD  R26,Y+35
003447 a1bc      	LDD  R27,Y+35+1
003448 940e 3e57 	CALL __PUTDP1
00344a 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x26:
00344b 89ed      	LDD  R30,Y+21
00344c 89fe      	LDD  R31,Y+21+1
00344d 93fa      	ST   -Y,R31
00344e 93ea      	ST   -Y,R30
00344f 8de9      	LDD  R30,Y+25
003450 8dfa      	LDD  R31,Y+25+1
003451 93fa      	ST   -Y,R31
003452 93ea      	ST   -Y,R30
003453 e0eb      	LDI  R30,LOW(11)
003454 93ea      	ST   -Y,R30
003455 940e 3c95 	CALL _strncmp
003457 30e0      	CPI  R30,0
003458 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x27:
003459 93fa      	ST   -Y,R31
00345a 93ea      	ST   -Y,R30
00345b e0e1      	LDI  R30,LOW(1)
00345c 93ea      	ST   -Y,R30
00345d 940c 110b 	JMP  _next_cluster
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES
                 SUBOPT_0x28:
00345f 91e0 0722 	LDS  R30,__FF_ROOT_ADDR
003461 91f0 0723 	LDS  R31,__FF_ROOT_ADDR+1
003463 9160 0724 	LDS  R22,__FF_ROOT_ADDR+2
003465 9170 0725 	LDS  R23,__FF_ROOT_ADDR+3
003467 91a0 0726 	LDS  R26,__FF_DIR_ADDR
003469 91b0 0727 	LDS  R27,__FF_DIR_ADDR+1
00346b 9180 0728 	LDS  R24,__FF_DIR_ADDR+2
00346d 9190 0729 	LDS  R25,__FF_DIR_ADDR+3
00346f 940e 400a 	CALL __CPD12
003471 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x29:
003472 89ee      	LDD  R30,Y+22
003473 89ff      	LDD  R31,Y+22+1
003474 5aea      	SUBI R30,LOW(-__FF_FULL_PATH)
003475 4ff8      	SBCI R31,HIGH(-__FF_FULL_PATH)
003476 81e0      	LD   R30,Z
003477 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x2A:
003478 89ee      	LDD  R30,Y+22
003479 89ff      	LDD  R31,Y+22+1
00347a 9631      	ADIW R30,1
00347b 8bee      	STD  Y+22,R30
00347c 8bff      	STD  Y+22+1,R31
00347d 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x2B:
00347e 5fec      	SUBI R30,LOW(-__FF_buff)
00347f 4ffa      	SBCI R31,HIGH(-__FF_buff)
003480 81e0      	LD   R30,Z
003481 30e0      	CPI  R30,0
003482 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x2C:
003483 5fec      	SUBI R30,LOW(-__FF_buff)
003484 4ffa      	SBCI R31,HIGH(-__FF_buff)
003485 81e0      	LD   R30,Z
003486 93ea      	ST   -Y,R30
003487 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x2D:
003488 2766      	CLR  R22
003489 2777      	CLR  R23
00348a 87ee
00348b 87ff
00348c 8b68
00348d 8b79      	__PUTD1S 14
00348e 5fec      	SUBI R30,LOW(-__FF_buff)
00348f 4ffa      	SBCI R31,HIGH(-__FF_buff)
003490 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x2E:
003491 e0ea      	LDI  R30,LOW(10)
003492 93ea      	ST   -Y,R30
003493 940e 0642 	CALL _putchar
003495 e0ed      	LDI  R30,LOW(13)
003496 93ea      	ST   -Y,R30
003497 940c 0642 	JMP  _putchar
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x2F:
003499 81e0      	LD   R30,Z
00349a 27ff      	CLR  R31
00349b 2766      	CLR  R22
00349c 2777      	CLR  R23
00349d 940e 3d26 	CALL __ORD12
00349f 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 12 TIMES
                 SUBOPT_0x30:
0034a0 81f0      	LD   R31,Z
0034a1 e0e0      	LDI  R30,LOW(0)
0034a2 01df      	MOVW R26,R30
0034a3 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 7 TIMES
                 SUBOPT_0x31:
0034a4 81e0      	LD   R30,Z
0034a5 e0f0      	LDI  R31,0
0034a6 2bea      	OR   R30,R26
0034a7 2bfb      	OR   R31,R27
0034a8 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x32:
0034a9 89ec      	LDD  R30,Y+20
0034aa 89fd      	LDD  R31,Y+20+1
0034ab 93fa      	ST   -Y,R31
0034ac 93ea      	ST   -Y,R30
0034ad 940e 1065 	CALL _clust_to_addr
0034af 83ee
0034b0 83ff
0034b1 8768
0034b2 8779      	__PUTD1S 6
0034b3 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x33:
0034b4 940e 3db7 	CALL __MULD12
0034b6 91a0 071e 	LDS  R26,__FF_PART_ADDR
0034b8 91b0 071f 	LDS  R27,__FF_PART_ADDR+1
0034ba 9180 0720 	LDS  R24,__FF_PART_ADDR+2
0034bc 9190 0721 	LDS  R25,__FF_PART_ADDR+3
0034be 940e 3d12 	CALL __ADDD12
0034c0 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x34:
0034c1 01f3      	MOVW R30,R6
0034c2 81a8
0034c3 81b9
0034c4 818a
0034c5 819b      	__GETD2S 0
0034c6 2766      	CLR  R22
0034c7 2777      	CLR  R23
0034c8 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x35:
0034c9 01f3      	MOVW R30,R6
0034ca 95f6      	LSR  R31
0034cb 95e7      	ROR  R30
0034cc 85ad      	LDD  R26,Y+13
0034cd 85be      	LDD  R27,Y+13+1
0034ce 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x36:
0034cf 940e 3dcf 	CALL __DIVW21U
0034d1 0de9      	ADD  R30,R9
0034d2 1dfa      	ADC  R31,R10
0034d3 018f      	MOVW R16,R30
0034d4 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x37:
0034d5 940e 3e19 	CALL __MODW21U
0034d7 0fee      	LSL  R30
0034d8 1fff      	ROL  R31
0034d9 019f      	MOVW R18,R30
0034da 01f8      	MOVW R30,R16
0034db 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x38:
0034dc 0fee      	LSL  R30
0034dd 1fff      	ROL  R31
0034de 2ffe      	MOV  R31,R30
0034df e0e0      	LDI  R30,0
0034e0 91a0 071e 	LDS  R26,__FF_PART_ADDR
0034e2 91b0 071f 	LDS  R27,__FF_PART_ADDR+1
0034e4 9180 0720 	LDS  R24,__FF_PART_ADDR+2
0034e6 9190 0721 	LDS  R25,__FF_PART_ADDR+3
0034e8 2766      	CLR  R22
0034e9 2777      	CLR  R23
0034ea 940e 3d12 	CALL __ADDD12
0034ec 83ee
0034ed 83ff
0034ee 8768
0034ef 8779      	__PUTD1S 6
0034f0 85ac      	LDD  R26,Y+12
0034f1 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x39:
0034f2 91e0 073d 	LDS  R30,__FF_buff_addr
0034f4 91f0 073e 	LDS  R31,__FF_buff_addr+1
0034f6 9160 073f 	LDS  R22,__FF_buff_addr+2
0034f8 9170 0740 	LDS  R23,__FF_buff_addr+3
0034fa 81ae
0034fb 81bf
0034fc 8588
0034fd 8599      	__GETD2S 6
0034fe 940e 400a 	CALL __CPD12
003500 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES
                 SUBOPT_0x3A:
003501 91e0 072e 	LDS  R30,__FF_FAT2_ADDR
003503 91f0 072f 	LDS  R31,__FF_FAT2_ADDR+1
003505 9160 0730 	LDS  R22,__FF_FAT2_ADDR+2
003507 9170 0731 	LDS  R23,__FF_FAT2_ADDR+3
003509 91a0 073d 	LDS  R26,__FF_buff_addr
00350b 91b0 073e 	LDS  R27,__FF_buff_addr+1
00350d 9180 073f 	LDS  R24,__FF_buff_addr+2
00350f 9190 0740 	LDS  R25,__FF_buff_addr+3
003511 940e 400f 	CALL __CPD21
003513 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES
                 SUBOPT_0x3B:
003514 91a0 072a 	LDS  R26,__FF_FAT1_ADDR
003516 91b0 072b 	LDS  R27,__FF_FAT1_ADDR+1
003518 9180 072c 	LDS  R24,__FF_FAT1_ADDR+2
00351a 9190 072d 	LDS  R25,__FF_FAT1_ADDR+3
00351c 91e0 072e 	LDS  R30,__FF_FAT2_ADDR
00351e 91f0 072f 	LDS  R31,__FF_FAT2_ADDR+1
003520 9160 0730 	LDS  R22,__FF_FAT2_ADDR+2
003522 9170 0731 	LDS  R23,__FF_FAT2_ADDR+3
003524 940e 3d1c 	CALL __SUBD12
003526 91a0 073d 	LDS  R26,__FF_buff_addr
003528 91b0 073e 	LDS  R27,__FF_buff_addr+1
00352a 9180 073f 	LDS  R24,__FF_buff_addr+2
00352c 9190 0740 	LDS  R25,__FF_buff_addr+3
00352e 940e 3d12 	CALL __ADDD12
003530 940e 3e66 	CALL __PUTPARD1
003532 940e 0ca1 	CALL __FF_write
003534 30e0      	CPI  R30,0
003535 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES
                 SUBOPT_0x3C:
003536 91e0 073d 	LDS  R30,__FF_buff_addr
003538 91f0 073e 	LDS  R31,__FF_buff_addr+1
00353a 9160 073f 	LDS  R22,__FF_buff_addr+2
00353c 9170 0740 	LDS  R23,__FF_buff_addr+3
00353e 940e 3e66 	CALL __PUTPARD1
003540 940e 0ca1 	CALL __FF_write
003542 30e0      	CPI  R30,0
003543 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x3D:
003544 e0a4      	LDI  R26,LOW(__FF_buff)
003545 e0b5      	LDI  R27,HIGH(__FF_buff)
003546 0fa2      	ADD  R26,R18
003547 1fb3      	ADC  R27,R19
003548 91ec      	LD   R30,X
003549 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x3E:
00354a 85ad      	LDD  R26,Y+13
00354b 85be      	LDD  R27,Y+13+1
00354c e0e3      	LDI  R30,LOW(3)
00354d e0f0      	LDI  R31,HIGH(3)
00354e 940e 3d8a 	CALL __MULW12U
003550 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x3F:
003551 01f3      	MOVW R30,R6
003552 01d9      	MOVW R26,R18
003553 cf7b      	RJMP SUBOPT_0x36
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x40:
003554 01f3      	MOVW R30,R6
003555 01d9      	MOVW R26,R18
003556 940e 3e19 	CALL __MODW21U
003558 019f      	MOVW R18,R30
003559 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x41:
00355a 01f3      	MOVW R30,R6
00355b 9731      	SBIW R30,1
00355c 17e2      	CP   R30,R18
00355d 07f3      	CPC  R31,R19
00355e 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x42:
00355f 2fe0      	MOV  R30,R16
003560 81aa      	LDD  R26,Y+2
003561 81bb      	LDD  R27,Y+2+1
003562 e0f0      	LDI  R31,0
003563 0fae      	ADD  R26,R30
003564 1fbf      	ADC  R27,R31
003565 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 6 TIMES
                 SUBOPT_0x43:
003566 91ec      	LD   R30,X
003567 93ea      	ST   -Y,R30
003568 940c 3ccf 	JMP  _toupper
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x44:
00356a e0f0      	LDI  R31,0
00356b 54e6      	SUBI R30,LOW(-_FILENAME)
00356c 4ff8      	SBCI R31,HIGH(-_FILENAME)
00356d 01df      	MOVW R26,R30
00356e e2e0      	LDI  R30,LOW(32)
00356f 93ec      	ST   X,R30
003570 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x45:
003571 89e9      	LDD  R30,Y+17
003572 89fa      	LDD  R31,Y+17+1
003573 85a9
003574 85ba
003575 858b
003576 859c      	__GETD2S 9
003577 2766      	CLR  R22
003578 2777      	CLR  R23
003579 940e 400a 	CALL __CPD12
00357b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x46:
00357c e0ed      	LDI  R30,LOW(13)
00357d 93e0 073c 	STS  __FF_error,R30
00357f e0e0      	LDI  R30,LOW(0)
003580 e0f0      	LDI  R31,HIGH(0)
003581 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x47:
003582 81ed
003583 81fe
003584 816f
003585 8578      	__GETD1S 5
003586 50e0
003587 4ffe
003588 4f6f
003589 4f7f      	__ADDD1N 512
00358a 83ed
00358b 83fe
00358c 836f
00358d 8778      	__PUTD1S 5
00358e 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x48:
00358f 85ef      	LDD  R30,Y+15
003590 89f8      	LDD  R31,Y+15+1
003591 9631      	ADIW R30,1
003592 87ef      	STD  Y+15,R30
003593 8bf8      	STD  Y+15+1,R31
003594 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x49:
003595 e0e0      	LDI  R30,LOW(0)
003596 85a9
003597 85ba
003598 858b
003599 859c      	__GETD2S 9
00359a 2766      	CLR  R22
00359b 2777      	CLR  R23
00359c 940e 3d26 	CALL __ORD12
00359e 87e9
00359f 87fa
0035a0 876b
0035a1 877c      	__PUTD1S 9
0035a2 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x4A:
0035a3 01f3      	MOVW R30,R6
0035a4 95f6      	LSR  R31
0035a5 95e7      	ROR  R30
0035a6 89aa      	LDD  R26,Y+18
0035a7 89bb      	LDD  R27,Y+18+1
0035a8 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x4B:
0035a9 87eb
0035aa 87fc
0035ab 876d
0035ac 877e      	__PUTD1S 11
0035ad 85af      	LDD  R26,Y+15
0035ae 30a1      	CPI  R26,LOW(0x1)
0035af 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x4C:
0035b0 91e0 073d 	LDS  R30,__FF_buff_addr
0035b2 91f0 073e 	LDS  R31,__FF_buff_addr+1
0035b4 9160 073f 	LDS  R22,__FF_buff_addr+2
0035b6 9170 0740 	LDS  R23,__FF_buff_addr+3
0035b8 85ab
0035b9 85bc
0035ba 858d
0035bb 859e      	__GETD2S 11
0035bc 940e 400a 	CALL __CPD12
0035be 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x4D:
0035bf 93ec      	ST   X,R30
0035c0 85af      	LDD  R26,Y+15
0035c1 30a1      	CPI  R26,LOW(0x1)
0035c2 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 7 TIMES
                 SUBOPT_0x4E:
0035c3 91a0 072a 	LDS  R26,__FF_FAT1_ADDR
0035c5 91b0 072b 	LDS  R27,__FF_FAT1_ADDR+1
0035c7 9180 072c 	LDS  R24,__FF_FAT1_ADDR+2
0035c9 9190 072d 	LDS  R25,__FF_FAT1_ADDR+3
0035cb 91e0 072e 	LDS  R30,__FF_FAT2_ADDR
0035cd 91f0 072f 	LDS  R31,__FF_FAT2_ADDR+1
0035cf 9160 0730 	LDS  R22,__FF_FAT2_ADDR+2
0035d1 9170 0731 	LDS  R23,__FF_FAT2_ADDR+3
0035d3 940e 3d1c 	CALL __SUBD12
0035d5 85ab
0035d6 85bc
0035d7 858d
0035d8 859e      	__GETD2S 11
0035d9 940e 3d12 	CALL __ADDD12
0035db 940e 3e66 	CALL __PUTPARD1
0035dd 940e 0ca1 	CALL __FF_write
0035df 30e0      	CPI  R30,0
0035e0 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 7 TIMES
                 SUBOPT_0x4F:
0035e1 85eb
0035e2 85fc
0035e3 856d
0035e4 857e      	__GETD1S 11
0035e5 940e 3e66 	CALL __PUTPARD1
0035e7 940e 0ca1 	CALL __FF_write
0035e9 30e0      	CPI  R30,0
0035ea 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x50:
0035eb 89aa      	LDD  R26,Y+18
0035ec 89bb      	LDD  R27,Y+18+1
0035ed e0e3      	LDI  R30,LOW(3)
0035ee e0f0      	LDI  R31,HIGH(3)
0035ef 940e 3d8a 	CALL __MULW12U
0035f1 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x51:
0035f2 70ef      	ANDI R30,LOW(0xF)
0035f3 2f4e      	MOV  R20,R30
0035f4 2755      	CLR  R21
0035f5 01f9      	MOVW R30,R18
0035f6 5fec      	SUBI R30,LOW(-__FF_buff)
0035f7 4ffa      	SBCI R31,HIGH(-__FF_buff)
0035f8 010f      	MOVW R0,R30
0035f9 81ee      	LDD  R30,Y+6
0035fa 95e2      	SWAP R30
0035fb 7fe0      	ANDI R30,0xF0
0035fc 01da      	MOVW R26,R20
0035fd e0f0      	LDI  R31,0
0035fe 2bea      	OR   R30,R26
0035ff 2bfb      	OR   R31,R27
003600 01d0      	MOVW R26,R0
003601 93ec      	ST   X,R30
003602 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x52:
003603 01f3      	MOVW R30,R6
003604 85ab
003605 85bc
003606 858d
003607 859e      	__GETD2S 11
003608 2766      	CLR  R22
003609 2777      	CLR  R23
00360a 940e 3d12 	CALL __ADDD12
00360c 87eb
00360d 87fc
00360e 876d
00360f 877e      	__PUTD1S 11
003610 cd6c      	RJMP SUBOPT_0xC
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x53:
003611 85e8      	LDD  R30,Y+8
003612 95e2      	SWAP R30
003613 7fe0      	ANDI R30,0xF0
003614 81af      	LDD  R26,Y+7
003615 2bea      	OR   R30,R26
003616 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x54:
003617 93e0 0504 	STS  __FF_buff,R30
003619 85af      	LDD  R26,Y+15
00361a 30a1      	CPI  R26,LOW(0x1)
00361b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x55:
00361c 01f9      	MOVW R30,R18
00361d 5fec      	SUBI R30,LOW(-__FF_buff)
00361e 4ffa      	SBCI R31,HIGH(-__FF_buff)
00361f 010f      	MOVW R0,R30
003620 81ef      	LDD  R30,Y+7
003621 95e2      	SWAP R30
003622 7fe0      	ANDI R30,0xF0
003623 81ae      	LDD  R26,Y+6
003624 2bea      	OR   R30,R26
003625 01d0      	MOVW R26,R0
003626 93ec      	ST   X,R30
003627 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x56:
003628 7fe0      	ANDI R30,LOW(0xF0)
003629 2f4e      	MOV  R20,R30
00362a 2755      	CLR  R21
00362b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x57:
00362c 85e8      	LDD  R30,Y+8
00362d 01da      	MOVW R26,R20
00362e e0f0      	LDI  R31,0
00362f 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x58:
003630 85eb      	LDD  R30,Y+11
003631 85fc      	LDD  R31,Y+11+1
003632 89a6
003633 89b7
003634 8d80
003635 8d91      	__GETD2Z 22
003636 940e 3e6b 	CALL __PUTPARD2
003638 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x59:
003639 85ab      	LDD  R26,Y+11
00363a 85bc      	LDD  R27,Y+11+1
00363b 965a      	ADIW R26,26
00363c 940e 3e4d 	CALL __GETW1P
00363e 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x5A:
00363f 85ab      	LDD  R26,Y+11
003640 85bc      	LDD  R27,Y+11+1
003641 961c      	ADIW R26,12
003642 940e 3e4d 	CALL __GETW1P
003644 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x5B:
003645 81ef
003646 85f8
003647 8569
003648 857a      	__GETD1S 7
003649 7fef
00364a 70f0
00364b 7060
00364c 7070      	__ANDD1N 0xFF
00364d 2fa1
00364e 2fb2      	__GETW2R 17,18
00364f 93ec      	ST   X,R30
003650 81af
003651 85b8
003652 8589
003653 859a      	__GETD2S 7
003654 e0e8      	LDI  R30,LOW(8)
003655 940e 3d4d 	CALL __LSRD12
003657 83ef
003658 87f8
003659 8769
00365a 877a      	__PUTD1S 7
00365b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x5C:
00365c 940e 4016 	CALL __SAVELOCR4
00365e 81ec      	LDD  R30,Y+4
00365f 81fd      	LDD  R31,Y+4+1
003660 9730      	SBIW R30,0
003661 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x5D:
003662 933a      	ST   -Y,R19
003663 932a      	ST   -Y,R18
003664 e0e0      	LDI  R30,LOW(0)
003665 93ea      	ST   -Y,R30
003666 940c 110b 	JMP  _next_cluster
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x5E:
003668 933a      	ST   -Y,R19
003669 932a      	ST   -Y,R18
00366a e0e0      	LDI  R30,LOW(0)
00366b e0f0      	LDI  R31,HIGH(0)
00366c 93fa      	ST   -Y,R31
00366d 93ea      	ST   -Y,R30
00366e 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x5F:
00366f e0e0      	LDI  R30,LOW(0)
003670 93ea      	ST   -Y,R30
003671 940e 1414 	CALL _write_clus_table
003673 30e0      	CPI  R30,0
003674 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x60:
003675 e0e2      	LDI  R30,LOW(2)
003676 93ea      	ST   -Y,R30
003677 940e 1414 	CALL _write_clus_table
003679 30e0      	CPI  R30,0
00367a 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x61:
00367b 01df      	MOVW R26,R30
00367c e0e0      	LDI  R30,LOW(0)
00367d 93ec      	ST   X,R30
00367e 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 15 TIMES
                 SUBOPT_0x62:
00367f 940e 3e66 	CALL __PUTPARD1
003681 940e 0ca1 	CALL __FF_write
003683 30e0      	CPI  R30,0
003684 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x63:
003685 e0e3      	LDI  R30,LOW(3)
003686 93e0 073c 	STS  __FF_error,R30
003688 efef      	LDI  R30,LOW(65535)
003689 efff      	LDI  R31,HIGH(65535)
00368a 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x64:
00368b 01d9      	MOVW R26,R18
00368c 91ac      	LD   R26,X
00368d 35ac      	CPI  R26,LOW(0x5C)
00368e 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x65:
00368f 01d9      	MOVW R26,R18
003690 91ec      	LD   R30,X
003691 30e0      	CPI  R30,0
003692 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x66:
003693 01d9      	MOVW R26,R18
003694 91ac      	LD   R26,X
003695 32ae      	CPI  R26,LOW(0x2E)
003696 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 7 TIMES
                 SUBOPT_0x67:
003697 01d8      	MOVW R26,R16
003698 e0e0      	LDI  R30,LOW(0)
003699 93ec      	ST   X,R30
00369a 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x68:
00369b 93fa      	ST   -Y,R31
00369c 93ea      	ST   -Y,R30
00369d 940e 1b75 	CALL __FF_chdir
00369f 9730      	SBIW R30,0
0036a0 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x69:
0036a1 93fa      	ST   -Y,R31
0036a2 93ea      	ST   -Y,R30
0036a3 01fe      	MOVW R30,R28
0036a4 963c      	ADIW R30,12
0036a5 93fa      	ST   -Y,R31
0036a6 93ea      	ST   -Y,R30
0036a7 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 7 TIMES
                 SUBOPT_0x6A:
0036a8 93fa      	ST   -Y,R31
0036a9 93ea      	ST   -Y,R30
0036aa 940e 16ec 	CALL __FF_checkdir
0036ac 9730      	SBIW R30,0
0036ad 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 12 TIMES
                 SUBOPT_0x6B:
0036ae 85ea
0036af 85fb
0036b0 856c
0036b1 857d      	__GETD1S 10
0036b2 93e0 0726 	STS  __FF_DIR_ADDR,R30
0036b4 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
0036b6 9360 0728 	STS  __FF_DIR_ADDR+2,R22
0036b8 9370 0729 	STS  __FF_DIR_ADDR+3,R23
0036ba efef      	LDI  R30,LOW(65535)
0036bb efff      	LDI  R31,HIGH(65535)
0036bc 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x6C:
0036bd 93fa      	ST   -Y,R31
0036be 93ea      	ST   -Y,R30
0036bf 940e 0d61 	CALL _scan_directory
0036c1 87ee      	STD  Y+14,R30
0036c2 87ff      	STD  Y+14+1,R31
0036c3 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x6D:
0036c4 e0e0      	LDI  R30,LOW(0)
0036c5 e0f0      	LDI  R31,HIGH(0)
0036c6 93fa      	ST   -Y,R31
0036c7 93ea      	ST   -Y,R30
0036c8 940c 1277 	JMP  _prev_cluster
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x6E:
0036ca 01f3      	MOVW R30,R6
0036cb 81ae
0036cc 81bf
0036cd 8588
0036ce 8599      	__GETD2S 6
0036cf 2766      	CLR  R22
0036d0 2777      	CLR  R23
0036d1 940e 3e1c 	CALL __MODD21U
0036d3 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x6F:
0036d4 81ae
0036d5 81bf
0036d6 8588
0036d7 8599      	__GETD2S 6
0036d8 2766      	CLR  R22
0036d9 2777      	CLR  R23
0036da 940e 3d21 	CALL __SUBD21
0036dc 83ae
0036dd 83bf
0036de 8788
0036df 8799      	__PUTD2S 6
0036e0 81ee
0036e1 81ff
0036e2 8568
0036e3 8579      	__GETD1S 6
0036e4 cc98      	RJMP SUBOPT_0xC
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x70:
0036e5 e0e0      	LDI  R30,LOW(0)
0036e6 93ec      	ST   X,R30
0036e7 01d8      	MOVW R26,R16
0036e8 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x71:
0036e9 93fa      	ST   -Y,R31
0036ea 93ea      	ST   -Y,R30
0036eb e0e1      	LDI  R30,LOW(1)
0036ec 93ea      	ST   -Y,R30
0036ed 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES
                 SUBOPT_0x72:
0036ee e0a4      	LDI  R26,LOW(__FF_buff)
0036ef e0b5      	LDI  R27,HIGH(__FF_buff)
0036f0 0fa4      	ADD  R26,R20
0036f1 1fb5      	ADC  R27,R21
0036f2 e0e0      	LDI  R30,LOW(0)
0036f3 93ec      	ST   X,R30
0036f4 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x73:
0036f5 e0a4      	LDI  R26,LOW(__FF_buff)
0036f6 e0b5      	LDI  R27,HIGH(__FF_buff)
0036f7 0fa4      	ADD  R26,R20
0036f8 1fb5      	ADC  R27,R21
0036f9 e2e0      	LDI  R30,LOW(32)
0036fa 93ec      	ST   X,R30
0036fb 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x74:
0036fc 2766      	CLR  R22
0036fd 2777      	CLR  R23
0036fe e0a0
0036ff e0b2
003700 e080
003701 e090      	__GETD2N 0x200
003702 940e 3db7 	CALL __MULD12
003704 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x75:
003705 01d8      	MOVW R26,R16
003706 91ec      	LD   R30,X
003707 30e0      	CPI  R30,0
003708 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x76:
003709 93fa      	ST   -Y,R31
00370a 93ea      	ST   -Y,R30
00370b 01fe      	MOVW R30,R28
00370c 9637      	ADIW R30,7
00370d 93fa      	ST   -Y,R31
00370e 93ea      	ST   -Y,R30
00370f 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x77:
003710 81ed
003711 81fe
003712 816f
003713 8578      	__GETD1S 5
003714 93e0 0726 	STS  __FF_DIR_ADDR,R30
003716 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
003718 9360 0728 	STS  __FF_DIR_ADDR+2,R22
00371a 9370 0729 	STS  __FF_DIR_ADDR+3,R23
00371c efef      	LDI  R30,LOW(65535)
00371d efff      	LDI  R31,HIGH(65535)
00371e 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x78:
00371f e5e6      	LDI  R30,LOW(__FF_FULL_PATH)
003720 e0f7      	LDI  R31,HIGH(__FF_FULL_PATH)
003721 93fa      	ST   -Y,R31
003722 93ea      	ST   -Y,R30
003723 940e 3c80 	CALL _strlen
003725 5aea      	SUBI R30,LOW(-__FF_FULL_PATH)
003726 4ff8      	SBCI R31,HIGH(-__FF_FULL_PATH)
003727 018f      	MOVW R16,R30
003728 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x79:
003729 01f9      	MOVW R30,R18
00372a 81e1      	LDD  R30,Z+1
00372b 32ee      	CPI  R30,LOW(0x2E)
00372c 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x7A:
00372d e5e6      	LDI  R30,LOW(__FF_FULL_PATH)
00372e e0f7      	LDI  R31,HIGH(__FF_FULL_PATH)
00372f 93fa      	ST   -Y,R31
003730 93ea      	ST   -Y,R30
003731 e5ec      	LDI  R30,LOW(92)
003732 93ea      	ST   -Y,R30
003733 940c 3cc2 	JMP  _strrpos
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x7B:
003735 e0f0      	LDI  R31,0
003736 5aea      	SUBI R30,LOW(-__FF_FULL_PATH)
003737 4ff8      	SBCI R31,HIGH(-__FF_FULL_PATH)
003738 cf42      	RJMP SUBOPT_0x61
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x7C:
003739 e0f0      	LDI  R31,0
00373a fde7      	SBRC R30,7
00373b efff      	SER  R31
00373c 87ed      	STD  Y+13,R30
00373d 87fe      	STD  Y+13+1,R31
00373e 85ad      	LDD  R26,Y+13
00373f 85be      	LDD  R27,Y+13+1
003740 3faf      	CPI  R26,LOW(0xFFFF)
003741 efef      	LDI  R30,HIGH(0xFFFF)
003742 07be      	CPC  R27,R30
003743 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x7D:
003744 85ed      	LDD  R30,Y+13
003745 85fe      	LDD  R31,Y+13+1
003746 5aea      	SUBI R30,LOW(-__FF_FULL_PATH)
003747 4ff8      	SBCI R31,HIGH(-__FF_FULL_PATH)
003748 018f      	MOVW R16,R30
003749 cf4d      	RJMP SUBOPT_0x67
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x7E:
00374a e5ec      	LDI  R30,LOW(92)
00374b 93ec      	ST   X,R30
00374c cf4a      	RJMP SUBOPT_0x67
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x7F:
00374d 01d9      	MOVW R26,R18
00374e e0e0      	LDI  R30,LOW(0)
00374f 93ec      	ST   X,R30
003750 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x80:
003751 0fee      	LSL  R30
003752 1fff      	ROL  R31
003753 2ffe      	MOV  R31,R30
003754 e0e0      	LDI  R30,0
003755 91a0 0726 	LDS  R26,__FF_DIR_ADDR
003757 91b0 0727 	LDS  R27,__FF_DIR_ADDR+1
003759 9180 0728 	LDS  R24,__FF_DIR_ADDR+2
00375b 9190 0729 	LDS  R25,__FF_DIR_ADDR+3
00375d 2766      	CLR  R22
00375e 2777      	CLR  R23
00375f 940e 3d12 	CALL __ADDD12
003761 940e 3e66 	CALL __PUTPARD1
003763 940c 0c33 	JMP  __FF_read
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x81:
003765 85ef      	LDD  R30,Y+15
003766 89f8      	LDD  R31,Y+15+1
003767 0fee      	LSL  R30
003768 1fff      	ROL  R31
003769 940e 3d59 	CALL __LSLW4
00376b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x82:
00376c 85ed      	LDD  R30,Y+13
00376d 85fe      	LDD  R31,Y+13+1
00376e 01de      	MOVW R26,R28
00376f 9653      	ADIW R26,19
003770 0fae      	ADD  R26,R30
003771 1fbf      	ADC  R27,R31
003772 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x83:
003773 85ed      	LDD  R30,Y+13
003774 85fe      	LDD  R31,Y+13+1
003775 85a9      	LDD  R26,Y+9
003776 85ba      	LDD  R27,Y+9+1
003777 0fea      	ADD  R30,R26
003778 1ffb      	ADC  R31,R27
003779 5fec      	SUBI R30,LOW(-__FF_buff)
00377a 4ffa      	SBCI R31,HIGH(-__FF_buff)
00377b 81e0      	LD   R30,Z
00377c 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x84:
00377d 85ed      	LDD  R30,Y+13
00377e 85fe      	LDD  R31,Y+13+1
00377f 9631      	ADIW R30,1
003780 87ed      	STD  Y+13,R30
003781 87fe      	STD  Y+13+1,R31
003782 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x85:
003783 85ed      	LDD  R30,Y+13
003784 85fe      	LDD  R31,Y+13+1
003785 93fa      	ST   -Y,R31
003786 93ea      	ST   -Y,R30
003787 940c 1065 	JMP  _clust_to_addr
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x86:
003789 85eb      	LDD  R30,Y+11
00378a 85fc      	LDD  R31,Y+11+1
00378b 9631      	ADIW R30,1
00378c 87eb      	STD  Y+11,R30
00378d 87fc      	STD  Y+11+1,R31
00378e 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x87:
00378f 81ef      	LDD  R30,Y+7
003790 85f8      	LDD  R31,Y+7+1
003791 9631      	ADIW R30,1
003792 83ef      	STD  Y+7,R30
003793 87f8      	STD  Y+7+1,R31
003794 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x88:
003795 976c      	SBIW R28,28
003796 940e 4014 	CALL __SAVELOCR6
003798 e0e0
003799 87ec
00379a 87ed
00379b 87ee
00379c 87ef      	__CLRD1S 12
00379d a1eb      	LDD  R30,Y+35
00379e a1fc      	LDD  R31,Y+35+1
00379f 93fa      	ST   -Y,R31
0037a0 93ea      	ST   -Y,R30
0037a1 01fe      	MOVW R30,R28
0037a2 963e      	ADIW R30,14
0037a3 93fa      	ST   -Y,R31
0037a4 93ea      	ST   -Y,R30
0037a5 01fe      	MOVW R30,R28
0037a6 9678      	ADIW R30,24
0037a7 cf00      	RJMP SUBOPT_0x6A
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 18 TIMES
                 SUBOPT_0x89:
0037a8 85ec
0037a9 85fd
0037aa 856e
0037ab 857f      	__GETD1S 12
0037ac 93e0 0726 	STS  __FF_DIR_ADDR,R30
0037ae 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
0037b0 9360 0728 	STS  __FF_DIR_ADDR+2,R22
0037b2 9370 0729 	STS  __FF_DIR_ADDR+3,R23
0037b4 e0e0      	LDI  R30,LOW(0)
0037b5 e0f0      	LDI  R31,HIGH(0)
0037b6 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x8A:
0037b7 91e0 0726 	LDS  R30,__FF_DIR_ADDR
0037b9 91f0 0727 	LDS  R31,__FF_DIR_ADDR+1
0037bb 9160 0728 	LDS  R22,__FF_DIR_ADDR+2
0037bd 9170 0729 	LDS  R23,__FF_DIR_ADDR+3
0037bf 87e8
0037c0 87f9
0037c1 876a
0037c2 877b      	__PUTD1S 8
0037c3 01fe      	MOVW R30,R28
0037c4 9638      	ADIW R30,8
0037c5 93fa      	ST   -Y,R31
0037c6 93ea      	ST   -Y,R30
0037c7 01fe      	MOVW R30,R28
0037c8 9676      	ADIW R30,22
0037c9 93fa      	ST   -Y,R31
0037ca 93ea      	ST   -Y,R30
0037cb 940e 0d61 	CALL _scan_directory
0037cd 019f      	MOVW R18,R30
0037ce 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x8B:
0037cf 83ee      	STD  Y+6,R30
0037d0 83ff      	STD  Y+6+1,R31
0037d1 9730      	SBIW R30,0
0037d2 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x8C:
0037d3 01f3      	MOVW R30,R6
0037d4 85a8
0037d5 85b9
0037d6 858a
0037d7 859b      	__GETD2S 8
0037d8 2766      	CLR  R22
0037d9 2777      	CLR  R23
0037da 940e 3e1c 	CALL __MODD21U
0037dc 01af      	MOVW R20,R30
0037dd 01fa      	MOVW R30,R20
0037de 85a8
0037df 85b9
0037e0 858a
0037e1 859b      	__GETD2S 8
0037e2 2766      	CLR  R22
0037e3 2777      	CLR  R23
0037e4 940e 3d21 	CALL __SUBD21
0037e6 87a8
0037e7 87b9
0037e8 878a
0037e9 879b      	__PUTD2S 8
0037ea 85e8
0037eb 85f9
0037ec 856a
0037ed 857b      	__GETD1S 8
0037ee cb8e      	RJMP SUBOPT_0xC
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x8D:
0037ef 01fe      	MOVW R30,R28
0037f0 9674      	ADIW R30,20
0037f1 93fa      	ST   -Y,R31
0037f2 93ea      	ST   -Y,R30
0037f3 940e 122d 	CALL _file_name_conversion
0037f5 8be8      	STD  Y+16,R30
0037f6 8bf9      	STD  Y+16+1,R31
0037f7 9730      	SBIW R30,0
0037f8 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 6 TIMES
                 SUBOPT_0x8E:
0037f9 81ee      	LDD  R30,Y+6
0037fa 81ff      	LDD  R31,Y+6+1
0037fb 93fa      	ST   -Y,R31
0037fc 93ea      	ST   -Y,R30
0037fd 940e 3312 	CALL _free
0037ff cfa8      	RJMP SUBOPT_0x89
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x8F:
003800 01fa      	MOVW R30,R20
003801 5fec      	SUBI R30,LOW(-__FF_buff)
003802 4ffa      	SBCI R31,HIGH(-__FF_buff)
003803 8bea      	STD  Y+18,R30
003804 8bfb      	STD  Y+18+1,R31
003805 2e02      	MOV  R0,R18
003806 2a03      	OR   R0,R19
003807 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x90:
003808 e0eb      	LDI  R30,LOW(11)
003809 93e0 073c 	STS  __FF_error,R30
00380b cfed      	RJMP SUBOPT_0x8E
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES
                 SUBOPT_0x91:
00380c 0fa0      	ADD  R26,R16
00380d 1fb1      	ADC  R27,R17
00380e 91ec      	LD   R30,X
00380f 01d0      	MOVW R26,R0
003810 93ec      	ST   X,R30
003811 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x92:
003812 81ae      	LDD  R26,Y+6
003813 81bf      	LDD  R27,Y+6+1
003814 961c      	ADIW R26,12
003815 940e 3e4d 	CALL __GETW1P
003817 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x93:
003818 81ae      	LDD  R26,Y+6
003819 81bf      	LDD  R27,Y+6+1
00381a 9652      	ADIW R26,18
00381b e0e0      	LDI  R30,LOW(0)
00381c e0f0      	LDI  R31,HIGH(0)
00381d 93ed      	ST   X+,R30
00381e 93fc      	ST   X,R31
00381f 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x94:
003820 81ae      	LDD  R26,Y+6
003821 81bf      	LDD  R27,Y+6+1
003822 5ea4      	SUBI R26,LOW(-540)
003823 4fbd      	SBCI R27,HIGH(-540)
003824 e0e0
003825 e0f0
003826 e060
003827 e070      	__GETD1N 0x0
003828 940e 3e57 	CALL __PUTDP1
00382a 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x95:
00382b 01fa      	MOVW R30,R20
00382c 5fec      	SUBI R30,LOW(-__FF_buff)
00382d 4ffa      	SBCI R31,HIGH(-__FF_buff)
00382e 967f      	ADIW R30,31
00382f 8bea      	STD  Y+18,R30
003830 8bfb      	STD  Y+18+1,R31
003831 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x96:
003832 89aa      	LDD  R26,Y+18
003833 89bb      	LDD  R27,Y+18+1
003834 9711      	SBIW R26,1
003835 8baa      	STD  Y+18,R26
003836 8bbb      	STD  Y+18+1,R27
003837 9611      	ADIW R26,1
003838 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x97:
003839 81ae      	LDD  R26,Y+6
00383a 81bf      	LDD  R27,Y+6+1
00383b 5ea4      	SUBI R26,LOW(-540)
00383c 4fbd      	SBCI R27,HIGH(-540)
00383d 940e 3e51 	CALL __GETD1P
00383f 940e 3ff8 	CALL __CPD10
003841 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x98:
003842 0fee      	LSL  R30
003843 1fff      	ROL  R31
003844 2ffe      	MOV  R31,R30
003845 e0e0      	LDI  R30,0
003846 91a0 0726 	LDS  R26,__FF_DIR_ADDR
003848 91b0 0727 	LDS  R27,__FF_DIR_ADDR+1
00384a 9180 0728 	LDS  R24,__FF_DIR_ADDR+2
00384c 9190 0729 	LDS  R25,__FF_DIR_ADDR+3
00384e 2766      	CLR  R22
00384f 2777      	CLR  R23
003850 940e 3d12 	CALL __ADDD12
003852 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x99:
003853 81ee      	LDD  R30,Y+6
003854 81ff      	LDD  R31,Y+6+1
003855 85a4      	LDD  R26,Z+12
003856 85b5      	LDD  R27,Z+13
003857 93ba      	ST   -Y,R27
003858 93aa      	ST   -Y,R26
003859 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 12 TIMES
                 SUBOPT_0x9A:
00385a 81ee      	LDD  R30,Y+6
00385b 81ff      	LDD  R31,Y+6+1
00385c 85a6      	LDD  R26,Z+14
00385d 85b7      	LDD  R27,Z+15
00385e 93ba      	ST   -Y,R27
00385f 93aa      	ST   -Y,R26
003860 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x9B:
003861 e0e1      	LDI  R30,LOW(1)
003862 93ea      	ST   -Y,R30
003863 940c 110b 	JMP  _next_cluster
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x9C:
003865 81ae      	LDD  R26,Y+6
003866 81bf      	LDD  R27,Y+6+1
003867 9654      	ADIW R26,20
003868 e0e1      	LDI  R30,LOW(1)
003869 e0f0      	LDI  R31,HIGH(1)
00386a 93ed      	ST   X+,R30
00386b 93fc      	ST   X,R31
00386c 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 6 TIMES
                 SUBOPT_0x9D:
00386d 81ee      	LDD  R30,Y+6
00386e 81ff      	LDD  R31,Y+6+1
00386f 967c      	ADIW R30,28
003870 0fe0      	ADD  R30,R16
003871 1ff1      	ADC  R31,R17
003872 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x9E:
003873 010f      	MOVW R0,R30
003874 e0a4      	LDI  R26,LOW(__FF_buff)
003875 e0b5      	LDI  R27,HIGH(__FF_buff)
003876 cf95      	RJMP SUBOPT_0x91
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x9F:
003877 e0e5      	LDI  R30,LOW(5)
003878 93e0 073c 	STS  __FF_error,R30
00387a cf2d      	RJMP SUBOPT_0x89
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xA0:
00387b 89ea      	LDD  R30,Y+18
00387c 89fb      	LDD  R31,Y+18+1
00387d 9631      	ADIW R30,1
00387e 8bea      	STD  Y+18,R30
00387f 8bfb      	STD  Y+18+1,R31
003880 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 11 TIMES
                 SUBOPT_0xA1:
003881 89aa      	LDD  R26,Y+18
003882 89bb      	LDD  R27,Y+18+1
003883 9611      	ADIW R26,1
003884 8baa      	STD  Y+18,R26
003885 8bbb      	STD  Y+18+1,R27
003886 9711      	SBIW R26,1
003887 e0e0      	LDI  R30,LOW(0)
003888 93ec      	ST   X,R30
003889 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0xA2:
00388a 93e0 073c 	STS  __FF_error,R30
00388c 85e8
00388d 85f9
00388e 856a
00388f 857b      	__GETD1S 8
003890 93e0 0726 	STS  __FF_DIR_ADDR,R30
003892 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
003894 9360 0728 	STS  __FF_DIR_ADDR+2,R22
003896 9370 0729 	STS  __FF_DIR_ADDR+3,R23
003898 efef      	LDI  R30,LOW(65535)
003899 efff      	LDI  R31,HIGH(65535)
00389a 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xA3:
00389b 01f3      	MOVW R30,R6
00389c 81ac
00389d 81bd
00389e 818e
00389f 819f      	__GETD2S 4
0038a0 2766      	CLR  R22
0038a1 2777      	CLR  R23
0038a2 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xA4:
0038a3 e0e4      	LDI  R30,LOW(4)
0038a4 93e0 073c 	STS  __FF_error,R30
0038a6 efef      	LDI  R30,LOW(65535)
0038a7 efff      	LDI  R31,HIGH(65535)
0038a8 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xA5:
0038a9 e0e5      	LDI  R30,LOW(5)
0038aa 93e0 073c 	STS  __FF_error,R30
0038ac efef      	LDI  R30,LOW(65535)
0038ad efff      	LDI  R31,HIGH(65535)
0038ae 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xA6:
0038af 93e0 073c 	STS  __FF_error,R30
0038b1 8de9
0038b2 8dfa
0038b3 8d6b
0038b4 8d7c      	__GETD1S 25
0038b5 93e0 0726 	STS  __FF_DIR_ADDR,R30
0038b7 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
0038b9 9360 0728 	STS  __FF_DIR_ADDR+2,R22
0038bb 9370 0729 	STS  __FF_DIR_ADDR+3,R23
0038bd efef      	LDI  R30,LOW(65535)
0038be efff      	LDI  R31,HIGH(65535)
0038bf 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xA7:
0038c0 91e0 0726 	LDS  R30,__FF_DIR_ADDR
0038c2 91f0 0727 	LDS  R31,__FF_DIR_ADDR+1
0038c4 9160 0728 	LDS  R22,__FF_DIR_ADDR+2
0038c6 9170 0729 	LDS  R23,__FF_DIR_ADDR+3
0038c8 8bed
0038c9 8bfe
0038ca 8b6f
0038cb 8f78      	__PUTD1S 21
0038cc 01fe      	MOVW R30,R28
0038cd 9675      	ADIW R30,21
0038ce 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xA8:
0038cf 8de9
0038d0 8dfa
0038d1 8d6b
0038d2 8d7c      	__GETD1S 25
0038d3 93e0 0726 	STS  __FF_DIR_ADDR,R30
0038d5 93f0 0727 	STS  __FF_DIR_ADDR+1,R31
0038d7 9360 0728 	STS  __FF_DIR_ADDR+2,R22
0038d9 9370 0729 	STS  __FF_DIR_ADDR+3,R23
0038db e1e0      	LDI  R30,LOW(16)
0038dc 93e0 073c 	STS  __FF_error,R30
0038de efef      	LDI  R30,LOW(65535)
0038df efff      	LDI  R31,HIGH(65535)
0038e0 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xA9:
0038e1 9724      	SBIW R28,4
0038e2 931a      	ST   -Y,R17
0038e3 930a      	ST   -Y,R16
0038e4 81ae      	LDD  R26,Y+6
0038e5 81bf      	LDD  R27,Y+6+1
0038e6 940e 3ffc 	CALL __CPW02
0038e8 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 6 TIMES
                 SUBOPT_0xAA:
0038e9 81ae      	LDD  R26,Y+6
0038ea 81bf      	LDD  R27,Y+6+1
0038eb 5dac      	SUBI R26,LOW(-548)
0038ec 4fbd      	SBCI R27,HIGH(-548)
0038ed 91ac      	LD   R26,X
0038ee 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0xAB:
0038ef 81ae      	LDD  R26,Y+6
0038f0 81bf      	LDD  R27,Y+6+1
0038f1 9654      	ADIW R26,20
0038f2 940e 3e4d 	CALL __GETW1P
0038f4 cac2      	RJMP SUBOPT_0x13
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 5 TIMES
                 SUBOPT_0xAC:
0038f5 2766      	CLR  R22
0038f6 2777      	CLR  R23
0038f7 940e 3d12 	CALL __ADDD12
0038f9 83ea
0038fa 83fb
0038fb 836c
0038fc 837d      	__PUTD1S 2
0038fd 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0xAD:
0038fe 01d8      	MOVW R26,R16
0038ff 5fac      	SUBI R26,LOW(-__FF_buff)
003900 4fba      	SBCI R27,HIGH(-__FF_buff)
003901 cf6b      	RJMP SUBOPT_0x9D
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0xAE:
003902 81ee      	LDD  R30,Y+6
003903 81ff      	LDD  R31,Y+6+1
003904 93fa      	ST   -Y,R31
003905 93ea      	ST   -Y,R30
003906 940e 158f 	CALL _append_toc
003908 30e0      	CPI  R30,0
003909 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xAF:
00390a 5dac      	SUBI R26,LOW(-548)
00390b 4fbd      	SBCI R27,HIGH(-548)
00390c 91ac      	LD   R26,X
00390d 30a1      	CPI  R26,LOW(0x1)
00390e 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xB0:
00390f 81e8      	LD   R30,Y
003910 81f9      	LDD  R31,Y+1
003911 93fa      	ST   -Y,R31
003912 93ea      	ST   -Y,R30
003913 940c 3312 	JMP  _free
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xB1:
003915 83ed      	STD  Y+5,R30
003916 83fe      	STD  Y+5+1,R31
003917 9631      	ADIW R30,1
003918 83ed      	STD  Y+5,R30
003919 83fe      	STD  Y+5+1,R31
00391a 9731      	SBIW R30,1
00391b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0xB2:
00391c 85a9      	LDD  R26,Y+9
00391d 85ba      	LDD  R27,Y+9+1
00391e e0e5      	LDI  R30,LOW(5)
00391f 940e 3d38 	CALL __LSRW12
003921 70ef
003922 70f0
003923 7060
003924 7070      	__ANDD1N 0xF
003925 01df      	MOVW R26,R30
003926 01cb      	MOVW R24,R22
003927 e0ea
003928 e0f0
003929 e060
00392a e070      	__GETD1N 0xA
00392b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 18 TIMES
                 SUBOPT_0xB3:
00392c 93ec      	ST   X,R30
00392d 81ed      	LDD  R30,Y+5
00392e 81fe      	LDD  R31,Y+5+1
00392f 9631      	ADIW R30,1
003930 83ed      	STD  Y+5,R30
003931 83fe      	STD  Y+5+1,R31
003932 9731      	SBIW R30,1
003933 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0xB4:
003934 93ec      	ST   X,R30
003935 81ad      	LDD  R26,Y+5
003936 81be      	LDD  R27,Y+5+1
003937 9611      	ADIW R26,1
003938 83ad      	STD  Y+5,R26
003939 83be      	STD  Y+5+1,R27
00393a 9711      	SBIW R26,1
00393b e2ef      	LDI  R30,LOW(47)
00393c 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0xB5:
00393d 85e9
00393e 85fa
00393f 856b
003940 857c      	__GETD1S 9
003941 71ef
003942 70f0
003943 7060
003944 7070      	__ANDD1N 0x1F
003945 01df      	MOVW R26,R30
003946 01cb      	MOVW R24,R22
003947 e0ea
003948 e0f0
003949 e060
00394a e070      	__GETD1N 0xA
00394b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xB6:
00394c 93ec      	ST   X,R30
00394d 85a9      	LDD  R26,Y+9
00394e 85ba      	LDD  R27,Y+9+1
00394f e0e9      	LDI  R30,LOW(9)
003950 940e 3d38 	CALL __LSRW12
003952 77ef
003953 70f0
003954 7060
003955 7070      	__ANDD1N 0x7F
003956 54e4
003957 4ff8
003958 4f6f
003959 4f7f      	__ADDD1N 1980
00395a 87e9
00395b 87fa
00395c 876b
00395d 877c      	__PUTD1S 9
00395e 81ed      	LDD  R30,Y+5
00395f 81fe      	LDD  R31,Y+5+1
003960 9631      	ADIW R30,1
003961 83ed      	STD  Y+5,R30
003962 83fe      	STD  Y+5+1,R31
003963 9731      	SBIW R30,1
003964 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xB7:
003965 85a9
003966 85ba
003967 858b
003968 859c      	__GETD2S 9
003969 eee8
00396a e0f3
00396b e060
00396c e070      	__GETD1N 0x3E8
00396d 940e 3de2 	CALL __DIVD21U
00396f 5de0
003970 4fff
003971 4f6f
003972 4f7f      	__ADDD1N 48
003973 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xB8:
003974 93ec      	ST   X,R30
003975 85a9
003976 85ba
003977 858b
003978 859c      	__GETD2S 9
003979 eee8
00397a e0f3
00397b e060
00397c e070      	__GETD1N 0x3E8
00397d 940e 3e1c 	CALL __MODD21U
00397f 87e9
003980 87fa
003981 876b
003982 877c      	__PUTD1S 9
003983 81ed      	LDD  R30,Y+5
003984 81fe      	LDD  R31,Y+5+1
003985 9631      	ADIW R30,1
003986 83ed      	STD  Y+5,R30
003987 83fe      	STD  Y+5+1,R31
003988 9731      	SBIW R30,1
003989 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xB9:
00398a 85a9
00398b 85ba
00398c 858b
00398d 859c      	__GETD2S 9
00398e e6e4
00398f e0f0
003990 e060
003991 e070      	__GETD1N 0x64
003992 940e 3de2 	CALL __DIVD21U
003994 5de0
003995 4fff
003996 4f6f
003997 4f7f      	__ADDD1N 48
003998 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xBA:
003999 93ec      	ST   X,R30
00399a 85a9
00399b 85ba
00399c 858b
00399d 859c      	__GETD2S 9
00399e e6e4
00399f e0f0
0039a0 e060
0039a1 e070      	__GETD1N 0x64
0039a2 940e 3e1c 	CALL __MODD21U
0039a4 87e9
0039a5 87fa
0039a6 876b
0039a7 877c      	__PUTD1S 9
0039a8 81ed      	LDD  R30,Y+5
0039a9 81fe      	LDD  R31,Y+5+1
0039aa 9631      	ADIW R30,1
0039ab 83ed      	STD  Y+5,R30
0039ac 83fe      	STD  Y+5+1,R31
0039ad 9731      	SBIW R30,1
0039ae 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xBB:
0039af 85a9
0039b0 85ba
0039b1 858b
0039b2 859c      	__GETD2S 9
0039b3 e0ea
0039b4 e0f0
0039b5 e060
0039b6 e070      	__GETD1N 0xA
0039b7 940e 3de2 	CALL __DIVD21U
0039b9 5de0
0039ba 4fff
0039bb 4f6f
0039bc 4f7f      	__ADDD1N 48
0039bd 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xBC:
0039be 85a9
0039bf 85ba
0039c0 858b
0039c1 859c      	__GETD2S 9
0039c2 e0ea
0039c3 e0f0
0039c4 e060
0039c5 e070      	__GETD1N 0xA
0039c6 940e 3e1c 	CALL __MODD21U
0039c8 5de0
0039c9 4fff
0039ca 4f6f
0039cb 4f7f      	__ADDD1N 48
0039cc 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0xBD:
0039cd 93ec      	ST   X,R30
0039ce 81ad      	LDD  R26,Y+5
0039cf 81be      	LDD  R27,Y+5+1
0039d0 9611      	ADIW R26,1
0039d1 83ad      	STD  Y+5,R26
0039d2 83be      	STD  Y+5+1,R27
0039d3 9711      	SBIW R26,1
0039d4 e2e0      	LDI  R30,LOW(32)
0039d5 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xBE:
0039d6 87e9
0039d7 87fa
0039d8 876b
0039d9 877c      	__PUTD1S 9
0039da 81ed      	LDD  R30,Y+5
0039db 81fe      	LDD  R31,Y+5+1
0039dc 9631      	ADIW R30,1
0039dd 83ed      	STD  Y+5,R30
0039de 83fe      	STD  Y+5+1,R31
0039df 9731      	SBIW R30,1
0039e0 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0xBF:
0039e1 85a9      	LDD  R26,Y+9
0039e2 85ba      	LDD  R27,Y+9+1
0039e3 e0eb      	LDI  R30,LOW(11)
0039e4 940e 3d38 	CALL __LSRW12
0039e6 71ef
0039e7 70f0
0039e8 7060
0039e9 7070      	__ANDD1N 0x1F
0039ea 01df      	MOVW R26,R30
0039eb 01cb      	MOVW R24,R22
0039ec e0ea
0039ed e0f0
0039ee e060
0039ef e070      	__GETD1N 0xA
0039f0 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0xC0:
0039f1 93ec      	ST   X,R30
0039f2 81ad      	LDD  R26,Y+5
0039f3 81be      	LDD  R27,Y+5+1
0039f4 9611      	ADIW R26,1
0039f5 83ad      	STD  Y+5,R26
0039f6 83be      	STD  Y+5+1,R27
0039f7 9711      	SBIW R26,1
0039f8 e3ea      	LDI  R30,LOW(58)
0039f9 cf32      	RJMP SUBOPT_0xB3
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0xC1:
0039fa 85a9      	LDD  R26,Y+9
0039fb 85ba      	LDD  R27,Y+9+1
0039fc e0e5      	LDI  R30,LOW(5)
0039fd 940e 3d38 	CALL __LSRW12
0039ff 73ef
003a00 70f0
003a01 7060
003a02 7070      	__ANDD1N 0x3F
003a03 01df      	MOVW R26,R30
003a04 01cb      	MOVW R24,R22
003a05 e0ea
003a06 e0f0
003a07 e060
003a08 e070      	__GETD1N 0xA
003a09 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0xC2:
003a0a 85e9
003a0b 85fa
003a0c 856b
003a0d 857c      	__GETD1S 9
003a0e 71ef
003a0f 70f0
003a10 7060
003a11 7070      	__ANDD1N 0x1F
003a12 0fee      	LSL  R30
003a13 01df      	MOVW R26,R30
003a14 01cb      	MOVW R24,R22
003a15 e0ea
003a16 e0f0
003a17 e060
003a18 e070      	__GETD1N 0xA
003a19 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xC3:
003a1a 93ec      	ST   X,R30
003a1b 81ad      	LDD  R26,Y+5
003a1c 81be      	LDD  R27,Y+5+1
003a1d e0e0      	LDI  R30,LOW(0)
003a1e 93ec      	ST   X,R30
003a1f 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xC4:
003a20 e0e2      	LDI  R30,LOW(2)
003a21 93e0 073c 	STS  __FF_error,R30
003a23 efef      	LDI  R30,LOW(65535)
003a24 efff      	LDI  R31,HIGH(65535)
003a25 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0xC5:
003a26 81af      	LDD  R26,Y+7
003a27 85b8      	LDD  R27,Y+7+1
003a28 5ea0      	SUBI R26,LOW(-544)
003a29 4fbd      	SBCI R27,HIGH(-544)
003a2a 940e 3e51 	CALL __GETD1P
003a2c 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0xC6:
003a2d 5dab      	SUBI R26,LOW(-549)
003a2e 4fbd      	SBCI R27,HIGH(-549)
003a2f e0ea      	LDI  R30,LOW(10)
003a30 93ec      	ST   X,R30
003a31 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xC7:
003a32 81af      	LDD  R26,Y+7
003a33 85b8      	LDD  R27,Y+7+1
003a34 5da9      	SUBI R26,LOW(-551)
003a35 4fbd      	SBCI R27,HIGH(-551)
003a36 940e 3e4d 	CALL __GETW1P
003a38 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xC8:
003a39 965c      	ADIW R26,28
003a3a 01f3      	MOVW R30,R6
003a3b 9731      	SBIW R30,1
003a3c 0fea      	ADD  R30,R26
003a3d 1ffb      	ADC  R31,R27
003a3e 15e0      	CP   R30,R0
003a3f 05f1      	CPC  R31,R1
003a40 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xC9:
003a41 81af      	LDD  R26,Y+7
003a42 85b8      	LDD  R27,Y+7+1
003a43 5dac      	SUBI R26,LOW(-548)
003a44 4fbd      	SBCI R27,HIGH(-548)
003a45 91ac      	LD   R26,X
003a46 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xCA:
003a47 81ef      	LDD  R30,Y+7
003a48 85f8      	LDD  R31,Y+7+1
003a49 967c      	ADIW R30,28
003a4a 0fe1      	ADD  R30,R17
003a4b 1ff2      	ADC  R31,R18
003a4c 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xCB:
003a4d 81ef      	LDD  R30,Y+7
003a4e 85f8      	LDD  R31,Y+7+1
003a4f 85a6      	LDD  R26,Z+14
003a50 85b7      	LDD  R27,Z+15
003a51 93ba      	ST   -Y,R27
003a52 93aa      	ST   -Y,R26
003a53 940c 1065 	JMP  _clust_to_addr
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xCC:
003a55 81af      	LDD  R26,Y+7
003a56 85b8      	LDD  R27,Y+7+1
003a57 9654      	ADIW R26,20
003a58 940e 3e4d 	CALL __GETW1P
003a5a 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xCD:
003a5b 2766      	CLR  R22
003a5c 2777      	CLR  R23
003a5d 940e 3d12 	CALL __ADDD12
003a5f 83eb
003a60 83fc
003a61 836d
003a62 837e      	__PUTD1S 3
003a63 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xCE:
003a64 89a4      	LDD  R26,Z+20
003a65 89b5      	LDD  R27,Z+21
003a66 2de8      	MOV  R30,R8
003a67 e0f0      	LDI  R31,0
003a68 17ae      	CP   R26,R30
003a69 07bf      	CPC  R27,R31
003a6a 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xCF:
003a6b 89a4      	LDD  R26,Z+20
003a6c 89b5      	LDD  R27,Z+21
003a6d 01f3      	MOVW R30,R6
003a6e 940e 3d8a 	CALL __MULW12U
003a70 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0xD0:
003a71 5daa      	SUBI R26,LOW(-550)
003a72 4fbd      	SBCI R27,HIGH(-550)
003a73 e0e1      	LDI  R30,LOW(1)
003a74 93ec      	ST   X,R30
003a75 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xD1:
003a76 5fef
003a77 4fff
003a78 4f6f
003a79 4f7f      	__SUBD1N -1
003a7a 940e 3e57 	CALL __PUTDP1
003a7c 2fe0      	MOV  R30,R16
003a7d e0f0      	LDI  R31,0
003a7e 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xD2:
003a7f 9654      	ADIW R26,20
003a80 e0e1      	LDI  R30,LOW(1)
003a81 e0f0      	LDI  R31,HIGH(1)
003a82 93ed      	ST   X+,R30
003a83 93fc      	ST   X,R31
003a84 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 9 TIMES
                 SUBOPT_0xD3:
003a85 81ae      	LDD  R26,Y+6
003a86 81bf      	LDD  R27,Y+6+1
003a87 5ea0      	SUBI R26,LOW(-544)
003a88 4fbd      	SBCI R27,HIGH(-544)
003a89 940e 3e51 	CALL __GETD1P
003a8b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 8 TIMES
                 SUBOPT_0xD4:
003a8c 81ae      	LDD  R26,Y+6
003a8d 81bf      	LDD  R27,Y+6+1
003a8e 5ea4      	SUBI R26,LOW(-540)
003a8f 4fbd      	SBCI R27,HIGH(-540)
003a90 940e 3e51 	CALL __GETD1P
003a92 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0xD5:
003a93 81ae      	LDD  R26,Y+6
003a94 81bf      	LDD  R27,Y+6+1
003a95 5daa      	SUBI R26,LOW(-550)
003a96 4fbd      	SBCI R27,HIGH(-550)
003a97 91ec      	LD   R30,X
003a98 30e0      	CPI  R30,0
003a99 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xD6:
003a9a 81ae      	LDD  R26,Y+6
003a9b 81bf      	LDD  R27,Y+6+1
003a9c 5daa      	SUBI R26,LOW(-550)
003a9d 4fbd      	SBCI R27,HIGH(-550)
003a9e e0e0      	LDI  R30,LOW(0)
003a9f 93ec      	ST   X,R30
003aa0 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 8 TIMES
                 SUBOPT_0xD7:
003aa1 81ae      	LDD  R26,Y+6
003aa2 81bf      	LDD  R27,Y+6+1
003aa3 5da9      	SUBI R26,LOW(-551)
003aa4 4fbd      	SBCI R27,HIGH(-551)
003aa5 940e 3e4d 	CALL __GETW1P
003aa7 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xD8:
003aa8 85a8      	LDD  R26,Y+8
003aa9 83a0      	STD  Z+0,R26
003aaa cff6      	RJMP SUBOPT_0xD7
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0xD9:
003aab 81ae      	LDD  R26,Y+6
003aac 81bf      	LDD  R27,Y+6+1
003aad 9654      	ADIW R26,20
003aae 940e 3e4d 	CALL __GETW1P
003ab0 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0xDA:
003ab1 81ae      	LDD  R26,Y+6
003ab2 81bf      	LDD  R27,Y+6+1
003ab3 961e      	ADIW R26,14
003ab4 940e 3e4d 	CALL __GETW1P
003ab6 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xDB:
003ab7 9724      	SBIW R28,4
003ab8 931a      	ST   -Y,R17
003ab9 930a      	ST   -Y,R16
003aba 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xDC:
003abb 81ae      	LDD  R26,Y+6
003abc 81bf      	LDD  R27,Y+6+1
003abd 9650      	ADIW R26,16
003abe efef      	LDI  R30,LOW(65535)
003abf efff      	LDI  R31,HIGH(65535)
003ac0 93ed      	ST   X+,R30
003ac1 93fc      	ST   X,R31
003ac2 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xDD:
003ac3 85e8      	LDD  R30,Y+8
003ac4 85f9      	LDD  R31,Y+8+1
003ac5 89a0      	LDD  R26,Z+16
003ac6 89b1      	LDD  R27,Z+17
003ac7 93ba      	ST   -Y,R27
003ac8 93aa      	ST   -Y,R26
003ac9 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xDE:
003aca e0e1      	LDI  R30,LOW(1)
003acb 93ea      	ST   -Y,R30
003acc 940e 1414 	CALL _write_clus_table
003ace 30e0      	CPI  R30,0
003acf 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xDF:
003ad0 89a9      	LDD  R26,Y+17
003ad1 89ba      	LDD  R27,Y+17+1
003ad2 5ea4      	SUBI R26,LOW(-540)
003ad3 4fbd      	SBCI R27,HIGH(-540)
003ad4 940e 3e51 	CALL __GETD1P
003ad6 85ad
003ad7 85be
003ad8 858f
003ad9 8998      	__GETD2S 13
003ada 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xE0:
003adb e0ea      	LDI  R30,LOW(10)
003adc 93e0 073c 	STS  __FF_error,R30
003ade efef      	LDI  R30,LOW(65535)
003adf efff      	LDI  R31,HIGH(65535)
003ae0 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xE1:
003ae1 01f3      	MOVW R30,R6
003ae2 85a8
003ae3 85b9
003ae4 858a
003ae5 859b      	__GETD2S 8
003ae6 2766      	CLR  R22
003ae7 2777      	CLR  R23
003ae8 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xE2:
003ae9 940e 3e4d 	CALL __GETW1P
003aeb 9631      	ADIW R30,1
003aec 93ed      	ST   X+,R30
003aed 93fc      	ST   X,R31
003aee 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xE3:
003aef 81a8      	LD   R26,Y
003af0 81b9      	LDD  R27,Y+1
003af1 5ea0      	SUBI R26,LOW(-544)
003af2 4fbd      	SBCI R27,HIGH(-544)
003af3 940e 3e51 	CALL __GETD1P
003af5 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xE4:
003af6 91ec      	LD   R30,X
003af7 27ff      	CLR  R31
003af8 2766      	CLR  R22
003af9 2777      	CLR  R23
003afa 940e 3e66 	CALL __PUTPARD1
003afc 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0xE5:
003afd 81ad      	LDD  R26,Y+5
003afe 81be      	LDD  R27,Y+5+1
003aff e0e0      	LDI  R30,LOW(0)
003b00 93ec      	ST   X,R30
003b01 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0xE6:
003b02 93fa      	ST   -Y,R31
003b03 93ea      	ST   -Y,R30
003b04 91e0 073c 	LDS  R30,__FF_error
003b06 27ff      	CLR  R31
003b07 2766      	CLR  R22
003b08 2777      	CLR  R23
003b09 940e 3e66 	CALL __PUTPARD1
003b0b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0xE7:
003b0c 940e 0632 	CALL _getchar
003b0e 2f0e      	MOV  R16,R30
003b0f 930a      	ST   -Y,R16
003b10 940c 0642 	JMP  _putchar
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xE8:
003b12 930a      	ST   -Y,R16
003b13 940e 0d0d 	CALL _ascii_to_char
003b15 2f0e      	MOV  R16,R30
003b16 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 9 TIMES
                 SUBOPT_0xE9:
003b17 93fa      	ST   -Y,R31
003b18 93ea      	ST   -Y,R30
003b19 e0e0      	LDI  R30,LOW(0)
003b1a 93ea      	ST   -Y,R30
003b1b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xEA:
003b1c e0e0      	LDI  R30,LOW(0)
003b1d e0f0      	LDI  R31,HIGH(0)
003b1e 93fa      	ST   -Y,R31
003b1f 93ea      	ST   -Y,R30
003b20 940c 2990 	JMP  _print_result
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 11 TIMES
                 SUBOPT_0xEB:
003b22 940e 3228 	CALL _printf
003b24 9622      	ADIW R28,2
003b25 01fe      	MOVW R30,R28
003b26 96fb      	ADIW R30,59
003b27 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 7 TIMES
                 SUBOPT_0xEC:
003b28 93fa      	ST   -Y,R31
003b29 93ea      	ST   -Y,R30
003b2a e1e8      	LDI  R30,LOW(24)
003b2b e0f0      	LDI  R31,HIGH(24)
003b2c 93fa      	ST   -Y,R31
003b2d 93ea      	ST   -Y,R30
003b2e 940e 2949 	CALL _get_input_str
003b30 9730      	SBIW R30,0
003b31 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0xED:
003b32 940e 3228 	CALL _printf
003b34 9622      	ADIW R28,2
003b35 91e0 07c7 	LDS  R30,_file1
003b37 91f0 07c8 	LDS  R31,_file1+1
003b39 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 10 TIMES
                 SUBOPT_0xEE:
003b3a efef      	LDI  R30,LOW(65535)
003b3b efff      	LDI  R31,HIGH(65535)
003b3c 93fa      	ST   -Y,R31
003b3d 93ea      	ST   -Y,R30
003b3e 940c 2990 	JMP  _print_result
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xEF:
003b40 940e 3228 	CALL _printf
003b42 9622      	ADIW R28,2
003b43 940c 2943 	JMP  _flush_receive
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xF0:
003b45 01fe      	MOVW R30,R28
003b46 5aed      	SUBI R30,LOW(-(83))
003b47 4fff      	SBCI R31,HIGH(-(83))
003b48 93fa      	ST   -Y,R31
003b49 93ea      	ST   -Y,R30
003b4a e0ec      	LDI  R30,LOW(12)
003b4b e0f0      	LDI  R31,HIGH(12)
003b4c 93fa      	ST   -Y,R31
003b4d 93ea      	ST   -Y,R30
003b4e 940e 2949 	CALL _get_input_str
003b50 9730      	SBIW R30,0
003b51 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xF1:
003b52 940e 0632 	CALL _getchar
003b54 2f2e      	MOV  R18,R30
003b55 2733      	CLR  R19
003b56 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xF2:
003b57 93fa      	ST   -Y,R31
003b58 93ea      	ST   -Y,R30
003b59 85ed
003b5a 85fe
003b5b 856f
003b5c 8978      	__GETD1S 13
003b5d 940e 3e66 	CALL __PUTPARD1
003b5f 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0xF3:
003b60 940e 3228 	CALL _printf
003b62 9622      	ADIW R28,2
003b63 940c 0632 	JMP  _getchar
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xF4:
003b65 940e 3228 	CALL _printf
003b67 9622      	ADIW R28,2
003b68 e0e7      	LDI  R30,LOW(7)
003b69 93ea      	ST   -Y,R30
003b6a 940c 29b3 	JMP  _get_addr_entry
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xF5:
003b6c 940e 3228 	CALL _printf
003b6e 9622      	ADIW R28,2
003b6f e0e4      	LDI  R30,LOW(4)
003b70 93ea      	ST   -Y,R30
003b71 940c 29b3 	JMP  _get_addr_entry
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xF6:
003b73 93fa      	ST   -Y,R31
003b74 93ea      	ST   -Y,R30
003b75 81ee
003b76 81ff
003b77 8568
003b78 8579      	__GETD1S 6
003b79 940e 3e66 	CALL __PUTPARD1
003b7b 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xF7:
003b7c 940e 0632 	CALL _getchar
003b7e 2f0e      	MOV  R16,R30
003b7f 2711      	CLR  R17
003b80 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xF8:
003b81 91e0 07c7 	LDS  R30,_file1
003b83 91f0 07c8 	LDS  R31,_file1+1
003b85 93fa      	ST   -Y,R31
003b86 93ea      	ST   -Y,R30
003b87 940e 22d3 	CALL _fgetc
003b89 93ea      	ST   -Y,R30
003b8a 940c 0642 	JMP  _putchar
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0xF9:
003b8c 93ea      	ST   -Y,R30
003b8d 91e0 07c7 	LDS  R30,_file1
003b8f 91f0 07c8 	LDS  R31,_file1+1
003b91 93fa      	ST   -Y,R31
003b92 93ea      	ST   -Y,R30
003b93 940c 23cb 	JMP  _ungetc
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xFA:
003b95 931a      	ST   -Y,R17
003b96 930a      	ST   -Y,R16
003b97 e0e0      	LDI  R30,LOW(0)
003b98 93ea      	ST   -Y,R30
003b99 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0xFB:
003b9a 81ae      	LDD  R26,Y+6
003b9b 81bf      	LDD  R27,Y+6+1
003b9c 9611      	ADIW R26,1
003b9d 83ae      	STD  Y+6,R26
003b9e 83bf      	STD  Y+6+1,R27
003b9f 9711      	SBIW R26,1
003ba0 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xFC:
003ba1 e0e0
003ba2 e0f0
003ba3 e260
003ba4 e471      	__GETD1N 0x41200000
003ba5 940e 3f97 	CALL __DIVF21
003ba7 e0a0
003ba8 e0b0
003ba9 e080
003baa e39f      	__GETD2N 0x3F000000
003bab 940e 3f17 	CALL __ADDF12
003bad 940e 3e66 	CALL __PUTPARD1
003baf 940c 3d05 	JMP  _floor
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xFD:
003bb1 940e 3f97 	CALL __DIVF21
003bb3 940e 3ea6 	CALL __CFD1
003bb5 2f1e      	MOV  R17,R30
003bb6 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0xFE:
003bb7 2fe1      	MOV  R30,R17
003bb8 5de0      	SUBI R30,-LOW(48)
003bb9 93ec      	ST   X,R30
003bba 2fe1      	MOV  R30,R17
003bbb 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0xFF:
003bbc 940e 3e70 	CALL __SWAPD12
003bbe 940e 3f10 	CALL __SUBF12
003bc0 87e9
003bc1 87fa
003bc2 876b
003bc3 877c      	__PUTD1S 9
003bc4 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x100:
003bc5 81ae      	LDD  R26,Y+6
003bc6 81bf      	LDD  R27,Y+6+1
003bc7 e0e0      	LDI  R30,LOW(0)
003bc8 93ec      	ST   X,R30
003bc9 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x101:
003bca 81ab
003bcb 81bc
003bcc 818d
003bcd 819e      	__GETD2S 3
003bce e0e0
003bcf e0f0
003bd0 e260
003bd1 e471      	__GETD1N 0x41200000
003bd2 940e 3f65 	CALL __MULF12
003bd4 83eb
003bd5 83fc
003bd6 836d
003bd7 837e      	__PUTD1S 3
003bd8 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x102:
003bd9 81eb
003bda 81fc
003bdb 816d
003bdc 817e      	__GETD1S 3
003bdd 85ab
003bde 85bc
003bdf 858d
003be0 859e      	__GETD2S 11
003be1 940e 3fd8 	CALL __CMPF12
003be3 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x103:
003be4 85ab
003be5 85bc
003be6 858d
003be7 859e      	__GETD2S 11
003be8 e0e0
003be9 e0f0
003bea e260
003beb e471      	__GETD1N 0x41200000
003bec 940e 3f97 	CALL __DIVF21
003bee 87eb
003bef 87fc
003bf0 876d
003bf1 877e      	__PUTD1S 11
003bf2 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 3 TIMES
                 SUBOPT_0x104:
003bf3 81af      	LDD  R26,Y+7
003bf4 85b8      	LDD  R27,Y+7+1
003bf5 9611      	ADIW R26,1
003bf6 83af      	STD  Y+7,R26
003bf7 87b8      	STD  Y+7+1,R27
003bf8 9711      	SBIW R26,1
003bf9 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x105:
003bfa 9731      	SBIW R30,1
003bfb 01bf      	MOVW R22,R30
003bfc 2fa2      	MOV  R26,R18
003bfd e0ea      	LDI  R30,LOW(10)
003bfe 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x106:
003bff 5de0      	SUBI R30,-LOW(48)
003c00 01db      	MOVW R26,R22
003c01 93ec      	ST   X,R30
003c02 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 4 TIMES
                 SUBOPT_0x107:
003c03 933a      	ST   -Y,R19
003c04 a1eb      	LDD  R30,Y+35
003c05 a1fc      	LDD  R31,Y+35+1
003c06 93fa      	ST   -Y,R31
003c07 93ea      	ST   -Y,R30
003c08 940c 2e9d 	JMP  __put_G2
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 7 TIMES
                 SUBOPT_0x108:
003c0a a1ac      	LDD  R26,Y+36
003c0b a1bd      	LDD  R27,Y+36+1
003c0c 9714      	SBIW R26,4
003c0d a3ac      	STD  Y+36,R26
003c0e a3bd      	STD  Y+36+1,R27
003c0f 9614      	ADIW R26,4
003c10 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 6 TIMES
                 SUBOPT_0x109:
003c11 93ea      	ST   -Y,R30
003c12 a1eb      	LDD  R30,Y+35
003c13 a1fc      	LDD  R31,Y+35+1
003c14 93fa      	ST   -Y,R31
003c15 93ea      	ST   -Y,R30
003c16 940c 2e9d 	JMP  __put_G2
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x10A:
003c18 83ee
003c19 83ff
003c1a 8768
003c1b 8779      	__PUTD1S 6
003c1c e2ed      	LDI  R30,LOW(45)
003c1d 8be9      	STD  Y+17,R30
003c1e 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x10B:
003c1f 85ea      	LDD  R30,Y+10
003c20 85fb      	LDD  R31,Y+10+1
003c21 9631      	ADIW R30,1
003c22 87ea      	STD  Y+10,R30
003c23 87fb      	STD  Y+10+1,R31
003c24 9731      	SBIW R30,1
003c25 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x10C:
003c26 81ee
003c27 81ff
003c28 8568
003c29 8579      	__GETD1S 6
003c2a 940e 3e66 	CALL __PUTPARD1
003c2c 935a      	ST   -Y,R21
003c2d 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x10D:
003c2e 87ea      	STD  Y+10,R30
003c2f 87fb      	STD  Y+10+1,R31
003c30 93fa      	ST   -Y,R31
003c31 93ea      	ST   -Y,R30
003c32 940e 3c80 	CALL _strlen
003c34 2f0e      	MOV  R16,R30
003c35 9508      	RET
                 
                 ;OPTIMIZER ADDED SUBROUTINE, CALLED 2 TIMES
                 SUBOPT_0x10E:
003c36 01d8      	MOVW R26,R16
003c37 9612      	ADIW R26,2
003c38 940e 3e4d 	CALL __GETW1P
003c3a 019f      	MOVW R18,R30
003c3b 9508      	RET
                 
                 _isspace:
003c3c e0e1      	ldi  r30,1
003c3d 91f9      	ld   r31,y+
003c3e 32f0      	cpi  r31,' '
003c3f f029      	breq __isspace1
003c40 30f9      	cpi  r31,9
003c41 f010      	brlo __isspace0
003c42 30fe      	cpi  r31,14
003c43 f008      	brlo __isspace1
                 __isspace0:
003c44 27ee      	clr  r30
                 __isspace1:
003c45 9508      	ret
                 
                 _memmove:
003c46 8199      	ldd  r25,y+1
003c47 8188      	ld   r24,y
003c48 9600      	adiw r24,0
003c49 f0a9      	breq __memmove3
003c4a 81bd      	ldd  r27,y+5
003c4b 81ac      	ldd  r26,y+4
003c4c 81fb      	ldd  r31,y+3
003c4d 81ea      	ldd  r30,y+2
003c4e 17ea      	cp   r30,r26
003c4f 07fb      	cpc  r31,r27
003c50 f071      	breq __memmove3
003c51 f02c      	brlt __memmove1
                 __memmove0:
003c52 9161      	ld   r22,z+
003c53 936d      	st   x+,r22
003c54 9701      	sbiw r24,1
003c55 f7e1      	brne __memmove0
003c56 c008      	rjmp __memmove3
                 __memmove1:
003c57 0fa8      	add  r26,r24
003c58 1fb9      	adc  r27,r25
003c59 0fe8      	add  r30,r24
003c5a 1ff9      	adc  r31,r25
                 __memmove2:
003c5b 9162      	ld   r22,-z
003c5c 936e      	st   -x,r22
003c5d 9701      	sbiw r24,1
003c5e f7e1      	brne __memmove2
                 __memmove3:
003c5f 81fd      	ldd  r31,y+5
003c60 81ec      	ldd  r30,y+4
003c61 9626      	adiw r28,6
003c62 9508      	ret
                 
                 _memset:
003c63 81b9      	ldd  r27,y+1
003c64 81a8      	ld   r26,y
003c65 9610      	adiw r26,0
003c66 f031      	breq __memset1
003c67 81fc      	ldd  r31,y+4
003c68 81eb      	ldd  r30,y+3
003c69 816a      	ldd  r22,y+2
                 __memset0:
003c6a 9361      	st   z+,r22
003c6b 9711      	sbiw r26,1
003c6c f7e9      	brne __memset0
                 __memset1:
003c6d 81eb      	ldd  r30,y+3
003c6e 81fc      	ldd  r31,y+4
003c6f 9625      	adiw r28,5
003c70 9508      	ret
                 
                 _puts:
003c71 91e9      	ld   r30,y+
003c72 91f9      	ld   r31,y+
                 __puts0:
003c73 9161      	ld   r22,z+
003c74 2366      	tst  r22
003c75 f031      	breq __puts1
003c76 93ef      	push r30
003c77 93ff      	push r31
003c78 d004      	rcall __puts2
003c79 91ff      	pop  r31
003c7a 91ef      	pop  r30
003c7b cff7      	rjmp __puts0
                 __puts1:
003c7c e06a      	ldi  r22,10
                 __puts2:
003c7d 936a      	st   -y,r22
003c7e 940c 0642 	jmp _putchar
                 
                 _strlen:
003c80 91a9      	ld   r26,y+
003c81 91b9      	ld   r27,y+
003c82 27ee      	clr  r30
003c83 27ff      	clr  r31
                 __strlen0:
003c84 916d      	ld   r22,x+
003c85 2366      	tst  r22
003c86 f011      	breq __strlen1
003c87 9631      	adiw r30,1
003c88 cffb      	rjmp __strlen0
                 __strlen1:
003c89 9508      	ret
                 
                 _strlenf:
003c8a 27aa      	clr  r26
003c8b 27bb      	clr  r27
003c8c 91e9      	ld   r30,y+
003c8d 91f9      	ld   r31,y+
                 __strlenf0:
003c8e 9005      	lpm  r0,z+
003c8f 2000      	tst  r0
003c90 f011      	breq __strlenf1
003c91 9611      	adiw r26,1
003c92 cffb      	rjmp __strlenf0
                 __strlenf1:
003c93 01fd      	movw r30,r26
003c94 9508      	ret
                 
                 _strncmp:
003c95 2766      	clr  r22
003c96 2777      	clr  r23
003c97 9189      	ld   r24,y+
003c98 91e9      	ld   r30,y+
003c99 91f9      	ld   r31,y+
003c9a 91a9      	ld   r26,y+
003c9b 91b9      	ld   r27,y+
                 __strncmp0:
003c9c 2388      	tst  r24
003c9d f049      	breq __strncmp1
003c9e 958a      	dec  r24
003c9f 916d      	ld   r22,x+
003ca0 9171      	ld   r23,z+
003ca1 1767      	cp   r22,r23
003ca2 f421      	brne __strncmp1
003ca3 2366      	tst  r22
003ca4 f7b9      	brne __strncmp0
                 __strncmp3:
003ca5 27ee      	clr  r30
003ca6 9508      	ret
                 __strncmp1:
003ca7 1b67      	sub  r22,r23
003ca8 f3e1      	breq __strncmp3
003ca9 e0e1      	ldi  r30,1
003caa f408      	brcc __strncmp2
003cab 50e2      	subi r30,2
                 __strncmp2:
003cac 9508      	ret
                 
                 _strpbrkf:
003cad 81bb      	ldd  r27,y+3
003cae 81aa      	ldd  r26,y+2
                 __strpbrkf0:
003caf 916c      	ld   r22,x
003cb0 2366      	tst  r22
003cb1 f061      	breq __strpbrkf2
003cb2 81f9      	ldd  r31,y+1
003cb3 81e8      	ld   r30,y
                 __strpbrkf1:
003cb4 95c8      	lpm 
003cb5 2000      	tst  r0
003cb6 f029      	breq __strpbrkf3
003cb7 9631      	adiw r30,1
003cb8 1560      	cp   r22,r0
003cb9 f7d1      	brne __strpbrkf1
003cba 01fd      	movw r30,r26
003cbb c004      	rjmp __strpbrkf4
                 __strpbrkf3:
003cbc 9611      	adiw r26,1
003cbd cff1      	rjmp __strpbrkf0
                 __strpbrkf2:
003cbe 27ee      	clr  r30
003cbf 27ff      	clr  r31
                 __strpbrkf4:
003cc0 9624      	adiw r28,4
003cc1 9508      	ret
                 
                 _strrpos:
003cc2 9169      	ld   r22,y+
003cc3 91a9      	ld   r26,y+
003cc4 91b9      	ld   r27,y+
003cc5 efef      	ldi  r30,-1
003cc6 27ff      	clr  r31
                 __strrpos0:
003cc7 917d      	ld   r23,x+
003cc8 1767      	cp   r22,r23
003cc9 f409      	brne __strrpos1
003cca 2fef      	mov  r30,r31
                 __strrpos1:
003ccb 95f3      	inc  r31
003ccc 2377      	tst  r23
003ccd f7c9      	brne __strrpos0
003cce 9508      	ret
                 
                 _toupper:
003ccf 91e9      	ld   r30,y+
003cd0 36e1      	cpi  r30,'a'
003cd1 f018      	brlo __toupper0
003cd2 37eb      	cpi  r30,'z'+1
003cd3 f408      	brcc __toupper0
003cd4 52e0      	subi r30,32
                 __toupper0:
003cd5 9508      	ret
                 
                 __ftrunc:
003cd6 817b      	ldd  r23,y+3
003cd7 816a      	ldd  r22,y+2
003cd8 81f9      	ldd  r31,y+1
003cd9 81e8      	ld   r30,y
003cda fb77      	bst  r23,7
003cdb 0f77      	lsl  r23
003cdc fd67      	sbrc r22,7
003cdd 6071      	sbr  r23,1
003cde 2f97      	mov  r25,r23
003cdf 579e      	subi r25,0x7e
003ce0 f081      	breq __ftrunc0
003ce1 f078      	brcs __ftrunc0
003ce2 3198      	cpi  r25,24
003ce3 f490      	brsh __ftrunc1
003ce4 27aa      	clr  r26
003ce5 27bb      	clr  r27
003ce6 2788      	clr  r24
                 __ftrunc2:
003ce7 9408      	sec
003ce8 9587      	ror  r24
003ce9 95b7      	ror  r27
003cea 95a7      	ror  r26
003ceb 959a      	dec  r25
003cec f7d1      	brne __ftrunc2
003ced 23ea      	and  r30,r26
003cee 23fb      	and  r31,r27
003cef 2368      	and  r22,r24
003cf0 c005      	rjmp __ftrunc1
                 __ftrunc0:
003cf1 94e8      	clt
003cf2 2777      	clr  r23
003cf3 27ee      	clr  r30
003cf4 27ff      	clr  r31
003cf5 2766      	clr  r22
                 __ftrunc1:
003cf6 776f      	cbr  r22,0x80
003cf7 9576      	lsr  r23
003cf8 f408      	brcc __ftrunc3
003cf9 6860      	sbr  r22,0x80
                 __ftrunc3:
003cfa f977      	bld  r23,7
003cfb 91a9      	ld   r26,y+
003cfc 91b9      	ld   r27,y+
003cfd 9189      	ld   r24,y+
003cfe 9199      	ld   r25,y+
003cff 17ea      	cp   r30,r26
003d00 07fb      	cpc  r31,r27
003d01 0768      	cpc  r22,r24
003d02 0779      	cpc  r23,r25
003d03 fb97      	bst  r25,7
003d04 9508      	ret
                 
                 _floor:
003d05 dfd0      	rcall __ftrunc
003d06 f409      	brne __floor1
                 __floor0:
003d07 9508      	ret
                 __floor1:
003d08 f7f6      	brtc __floor0
003d09 eb9f      	ldi  r25,0xbf
                 
                 __addfc:
003d0a 27aa      	clr  r26
003d0b 27bb      	clr  r27
003d0c e880      	ldi  r24,0x80
003d0d c209      	rjmp __addf12
                 
                 __ADDW2R15:
003d0e 2400      	CLR  R0
003d0f 0daf      	ADD  R26,R15
003d10 1db0      	ADC  R27,R0
003d11 9508      	RET
                 
                 __ADDD12:
003d12 0fea      	ADD  R30,R26
003d13 1ffb      	ADC  R31,R27
003d14 1f68      	ADC  R22,R24
003d15 1f79      	ADC  R23,R25
003d16 9508      	RET
                 
                 __ADDD21:
003d17 0fae      	ADD  R26,R30
003d18 1fbf      	ADC  R27,R31
003d19 1f86      	ADC  R24,R22
003d1a 1f97      	ADC  R25,R23
003d1b 9508      	RET
                 
                 __SUBD12:
003d1c 1bea      	SUB  R30,R26
003d1d 0bfb      	SBC  R31,R27
003d1e 0b68      	SBC  R22,R24
003d1f 0b79      	SBC  R23,R25
003d20 9508      	RET
                 
                 __SUBD21:
003d21 1bae      	SUB  R26,R30
003d22 0bbf      	SBC  R27,R31
003d23 0b86      	SBC  R24,R22
003d24 0b97      	SBC  R25,R23
003d25 9508      	RET
                 
                 __ORD12:
003d26 2bea      	OR   R30,R26
003d27 2bfb      	OR   R31,R27
003d28 2b68      	OR   R22,R24
003d29 2b79      	OR   R23,R25
003d2a 9508      	RET
                 
                 __ANEGW1:
003d2b 95e0      	COM  R30
003d2c 95f0      	COM  R31
003d2d 9631      	ADIW R30,1
003d2e 9508      	RET
                 
                 __ANEGD1:
003d2f 95e0      	COM  R30
003d30 95f0      	COM  R31
003d31 9560      	COM  R22
003d32 9570      	COM  R23
003d33 5fef      	SUBI R30,-1
003d34 4fff      	SBCI R31,-1
003d35 4f6f      	SBCI R22,-1
003d36 4f7f      	SBCI R23,-1
003d37 9508      	RET
                 
                 __LSRW12:
003d38 23ee      	TST  R30
003d39 2e0e      	MOV  R0,R30
003d3a 01fd      	MOVW R30,R26
003d3b f021      	BREQ __LSRW12R
                 __LSRW12L:
003d3c 95f6      	LSR  R31
003d3d 95e7      	ROR  R30
003d3e 940a      	DEC  R0
003d3f f7e1      	BRNE __LSRW12L
                 __LSRW12R:
003d40 9508      	RET
                 
                 __LSLD12:
003d41 23ee      	TST  R30
003d42 2e0e      	MOV  R0,R30
003d43 01fd      	MOVW R30,R26
003d44 01bc      	MOVW R22,R24
003d45 f031      	BREQ __LSLD12R
                 __LSLD12L:
003d46 0fee      	LSL  R30
003d47 1fff      	ROL  R31
003d48 1f66      	ROL  R22
003d49 1f77      	ROL  R23
003d4a 940a      	DEC  R0
003d4b f7d1      	BRNE __LSLD12L
                 __LSLD12R:
003d4c 9508      	RET
                 
                 __LSRD12:
003d4d 23ee      	TST  R30
003d4e 2e0e      	MOV  R0,R30
003d4f 01fd      	MOVW R30,R26
003d50 01bc      	MOVW R22,R24
003d51 f031      	BREQ __LSRD12R
                 __LSRD12L:
003d52 9576      	LSR  R23
003d53 9567      	ROR  R22
003d54 95f7      	ROR  R31
003d55 95e7      	ROR  R30
003d56 940a      	DEC  R0
003d57 f7d1      	BRNE __LSRD12L
                 __LSRD12R:
003d58 9508      	RET
                 
                 __LSLW4:
003d59 0fee      	LSL  R30
003d5a 1fff      	ROL  R31
                 __LSLW3:
003d5b 0fee      	LSL  R30
003d5c 1fff      	ROL  R31
                 __LSLW2:
003d5d 0fee      	LSL  R30
003d5e 1fff      	ROL  R31
003d5f 0fee      	LSL  R30
003d60 1fff      	ROL  R31
003d61 9508      	RET
                 
                 __LSRW4:
003d62 95f6      	LSR  R31
003d63 95e7      	ROR  R30
                 __LSRW3:
003d64 95f6      	LSR  R31
003d65 95e7      	ROR  R30
                 __LSRW2:
003d66 95f6      	LSR  R31
003d67 95e7      	ROR  R30
003d68 95f6      	LSR  R31
003d69 95e7      	ROR  R30
003d6a 9508      	RET
                 
                 __LSRD1:
003d6b 9576      	LSR  R23
003d6c 9567      	ROR  R22
003d6d 95f7      	ROR  R31
003d6e 95e7      	ROR  R30
003d6f 9508      	RET
                 
                 __LSRD16:
003d70 2fe6      	MOV  R30,R22
003d71 2ff7      	MOV  R31,R23
003d72 e060      	LDI  R22,0
003d73 e070      	LDI  R23,0
003d74 9508      	RET
                 
                 __LSLD16:
003d75 2f6e      	MOV  R22,R30
003d76 2f7f      	MOV  R23,R31
003d77 e0e0      	LDI  R30,0
003d78 e0f0      	LDI  R31,0
003d79 9508      	RET
                 
                 __CBD1:
003d7a 2ffe      	MOV  R31,R30
003d7b 0fff      	ADD  R31,R31
003d7c 0bff      	SBC  R31,R31
003d7d 2f6f      	MOV  R22,R31
003d7e 2f7f      	MOV  R23,R31
003d7f 9508      	RET
                 
                 __CWD1:
003d80 2f6f      	MOV  R22,R31
003d81 0f66      	ADD  R22,R22
003d82 0b66      	SBC  R22,R22
003d83 2f76      	MOV  R23,R22
003d84 9508      	RET
                 
                 __LNEGB1:
003d85 23ee      	TST  R30
003d86 e0e1      	LDI  R30,1
003d87 f009      	BREQ __LNEGB1F
003d88 27ee      	CLR  R30
                 __LNEGB1F:
003d89 9508      	RET
                 
                 __MULW12U:
003d8a 9ffa      	MUL  R31,R26
003d8b 2df0      	MOV  R31,R0
003d8c 9feb      	MUL  R30,R27
003d8d 0df0      	ADD  R31,R0
003d8e 9fea      	MUL  R30,R26
003d8f 2de0      	MOV  R30,R0
003d90 0df1      	ADD  R31,R1
003d91 9508      	RET
                 
                 __MULD12U:
003d92 9f7a      	MUL  R23,R26
003d93 2d70      	MOV  R23,R0
003d94 9f6b      	MUL  R22,R27
003d95 0d70      	ADD  R23,R0
003d96 9ff8      	MUL  R31,R24
003d97 0d70      	ADD  R23,R0
003d98 9fe9      	MUL  R30,R25
003d99 0d70      	ADD  R23,R0
003d9a 9f6a      	MUL  R22,R26
003d9b 2d60      	MOV  R22,R0
003d9c 0d71      	ADD  R23,R1
003d9d 9ffb      	MUL  R31,R27
003d9e 0d60      	ADD  R22,R0
003d9f 1d71      	ADC  R23,R1
003da0 9fe8      	MUL  R30,R24
003da1 0d60      	ADD  R22,R0
003da2 1d71      	ADC  R23,R1
003da3 2788      	CLR  R24
003da4 9ffa      	MUL  R31,R26
003da5 2df0      	MOV  R31,R0
003da6 0d61      	ADD  R22,R1
003da7 1f78      	ADC  R23,R24
003da8 9feb      	MUL  R30,R27
003da9 0df0      	ADD  R31,R0
003daa 1d61      	ADC  R22,R1
003dab 1f78      	ADC  R23,R24
003dac 9fea      	MUL  R30,R26
003dad 2de0      	MOV  R30,R0
003dae 0df1      	ADD  R31,R1
003daf 1f68      	ADC  R22,R24
003db0 1f78      	ADC  R23,R24
003db1 9508      	RET
                 
                 __MULW12:
003db2 d079      	RCALL __CHKSIGNW
003db3 dfd6      	RCALL __MULW12U
003db4 f40e      	BRTC __MULW121
003db5 df75      	RCALL __ANEGW1
                 __MULW121:
003db6 9508      	RET
                 
                 __MULD12:
003db7 d082      	RCALL __CHKSIGND
003db8 dfd9      	RCALL __MULD12U
003db9 f40e      	BRTC __MULD121
003dba df74      	RCALL __ANEGD1
                 __MULD121:
003dbb 9508      	RET
                 
                 __DIVB21U:
003dbc 2400      	CLR  R0
003dbd e098      	LDI  R25,8
                 __DIVB21U1:
003dbe 0faa      	LSL  R26
003dbf 1c00      	ROL  R0
003dc0 1a0e      	SUB  R0,R30
003dc1 f410      	BRCC __DIVB21U2
003dc2 0e0e      	ADD  R0,R30
003dc3 c001      	RJMP __DIVB21U3
                 __DIVB21U2:
003dc4 60a1      	SBR  R26,1
                 __DIVB21U3:
003dc5 959a      	DEC  R25
003dc6 f7b9      	BRNE __DIVB21U1
003dc7 2fea      	MOV  R30,R26
003dc8 2da0      	MOV  R26,R0
003dc9 9508      	RET
                 
                 __DIVB21:
003dca d055      	RCALL __CHKSIGNB
003dcb dff0      	RCALL __DIVB21U
003dcc f40e      	BRTC __DIVB211
003dcd 95e1      	NEG  R30
                 __DIVB211:
003dce 9508      	RET
                 
                 __DIVW21U:
003dcf 2400      	CLR  R0
003dd0 2411      	CLR  R1
003dd1 e190      	LDI  R25,16
                 __DIVW21U1:
003dd2 0faa      	LSL  R26
003dd3 1fbb      	ROL  R27
003dd4 1c00      	ROL  R0
003dd5 1c11      	ROL  R1
003dd6 1a0e      	SUB  R0,R30
003dd7 0a1f      	SBC  R1,R31
003dd8 f418      	BRCC __DIVW21U2
003dd9 0e0e      	ADD  R0,R30
003dda 1e1f      	ADC  R1,R31
003ddb c001      	RJMP __DIVW21U3
                 __DIVW21U2:
003ddc 60a1      	SBR  R26,1
                 __DIVW21U3:
003ddd 959a      	DEC  R25
003dde f799      	BRNE __DIVW21U1
003ddf 01fd      	MOVW R30,R26
003de0 01d0      	MOVW R26,R0
003de1 9508      	RET
                 
                 __DIVD21U:
003de2 933f      	PUSH R19
003de3 934f      	PUSH R20
003de4 935f      	PUSH R21
003de5 2400      	CLR  R0
003de6 2411      	CLR  R1
003de7 2733      	CLR  R19
003de8 2744      	CLR  R20
003de9 e250      	LDI  R21,32
                 __DIVD21U1:
003dea 0faa      	LSL  R26
003deb 1fbb      	ROL  R27
003dec 1f88      	ROL  R24
003ded 1f99      	ROL  R25
003dee 1c00      	ROL  R0
003def 1c11      	ROL  R1
003df0 1f33      	ROL  R19
003df1 1f44      	ROL  R20
003df2 1a0e      	SUB  R0,R30
003df3 0a1f      	SBC  R1,R31
003df4 0b36      	SBC  R19,R22
003df5 0b47      	SBC  R20,R23
003df6 f428      	BRCC __DIVD21U2
003df7 0e0e      	ADD  R0,R30
003df8 1e1f      	ADC  R1,R31
003df9 1f36      	ADC  R19,R22
003dfa 1f47      	ADC  R20,R23
003dfb c001      	RJMP __DIVD21U3
                 __DIVD21U2:
003dfc 60a1      	SBR  R26,1
                 __DIVD21U3:
003dfd 955a      	DEC  R21
003dfe f759      	BRNE __DIVD21U1
003dff 01fd      	MOVW R30,R26
003e00 01bc      	MOVW R22,R24
003e01 01d0      	MOVW R26,R0
003e02 2f83      	MOV  R24,R19
003e03 2f94      	MOV  R25,R20
003e04 915f      	POP  R21
003e05 914f      	POP  R20
003e06 913f      	POP  R19
003e07 9508      	RET
                 
                 __DIVD21:
003e08 d031      	RCALL __CHKSIGND
003e09 dfd8      	RCALL __DIVD21U
003e0a f40e      	BRTC __DIVD211
003e0b df23      	RCALL __ANEGD1
                 __DIVD211:
003e0c 9508      	RET
                 
                 __MODB21:
003e0d 94e8      	CLT
003e0e ffa7      	SBRS R26,7
003e0f c002      	RJMP __MODB211
003e10 95a1      	NEG  R26
003e11 9468      	SET
                 __MODB211:
003e12 fde7      	SBRC R30,7
003e13 95e1      	NEG  R30
003e14 dfa7      	RCALL __DIVB21U
003e15 2fea      	MOV  R30,R26
003e16 f40e      	BRTC __MODB212
003e17 95e1      	NEG  R30
                 __MODB212:
003e18 9508      	RET
                 
                 __MODW21U:
003e19 dfb5      	RCALL __DIVW21U
003e1a 01fd      	MOVW R30,R26
003e1b 9508      	RET
                 
                 __MODD21U:
003e1c dfc5      	RCALL __DIVD21U
003e1d 01fd      	MOVW R30,R26
003e1e 01bc      	MOVW R22,R24
003e1f 9508      	RET
                 
                 __CHKSIGNB:
003e20 94e8      	CLT
003e21 ffe7      	SBRS R30,7
003e22 c002      	RJMP __CHKSB1
003e23 95e1      	NEG  R30
003e24 9468      	SET
                 __CHKSB1:
003e25 ffa7      	SBRS R26,7
003e26 c004      	RJMP __CHKSB2
003e27 95a1      	NEG  R26
003e28 f800      	BLD  R0,0
003e29 9403      	INC  R0
003e2a fa00      	BST  R0,0
                 __CHKSB2:
003e2b 9508      	RET
                 
                 __CHKSIGNW:
003e2c 94e8      	CLT
003e2d fff7      	SBRS R31,7
003e2e c002      	RJMP __CHKSW1
003e2f defb      	RCALL __ANEGW1
003e30 9468      	SET
                 __CHKSW1:
003e31 ffb7      	SBRS R27,7
003e32 c006      	RJMP __CHKSW2
003e33 95a0      	COM  R26
003e34 95b0      	COM  R27
003e35 9611      	ADIW R26,1
003e36 f800      	BLD  R0,0
003e37 9403      	INC  R0
003e38 fa00      	BST  R0,0
                 __CHKSW2:
003e39 9508      	RET
                 
                 __CHKSIGND:
003e3a 94e8      	CLT
003e3b ff77      	SBRS R23,7
003e3c c002      	RJMP __CHKSD1
003e3d def1      	RCALL __ANEGD1
003e3e 9468      	SET
                 __CHKSD1:
003e3f ff97      	SBRS R25,7
003e40 c00b      	RJMP __CHKSD2
003e41 2400      	CLR  R0
003e42 95a0      	COM  R26
003e43 95b0      	COM  R27
003e44 9580      	COM  R24
003e45 9590      	COM  R25
003e46 9611      	ADIW R26,1
003e47 1d80      	ADC  R24,R0
003e48 1d90      	ADC  R25,R0
003e49 f800      	BLD  R0,0
003e4a 9403      	INC  R0
003e4b fa00      	BST  R0,0
                 __CHKSD2:
003e4c 9508      	RET
                 
                 __GETW1P:
003e4d 91ed      	LD   R30,X+
003e4e 91fc      	LD   R31,X
003e4f 9711      	SBIW R26,1
003e50 9508      	RET
                 
                 __GETD1P:
003e51 91ed      	LD   R30,X+
003e52 91fd      	LD   R31,X+
003e53 916d      	LD   R22,X+
003e54 917c      	LD   R23,X
003e55 9713      	SBIW R26,3
003e56 9508      	RET
                 
                 __PUTDP1:
003e57 93ed      	ST   X+,R30
003e58 93fd      	ST   X+,R31
003e59 936d      	ST   X+,R22
003e5a 937c      	ST   X,R23
003e5b 9508      	RET
                 
                 __GETW1PF:
003e5c 9005      	LPM  R0,Z+
003e5d 91f4      	LPM  R31,Z
003e5e 2de0      	MOV  R30,R0
003e5f 9508      	RET
                 
                 __GETD1PF:
003e60 9005      	LPM  R0,Z+
003e61 9015      	LPM  R1,Z+
003e62 9165      	LPM  R22,Z+
003e63 9174      	LPM  R23,Z
003e64 01f0      	MOVW R30,R0
003e65 9508      	RET
                 
                 __PUTPARD1:
003e66 937a      	ST   -Y,R23
003e67 936a      	ST   -Y,R22
003e68 93fa      	ST   -Y,R31
003e69 93ea      	ST   -Y,R30
003e6a 9508      	RET
                 
                 __PUTPARD2:
003e6b 939a      	ST   -Y,R25
003e6c 938a      	ST   -Y,R24
003e6d 93ba      	ST   -Y,R27
003e6e 93aa      	ST   -Y,R26
003e6f 9508      	RET
                 
                 __SWAPD12:
003e70 2e18      	MOV  R1,R24
003e71 2f86      	MOV  R24,R22
003e72 2d61      	MOV  R22,R1
003e73 2e19      	MOV  R1,R25
003e74 2f97      	MOV  R25,R23
003e75 2d71      	MOV  R23,R1
                 
                 __SWAPW12:
003e76 2e1b      	MOV  R1,R27
003e77 2fbf      	MOV  R27,R31
003e78 2df1      	MOV  R31,R1
                 
                 __SWAPB12:
003e79 2e1a      	MOV  R1,R26
003e7a 2fae      	MOV  R26,R30
003e7b 2de1      	MOV  R30,R1
003e7c 9508      	RET
                 
                 __ANEGF1:
003e7d 9730      	SBIW R30,0
003e7e 4060      	SBCI R22,0
003e7f 4070      	SBCI R23,0
003e80 f009      	BREQ __ANEGF10
003e81 5870      	SUBI R23,0x80
                 __ANEGF10:
003e82 9508      	RET
                 
                 __REPACK:
003e83 e850      	LDI  R21,0x80
003e84 2757      	EOR  R21,R23
003e85 f411      	BRNE __REPACK0
003e86 935f      	PUSH R21
003e87 c0d1      	RJMP __ZERORES
                 __REPACK0:
003e88 3f5f      	CPI  R21,0xFF
003e89 f031      	BREQ __REPACK1
003e8a 0f66      	LSL  R22
003e8b 0c00      	LSL  R0
003e8c 9557      	ROR  R21
003e8d 9567      	ROR  R22
003e8e 2f75      	MOV  R23,R21
003e8f 9508      	RET
                 __REPACK1:
003e90 935f      	PUSH R21
003e91 2000      	TST  R0
003e92 f00a      	BRMI __REPACK2
003e93 c0cb      	RJMP __MAXRES
                 __REPACK2:
003e94 c0be      	RJMP __MINRES
                 
                 __UNPACK:
003e95 e850      	LDI  R21,0x80
003e96 2e19      	MOV  R1,R25
003e97 2215      	AND  R1,R21
003e98 0f88      	LSL  R24
003e99 1f99      	ROL  R25
003e9a 2795      	EOR  R25,R21
003e9b 0f55      	LSL  R21
003e9c 9587      	ROR  R24
                 
                 __UNPACK1:
003e9d e850      	LDI  R21,0x80
003e9e 2e07      	MOV  R0,R23
003e9f 2205      	AND  R0,R21
003ea0 0f66      	LSL  R22
003ea1 1f77      	ROL  R23
003ea2 2775      	EOR  R23,R21
003ea3 0f55      	LSL  R21
003ea4 9567      	ROR  R22
003ea5 9508      	RET
                 
                 __CFD1:
003ea6 935f      	PUSH R21
003ea7 dff5      	RCALL __UNPACK1
003ea8 3870      	CPI  R23,0x80
003ea9 f018      	BRLO __CFD10
003eaa 3f7f      	CPI  R23,0xFF
003eab f408      	BRCC __CFD10
003eac c0ac      	RJMP __ZERORES
                 __CFD10:
003ead e156      	LDI  R21,22
003eae 1b57      	SUB  R21,R23
003eaf f492      	BRPL __CFD11
003eb0 9551      	NEG  R21
003eb1 3058      	CPI  R21,8
003eb2 f028      	BRLO __CFD17
003eb3 efef      	SER  R30
003eb4 efff      	SER  R31
003eb5 ef6f      	SER  R22
003eb6 e77f      	LDI  R23,0x7F
003eb7 c01a      	RJMP __CFD15
                 __CFD17:
003eb8 2777      	CLR  R23
003eb9 2355      	TST  R21
003eba f0b9      	BREQ __CFD15
                 __CFD18:
003ebb 0fee      	LSL  R30
003ebc 1fff      	ROL  R31
003ebd 1f66      	ROL  R22
003ebe 1f77      	ROL  R23
003ebf 955a      	DEC  R21
003ec0 f7d1      	BRNE __CFD18
003ec1 c010      	RJMP __CFD15
                 __CFD11:
003ec2 2777      	CLR  R23
                 __CFD12:
003ec3 3058      	CPI  R21,8
003ec4 f028      	BRLO __CFD13
003ec5 2fef      	MOV  R30,R31
003ec6 2ff6      	MOV  R31,R22
003ec7 2f67      	MOV  R22,R23
003ec8 5058      	SUBI R21,8
003ec9 cff9      	RJMP __CFD12
                 __CFD13:
003eca 2355      	TST  R21
003ecb f031      	BREQ __CFD15
                 __CFD14:
003ecc 9576      	LSR  R23
003ecd 9567      	ROR  R22
003ece 95f7      	ROR  R31
003ecf 95e7      	ROR  R30
003ed0 955a      	DEC  R21
003ed1 f7d1      	BRNE __CFD14
                 __CFD15:
003ed2 2000      	TST  R0
003ed3 f40a      	BRPL __CFD16
003ed4 de5a      	RCALL __ANEGD1
                 __CFD16:
003ed5 915f      	POP  R21
003ed6 9508      	RET
                 
                 __CDF1U:
003ed7 9468      	SET
003ed8 c001      	RJMP __CDF1U0
                 __CDF1:
003ed9 94e8      	CLT
                 __CDF1U0:
003eda 9730      	SBIW R30,0
003edb 4060      	SBCI R22,0
003edc 4070      	SBCI R23,0
003edd f0b1      	BREQ __CDF10
003ede 2400      	CLR  R0
003edf f026      	BRTS __CDF11
003ee0 2377      	TST  R23
003ee1 f412      	BRPL __CDF11
003ee2 9400      	COM  R0
003ee3 de4b      	RCALL __ANEGD1
                 __CDF11:
003ee4 2e17      	MOV  R1,R23
003ee5 e17e      	LDI  R23,30
003ee6 2011      	TST  R1
                 __CDF12:
003ee7 f032      	BRMI __CDF13
003ee8 957a      	DEC  R23
003ee9 0fee      	LSL  R30
003eea 1fff      	ROL  R31
003eeb 1f66      	ROL  R22
003eec 1c11      	ROL  R1
003eed cff9      	RJMP __CDF12
                 __CDF13:
003eee 2fef      	MOV  R30,R31
003eef 2ff6      	MOV  R31,R22
003ef0 2d61      	MOV  R22,R1
003ef1 935f      	PUSH R21
003ef2 df90      	RCALL __REPACK
003ef3 915f      	POP  R21
                 __CDF10:
003ef4 9508      	RET
                 
                 __SWAPACC:
003ef5 2f5e      	MOV  R21,R30
003ef6 2fea      	MOV  R30,R26
003ef7 2fa5      	MOV  R26,R21
003ef8 2f5f      	MOV  R21,R31
003ef9 2ffb      	MOV  R31,R27
003efa 2fb5      	MOV  R27,R21
003efb 2f56      	MOV  R21,R22
003efc 2f68      	MOV  R22,R24
003efd 2f85      	MOV  R24,R21
003efe 2f57      	MOV  R21,R23
003eff 2f79      	MOV  R23,R25
003f00 2f95      	MOV  R25,R21
003f01 2d50      	MOV  R21,R0
003f02 2c01      	MOV  R0,R1
003f03 2e15      	MOV  R1,R21
003f04 9508      	RET
                 
                 __UADD12:
003f05 0fea      	ADD  R30,R26
003f06 1ffb      	ADC  R31,R27
003f07 1f68      	ADC  R22,R24
003f08 9508      	RET
                 
                 __NEGMAN1:
003f09 95e0      	COM  R30
003f0a 95f0      	COM  R31
003f0b 9560      	COM  R22
003f0c 5fef      	SUBI R30,-1
003f0d 4fff      	SBCI R31,-1
003f0e 4f6f      	SBCI R22,-1
003f0f 9508      	RET
                 
                 __SUBF12:
003f10 935f      	PUSH R21
003f11 df83      	RCALL __UNPACK
003f12 3890      	CPI  R25,0x80
003f13 f171      	BREQ __ADDF129
003f14 e850      	LDI  R21,0x80
003f15 2615      	EOR  R1,R21
                 
003f16 c004      	RJMP __ADDF120
                 
                 __ADDF12:
003f17 935f      	PUSH R21
003f18 df7c      	RCALL __UNPACK
003f19 3890      	CPI  R25,0x80
003f1a f139      	BREQ __ADDF129
                 
                 __ADDF120:
003f1b 3870      	CPI  R23,0x80
003f1c f121      	BREQ __ADDF128
                 __ADDF121:
003f1d 2f57      	MOV  R21,R23
003f1e 1b59      	SUB  R21,R25
003f1f f113      	BRVS __ADDF129
003f20 f412      	BRPL __ADDF122
003f21 dfd3      	RCALL __SWAPACC
003f22 cffa      	RJMP __ADDF121
                 __ADDF122:
003f23 3158      	CPI  R21,24
003f24 f018      	BRLO __ADDF123
003f25 27aa      	CLR  R26
003f26 27bb      	CLR  R27
003f27 2788      	CLR  R24
                 __ADDF123:
003f28 3058      	CPI  R21,8
003f29 f028      	BRLO __ADDF124
003f2a 2fab      	MOV  R26,R27
003f2b 2fb8      	MOV  R27,R24
003f2c 2788      	CLR  R24
003f2d 5058      	SUBI R21,8
003f2e cff9      	RJMP __ADDF123
                 __ADDF124:
003f2f 2355      	TST  R21
003f30 f029      	BREQ __ADDF126
                 __ADDF125:
003f31 9586      	LSR  R24
003f32 95b7      	ROR  R27
003f33 95a7      	ROR  R26
003f34 955a      	DEC  R21
003f35 f7d9      	BRNE __ADDF125
                 __ADDF126:
003f36 2d50      	MOV  R21,R0
003f37 2551      	EOR  R21,R1
003f38 f062      	BRMI __ADDF127
003f39 dfcb      	RCALL __UADD12
003f3a f438      	BRCC __ADDF129
003f3b 9567      	ROR  R22
003f3c 95f7      	ROR  R31
003f3d 95e7      	ROR  R30
003f3e 9573      	INC  R23
003f3f f413      	BRVC __ADDF129
003f40 c01e      	RJMP __MAXRES
                 __ADDF128:
003f41 dfb3      	RCALL __SWAPACC
                 __ADDF129:
003f42 df40      	RCALL __REPACK
003f43 915f      	POP  R21
003f44 9508      	RET
                 __ADDF127:
003f45 1bea      	SUB  R30,R26
003f46 0bfb      	SBC  R31,R27
003f47 0b68      	SBC  R22,R24
003f48 f081      	BREQ __ZERORES
003f49 f410      	BRCC __ADDF1210
003f4a 9400      	COM  R0
003f4b dfbd      	RCALL __NEGMAN1
                 __ADDF1210:
003f4c 2366      	TST  R22
003f4d f3a2      	BRMI __ADDF129
003f4e 0fee      	LSL  R30
003f4f 1fff      	ROL  R31
003f50 1f66      	ROL  R22
003f51 957a      	DEC  R23
003f52 f7cb      	BRVC __ADDF1210
                 
                 __MINRES:
003f53 efef      	SER  R30
003f54 efff      	SER  R31
003f55 e76f      	LDI  R22,0x7F
003f56 ef7f      	SER  R23
003f57 915f      	POP  R21
003f58 9508      	RET
                 
                 __ZERORES:
003f59 27ee      	CLR  R30
003f5a 27ff      	CLR  R31
003f5b 2766      	CLR  R22
003f5c 2777      	CLR  R23
003f5d 915f      	POP  R21
003f5e 9508      	RET
                 
                 __MAXRES:
003f5f efef      	SER  R30
003f60 efff      	SER  R31
003f61 e76f      	LDI  R22,0x7F
003f62 e77f      	LDI  R23,0x7F
003f63 915f      	POP  R21
003f64 9508      	RET
                 
                 __MULF12:
003f65 935f      	PUSH R21
003f66 df2e      	RCALL __UNPACK
003f67 3870      	CPI  R23,0x80
003f68 f381      	BREQ __ZERORES
003f69 3890      	CPI  R25,0x80
003f6a f371      	BREQ __ZERORES
003f6b 2401      	EOR  R0,R1
003f6c 9408      	SEC
003f6d 1f79      	ADC  R23,R25
003f6e f423      	BRVC __MULF124
003f6f f34c      	BRLT __ZERORES
                 __MULF125:
003f70 2000      	TST  R0
003f71 f30a      	BRMI __MINRES
003f72 cfec      	RJMP __MAXRES
                 __MULF124:
003f73 933f      	PUSH R19
003f74 934f      	PUSH R20
003f75 2411      	CLR  R1
003f76 2733      	CLR  R19
003f77 2744      	CLR  R20
003f78 2755      	CLR  R21
003f79 e198      	LDI  R25,24
                 __MULF120:
003f7a 0f33      	LSL  R19
003f7b 1f44      	ROL  R20
003f7c 1f55      	ROL  R21
003f7d 1fee      	ROL  R30
003f7e 1fff      	ROL  R31
003f7f 1f66      	ROL  R22
003f80 f430      	BRCC __MULF121
003f81 0f3a      	ADD  R19,R26
003f82 1f4b      	ADC  R20,R27
003f83 1f58      	ADC  R21,R24
003f84 1de1      	ADC  R30,R1
003f85 1df1      	ADC  R31,R1
003f86 1d61      	ADC  R22,R1
                 __MULF121:
003f87 959a      	DEC  R25
003f88 f789      	BRNE __MULF120
003f89 914f      	POP  R20
003f8a 913f      	POP  R19
003f8b 2366      	TST  R22
003f8c f02a      	BRMI __MULF122
003f8d 0f55      	LSL  R21
003f8e 1fee      	ROL  R30
003f8f 1fff      	ROL  R31
003f90 1f66      	ROL  R22
003f91 c002      	RJMP __MULF123
                 __MULF122:
003f92 9573      	INC  R23
003f93 f2e3      	BRVS __MULF125
                 __MULF123:
003f94 deee      	RCALL __REPACK
003f95 915f      	POP  R21
003f96 9508      	RET
                 
                 __DIVF21:
003f97 935f      	PUSH R21
003f98 defc      	RCALL __UNPACK
003f99 3870      	CPI  R23,0x80
003f9a f419      	BRNE __DIVF210
003f9b 2011      	TST  R1
                 __DIVF211:
003f9c f612      	BRPL __MAXRES
003f9d cfb5      	RJMP __MINRES
                 __DIVF210:
003f9e 3890      	CPI  R25,0x80
003f9f f409      	BRNE __DIVF218
                 __DIVF217:
003fa0 cfb8      	RJMP __ZERORES
                 __DIVF218:
003fa1 2401      	EOR  R0,R1
003fa2 9408      	SEC
003fa3 0b97      	SBC  R25,R23
003fa4 f41b      	BRVC __DIVF216
003fa5 f3d4      	BRLT __DIVF217
003fa6 2000      	TST  R0
003fa7 cff4      	RJMP __DIVF211
                 __DIVF216:
003fa8 2f79      	MOV  R23,R25
003fa9 9566      	LSR  R22
003faa 95f7      	ROR  R31
003fab 95e7      	ROR  R30
003fac 9586      	LSR  R24
003fad 95b7      	ROR  R27
003fae 95a7      	ROR  R26
003faf 934f      	PUSH R20
003fb0 2411      	CLR  R1
003fb1 2744      	CLR  R20
003fb2 2755      	CLR  R21
003fb3 e198      	LDI  R25,24
                 __DIVF212:
003fb4 17ae      	CP   R26,R30
003fb5 07bf      	CPC  R27,R31
003fb6 0786      	CPC  R24,R22
003fb7 f028      	BRLO __DIVF213
003fb8 1bae      	SUB  R26,R30
003fb9 0bbf      	SBC  R27,R31
003fba 0b86      	SBC  R24,R22
003fbb 9408      	SEC
003fbc c001      	RJMP __DIVF214
                 __DIVF213:
003fbd 9488      	CLC
                 __DIVF214:
003fbe 1c11      	ROL  R1
003fbf 1f44      	ROL  R20
003fc0 1f55      	ROL  R21
003fc1 1faa      	ROL  R26
003fc2 1fbb      	ROL  R27
003fc3 1f88      	ROL  R24
003fc4 959a      	DEC  R25
003fc5 f771      	BRNE __DIVF212
003fc6 2de1      	MOV  R30,R1
003fc7 2ff4      	MOV  R31,R20
003fc8 2f65      	MOV  R22,R21
003fc9 95a6      	LSR  R26
003fca 1fe9      	ADC  R30,R25
003fcb 1ff9      	ADC  R31,R25
003fcc 1f69      	ADC  R22,R25
003fcd 914f      	POP  R20
003fce 2366      	TST  R22
003fcf f02a      	BRMI __DIVF215
003fd0 0fee      	LSL  R30
003fd1 1fff      	ROL  R31
003fd2 1f66      	ROL  R22
003fd3 957a      	DEC  R23
003fd4 f25b      	BRVS __DIVF217
                 __DIVF215:
003fd5 dead      	RCALL __REPACK
003fd6 915f      	POP  R21
003fd7 9508      	RET
                 
                 __CMPF12:
003fd8 2399      	TST  R25
003fd9 f09a      	BRMI __CMPF120
003fda 2377      	TST  R23
003fdb f042      	BRMI __CMPF121
003fdc 1797      	CP   R25,R23
003fdd f048      	BRLO __CMPF122
003fde f429      	BRNE __CMPF121
003fdf 17ae      	CP   R26,R30
003fe0 07bf      	CPC  R27,R31
003fe1 0786      	CPC  R24,R22
003fe2 f020      	BRLO __CMPF122
003fe3 f031      	BREQ __CMPF123
                 __CMPF121:
003fe4 9498      	CLZ
003fe5 9488      	CLC
003fe6 9508      	RET
                 __CMPF122:
003fe7 9498      	CLZ
003fe8 9408      	SEC
003fe9 9508      	RET
                 __CMPF123:
003fea 9418      	SEZ
003feb 9488      	CLC
003fec 9508      	RET
                 __CMPF120:
003fed 2377      	TST  R23
003fee f7c2      	BRPL __CMPF122
003fef 1797      	CP   R25,R23
003ff0 f398      	BRLO __CMPF121
003ff1 f7a9      	BRNE __CMPF122
003ff2 17ea      	CP   R30,R26
003ff3 07fb      	CPC  R31,R27
003ff4 0768      	CPC  R22,R24
003ff5 f388      	BRLO __CMPF122
003ff6 f399      	BREQ __CMPF123
003ff7 cfec      	RJMP __CMPF121
                 
                 __CPD10:
003ff8 9730      	SBIW R30,0
003ff9 4060      	SBCI R22,0
003ffa 4070      	SBCI R23,0
003ffb 9508      	RET
                 
                 __CPW02:
003ffc 2400      	CLR  R0
003ffd 160a      	CP   R0,R26
003ffe 060b      	CPC  R0,R27
003fff 9508      	RET
                 
                 __CPD20:
004000 9710      	SBIW R26,0
004001 4080      	SBCI R24,0
004002 4090      	SBCI R25,0
004003 9508      	RET
                 
                 __CPD02:
004004 2400      	CLR  R0
004005 160a      	CP   R0,R26
004006 060b      	CPC  R0,R27
004007 0608      	CPC  R0,R24
004008 0609      	CPC  R0,R25
004009 9508      	RET
                 
                 __CPD12:
00400a 17ea      	CP   R30,R26
00400b 07fb      	CPC  R31,R27
00400c 0768      	CPC  R22,R24
00400d 0779      	CPC  R23,R25
00400e 9508      	RET
                 
                 __CPD21:
00400f 17ae      	CP   R26,R30
004010 07bf      	CPC  R27,R31
004011 0786      	CPC  R24,R22
004012 0797      	CPC  R25,R23
004013 9508      	RET
                 
                 __SAVELOCR6:
004014 935a      	ST   -Y,R21
                 __SAVELOCR5:
004015 934a      	ST   -Y,R20
                 __SAVELOCR4:
004016 933a      	ST   -Y,R19
                 __SAVELOCR3:
004017 932a      	ST   -Y,R18
                 __SAVELOCR2:
004018 931a      	ST   -Y,R17
004019 930a      	ST   -Y,R16
00401a 9508      	RET
                 
                 __LOADLOCR6:
00401b 815d      	LDD  R21,Y+5
                 __LOADLOCR5:
00401c 814c      	LDD  R20,Y+4
                 __LOADLOCR4:
00401d 813b      	LDD  R19,Y+3
                 __LOADLOCR3:
00401e 812a      	LDD  R18,Y+2
                 __LOADLOCR2:
00401f 8119      	LDD  R17,Y+1
004020 8108      	LD   R16,Y
004021 9508      	RET
                 
                 ;END OF CODE MARKER
                 __END_OF_CODE:


RESOURCE USE INFORMATION
------------------------

Notice:
The register and instruction counts are symbol table hit counts,
and hence implicitly used resources are not counted, eg, the
'lpm' instruction without operands implicitly uses r0 and z,
none of which are counted.

x,y,z are separate entities in the symbol table and are
counted separately from r26..r31 here.

.dseg memory usage only counts static data declared with .byte

ATmega128 register use summary:
r0 : 152 r1 :  48 r2 :   0 r3 :   0 r4 :   4 r5 :   2 r6 :  46 r7 :  14 
r8 :  14 r9 :   6 r10:   6 r11:   4 r12:   8 r13:   5 r14:  15 r15:   4 
r16: 320 r17: 257 r18: 220 r19: 151 r20: 171 r21: 155 r22: 643 r23: 596 
r24: 383 r25: 234 r26:1030 r27: 617 r28: 229 r29:   1 r30:3250 r31:1652 
x  : 249 y  :2847 z  : 113 
Registers used: 33 out of 35 (94.3%)

ATmega128 instruction use summary:
adc   :  66 add   :  58 adiw  : 307 and   :   5 andi  :  93 asr   :   0 
bclr  :   0 bld   :   4 brbc  :   0 brbs  :   0 brcc  :  11 brcs  :   1 
break :   0 breq  : 213 brge  :   5 brhc  :   0 brhs  :   0 brid  :   0 
brie  :   0 brlo  :  61 brlt  :   5 brmi  :   9 brne  : 361 brpl  :   6 
brsh  :  95 brtc  :   6 brts  :   1 brvc  :   4 brvs  :   3 bset  :   0 
bst   :   5 call  :1527 cbi   :   3 cbr   :   1 clc   :   3 clh   :   0 
cli   :   2 cln   :   0 clr   : 307 cls   :   0 clt   :   6 clv   :   0 
clz   :   2 com   :  17 cp    :  85 cpc   : 176 cpi   : 346 cpse  :   0 
dec   :  17 elpm  :   0 eor   :   7 fmul  :   0 fmuls :   0 fmulsu:   0 
icall :   0 ijmp  :   0 in    :  10 inc   :   6 jmp   : 107 ld    : 153 
ldd   :1610 ldi   :1513 lds   : 401 lpm   :  18 lsl   :  35 lsr   :  18 
mov   : 275 movw  : 337 mul   :  15 muls  :   0 mulsu :   0 neg   :   8 
nop   :   0 or    :  43 ori   :  14 out   :  36 pop   : 225 push  : 225 
rcall :  65 ret   : 369 reti  :   0 rjmp  : 608 rol   :  57 ror   :  35 
sbc   :  18 sbci  : 357 sbi   :  11 sbic  :   0 sbis  :   4 sbiw  : 134 
sbr   :   5 sbrc  :   5 sbrs  :  25 sec   :   5 seh   :   0 sei   :   1 
sen   :   0 ser   :   9 ses   :   0 set   :   5 sev   :   0 sez   :   1 
sleep :   0 spm   :   0 st    : 748 std   : 681 sts   : 276 sub   :  11 
subi  : 314 swap  :   3 tst   :  28 wdr   :   0 
Instructions used: 79 out of 112 (70.5%)

ATmega128 memory use summary [bytes]:
Segment   Begin    End      Code   Data   Used    Size   Use%
---------------------------------------------------------------
[.cseg] 0x000000 0x008044  29906   2930  32836  131072  25.1%
[.dseg] 0x000100 0x0007c9      0    713    713    4096  17.4%
[.eseg] 0x000000 0x000000      0      0      0    4096   0.0%

Assembly complete, 0 errors, 8 warnings
